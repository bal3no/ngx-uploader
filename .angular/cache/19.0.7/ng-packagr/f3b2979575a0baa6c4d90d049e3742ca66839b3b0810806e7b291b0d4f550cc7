{"modules":[{"ast":{"type":"Program","start":0,"end":3025,"body":[{"type":"ExportNamedDeclaration","start":0,"end":24,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"VariableDeclaration","start":7,"end":24,"kind":"var","declarations":[{"type":"VariableDeclarator","start":11,"end":23,"id":{"type":"Identifier","start":11,"end":23,"name":"UploadStatus"},"init":null}]}},{"type":"ExpressionStatement","start":25,"end":326,"expression":{"type":"CallExpression","start":25,"end":325,"optional":false,"callee":{"type":"FunctionExpression","start":26,"end":287,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":36,"end":48,"name":"UploadStatus"}],"body":{"type":"BlockStatement","start":50,"end":287,"body":[{"type":"ExpressionStatement","start":56,"end":106,"expression":{"type":"AssignmentExpression","start":56,"end":105,"operator":"=","left":{"type":"MemberExpression","start":56,"end":95,"computed":true,"optional":false,"object":{"type":"Identifier","start":56,"end":68,"name":"UploadStatus"},"property":{"type":"AssignmentExpression","start":69,"end":94,"operator":"=","left":{"type":"MemberExpression","start":69,"end":90,"computed":true,"optional":false,"object":{"type":"Identifier","start":69,"end":81,"name":"UploadStatus"},"property":{"type":"Literal","start":82,"end":89,"value":"Queue","raw":"\"Queue\""}},"right":{"type":"Literal","start":93,"end":94,"raw":"0","value":0}}},"right":{"type":"Literal","start":98,"end":105,"value":"Queue","raw":"\"Queue\""}}},{"type":"ExpressionStatement","start":111,"end":169,"expression":{"type":"AssignmentExpression","start":111,"end":168,"operator":"=","left":{"type":"MemberExpression","start":111,"end":154,"computed":true,"optional":false,"object":{"type":"Identifier","start":111,"end":123,"name":"UploadStatus"},"property":{"type":"AssignmentExpression","start":124,"end":153,"operator":"=","left":{"type":"MemberExpression","start":124,"end":149,"computed":true,"optional":false,"object":{"type":"Identifier","start":124,"end":136,"name":"UploadStatus"},"property":{"type":"Literal","start":137,"end":148,"value":"Uploading","raw":"\"Uploading\""}},"right":{"type":"Literal","start":152,"end":153,"raw":"1","value":1}}},"right":{"type":"Literal","start":157,"end":168,"value":"Uploading","raw":"\"Uploading\""}}},{"type":"ExpressionStatement","start":174,"end":222,"expression":{"type":"AssignmentExpression","start":174,"end":221,"operator":"=","left":{"type":"MemberExpression","start":174,"end":212,"computed":true,"optional":false,"object":{"type":"Identifier","start":174,"end":186,"name":"UploadStatus"},"property":{"type":"AssignmentExpression","start":187,"end":211,"operator":"=","left":{"type":"MemberExpression","start":187,"end":207,"computed":true,"optional":false,"object":{"type":"Identifier","start":187,"end":199,"name":"UploadStatus"},"property":{"type":"Literal","start":200,"end":206,"value":"Done","raw":"\"Done\""}},"right":{"type":"Literal","start":210,"end":211,"raw":"2","value":2}}},"right":{"type":"Literal","start":215,"end":221,"value":"Done","raw":"\"Done\""}}},{"type":"ExpressionStatement","start":227,"end":285,"expression":{"type":"AssignmentExpression","start":227,"end":284,"operator":"=","left":{"type":"MemberExpression","start":227,"end":270,"computed":true,"optional":false,"object":{"type":"Identifier","start":227,"end":239,"name":"UploadStatus"},"property":{"type":"AssignmentExpression","start":240,"end":269,"operator":"=","left":{"type":"MemberExpression","start":240,"end":265,"computed":true,"optional":false,"object":{"type":"Identifier","start":240,"end":252,"name":"UploadStatus"},"property":{"type":"Literal","start":253,"end":264,"value":"Cancelled","raw":"\"Cancelled\""}},"right":{"type":"Literal","start":268,"end":269,"raw":"3","value":3}}},"right":{"type":"Literal","start":273,"end":284,"value":"Cancelled","raw":"\"Cancelled\""}}}]},"expression":false},"arguments":[{"type":"LogicalExpression","start":289,"end":324,"operator":"||","left":{"type":"Identifier","start":289,"end":301,"name":"UploadStatus"},"right":{"type":"AssignmentExpression","start":306,"end":323,"operator":"=","left":{"type":"Identifier","start":306,"end":318,"name":"UploadStatus"},"right":{"type":"ObjectExpression","start":321,"end":323,"properties":[]}}}]}}],"_rollupRemoved":[{"end":3025,"start":327,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"export var UploadStatus;\n(function (UploadStatus) {\n    UploadStatus[UploadStatus[\"Queue\"] = 0] = \"Queue\";\n    UploadStatus[UploadStatus[\"Uploading\"] = 1] = \"Uploading\";\n    UploadStatus[UploadStatus[\"Done\"] = 2] = \"Done\";\n    UploadStatus[UploadStatus[\"Cancelled\"] = 3] = \"Cancelled\";\n})(UploadStatus || (UploadStatus = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL2ludGVyZmFjZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBYUEsTUFBTSxDQUFOLElBQVksWUFLWDtBQUxELFdBQVksWUFBWTtJQUN0QixpREFBSyxDQUFBO0lBQ0wseURBQVMsQ0FBQTtJQUNULCtDQUFJLENBQUE7SUFDSix5REFBUyxDQUFBO0FBQ1gsQ0FBQyxFQUxXLFlBQVksS0FBWixZQUFZLFFBS3ZCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkZXJPcHRpb25zIHtcbiAgY29uY3VycmVuY3k6IG51bWJlcjtcbiAgYWxsb3dlZENvbnRlbnRUeXBlcz86IHN0cmluZ1tdO1xuICBtYXhVcGxvYWRzPzogbnVtYmVyO1xuICBtYXhGaWxlU2l6ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbG9iRmlsZSBleHRlbmRzIEJsb2Ige1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIFVwbG9hZFN0YXR1cyB7XG4gIFF1ZXVlLFxuICBVcGxvYWRpbmcsXG4gIERvbmUsXG4gIENhbmNlbGxlZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZFByb2dyZXNzIHtcbiAgc3RhdHVzOiBVcGxvYWRTdGF0dXM7XG4gIGRhdGE/OiB7XG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xuICAgIHNwZWVkOiBudW1iZXI7XG4gICAgc3BlZWRIdW1hbjogc3RyaW5nO1xuICAgIHN0YXJ0VGltZTogbnVtYmVyIHwgbnVsbDtcbiAgICBlbmRUaW1lOiBudW1iZXIgfCBudWxsO1xuICAgIGV0YTogbnVtYmVyIHwgbnVsbDtcbiAgICBldGFIdW1hbjogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRGaWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgZmlsZUluZGV4OiBudW1iZXI7XG4gIGxhc3RNb2RpZmllZERhdGU6IERhdGU7XG4gIG5hbWU6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICB0eXBlOiBzdHJpbmc7XG4gIGZvcm06IEZvcm1EYXRhO1xuICBwcm9ncmVzczogVXBsb2FkUHJvZ3Jlc3M7XG4gIHJlc3BvbnNlPzogYW55O1xuICByZXNwb25zZVN0YXR1cz86IG51bWJlcjtcbiAgc3ViPzogU3Vic2NyaXB0aW9uIHwgYW55O1xuICBuYXRpdmVGaWxlPzogRmlsZTtcbiAgcmVzcG9uc2VIZWFkZXJzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRPdXRwdXQge1xuICB0eXBlOiAnYWRkZWRUb1F1ZXVlJyB8ICdhbGxBZGRlZFRvUXVldWUnIHwgJ3VwbG9hZGluZycgfCAnZG9uZScgfCAnc3RhcnQnIHwgJ2NhbmNlbGxlZCcgfCAnZHJhZ092ZXInXG4gICAgICB8ICdkcmFnT3V0JyB8ICdkcm9wJyB8ICdyZW1vdmVkJyB8ICdyZW1vdmVkQWxsJyB8ICdyZWplY3RlZCc7XG4gIGZpbGU/OiBVcGxvYWRGaWxlO1xuICBuYXRpdmVGaWxlPzogRmlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRJbnB1dCB7XG4gIHR5cGU6ICd1cGxvYWRBbGwnIHwgJ3VwbG9hZEZpbGUnIHwgJ2NhbmNlbCcgfCAnY2FuY2VsQWxsJyB8ICdyZW1vdmUnIHwgJ3JlbW92ZUFsbCc7XG4gIHVybD86IHN0cmluZztcbiAgbWV0aG9kPzogc3RyaW5nO1xuICBpZD86IHN0cmluZztcbiAgZmllbGROYW1lPzogc3RyaW5nO1xuICBmaWxlSW5kZXg/OiBudW1iZXI7XG4gIGZpbGU/OiBVcGxvYWRGaWxlO1xuICBkYXRhPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBCbG9iIH07XG4gIGhlYWRlcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICBpbmNsdWRlV2ViS2l0Rm9ybUJvdW5kYXJ5PzogYm9vbGVhbjsgLy8gSWYgZmFsc2UsIG9ubHkgdGhlIGZpbGUgaXMgc2VuZCB0cm91Z2ggeGhyLnNlbmQgKFdlYktpdEZvcm1Cb3VuZGFyeSBpcyBvbWl0KVxuICB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuO1xufVxuIl19","customTransformCache":false,"dependencies":[],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/interfaces.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export var UploadStatus;\n(function (UploadStatus) {\n    UploadStatus[UploadStatus[\"Queue\"] = 0] = \"Queue\";\n    UploadStatus[UploadStatus[\"Uploading\"] = 1] = \"Uploading\";\n    UploadStatus[UploadStatus[\"Done\"] = 2] = \"Done\";\n    UploadStatus[UploadStatus[\"Cancelled\"] = 3] = \"Cancelled\";\n})(UploadStatus || (UploadStatus = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL2ludGVyZmFjZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBYUEsTUFBTSxDQUFOLElBQVksWUFLWDtBQUxELFdBQVksWUFBWTtJQUN0QixpREFBSyxDQUFBO0lBQ0wseURBQVMsQ0FBQTtJQUNULCtDQUFJLENBQUE7SUFDSix5REFBUyxDQUFBO0FBQ1gsQ0FBQyxFQUxXLFlBQVksS0FBWixZQUFZLFFBS3ZCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkZXJPcHRpb25zIHtcbiAgY29uY3VycmVuY3k6IG51bWJlcjtcbiAgYWxsb3dlZENvbnRlbnRUeXBlcz86IHN0cmluZ1tdO1xuICBtYXhVcGxvYWRzPzogbnVtYmVyO1xuICBtYXhGaWxlU2l6ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCbG9iRmlsZSBleHRlbmRzIEJsb2Ige1xuICBuYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIFVwbG9hZFN0YXR1cyB7XG4gIFF1ZXVlLFxuICBVcGxvYWRpbmcsXG4gIERvbmUsXG4gIENhbmNlbGxlZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZFByb2dyZXNzIHtcbiAgc3RhdHVzOiBVcGxvYWRTdGF0dXM7XG4gIGRhdGE/OiB7XG4gICAgcGVyY2VudGFnZTogbnVtYmVyO1xuICAgIHNwZWVkOiBudW1iZXI7XG4gICAgc3BlZWRIdW1hbjogc3RyaW5nO1xuICAgIHN0YXJ0VGltZTogbnVtYmVyIHwgbnVsbDtcbiAgICBlbmRUaW1lOiBudW1iZXIgfCBudWxsO1xuICAgIGV0YTogbnVtYmVyIHwgbnVsbDtcbiAgICBldGFIdW1hbjogc3RyaW5nIHwgbnVsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRGaWxlIHtcbiAgaWQ6IHN0cmluZztcbiAgZmlsZUluZGV4OiBudW1iZXI7XG4gIGxhc3RNb2RpZmllZERhdGU6IERhdGU7XG4gIG5hbWU6IHN0cmluZztcbiAgc2l6ZTogbnVtYmVyO1xuICB0eXBlOiBzdHJpbmc7XG4gIGZvcm06IEZvcm1EYXRhO1xuICBwcm9ncmVzczogVXBsb2FkUHJvZ3Jlc3M7XG4gIHJlc3BvbnNlPzogYW55O1xuICByZXNwb25zZVN0YXR1cz86IG51bWJlcjtcbiAgc3ViPzogU3Vic2NyaXB0aW9uIHwgYW55O1xuICBuYXRpdmVGaWxlPzogRmlsZTtcbiAgcmVzcG9uc2VIZWFkZXJzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRPdXRwdXQge1xuICB0eXBlOiAnYWRkZWRUb1F1ZXVlJyB8ICdhbGxBZGRlZFRvUXVldWUnIHwgJ3VwbG9hZGluZycgfCAnZG9uZScgfCAnc3RhcnQnIHwgJ2NhbmNlbGxlZCcgfCAnZHJhZ092ZXInXG4gICAgICB8ICdkcmFnT3V0JyB8ICdkcm9wJyB8ICdyZW1vdmVkJyB8ICdyZW1vdmVkQWxsJyB8ICdyZWplY3RlZCc7XG4gIGZpbGU/OiBVcGxvYWRGaWxlO1xuICBuYXRpdmVGaWxlPzogRmlsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGxvYWRJbnB1dCB7XG4gIHR5cGU6ICd1cGxvYWRBbGwnIHwgJ3VwbG9hZEZpbGUnIHwgJ2NhbmNlbCcgfCAnY2FuY2VsQWxsJyB8ICdyZW1vdmUnIHwgJ3JlbW92ZUFsbCc7XG4gIHVybD86IHN0cmluZztcbiAgbWV0aG9kPzogc3RyaW5nO1xuICBpZD86IHN0cmluZztcbiAgZmllbGROYW1lPzogc3RyaW5nO1xuICBmaWxlSW5kZXg/OiBudW1iZXI7XG4gIGZpbGU/OiBVcGxvYWRGaWxlO1xuICBkYXRhPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBCbG9iIH07XG4gIGhlYWRlcnM/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICBpbmNsdWRlV2ViS2l0Rm9ybUJvdW5kYXJ5PzogYm9vbGVhbjsgLy8gSWYgZmFsc2UsIG9ubHkgdGhlIGZpbGUgaXMgc2VuZCB0cm91Z2ggeGhyLnNlbmQgKFdlYktpdEZvcm1Cb3VuZGFyeSBpcyBvbWl0KVxuICB3aXRoQ3JlZGVudGlhbHM/OiBib29sZWFuO1xufVxuIl19","originalSourcemap":{"version":3,"file":"interfaces.js","sourceRoot":"","sources":["../../../../projects/ngx-uploader/src/lib/interfaces.ts"],"names":[],"mappings":[[[0,0,13,0],[6,0,13,6],[7,0,13,0],[11,0,13,12],[23,0,18,1]],[[0,0,13,0],[11,0,13,12],[23,0,13,24]],[[4,0,14,2],[53,0,14,7],[54,0,14,7]],[[4,0,15,2],[61,0,15,11],[62,0,15,11]],[[4,0,16,2],[51,0,16,6],[52,0,16,6]],[[4,0,17,2],[61,0,17,11],[62,0,17,11]],[[0,0,18,0],[1,0,18,1],[3,0,13,12],[15,0,13,24],[20,0,13,12],[32,0,13,24],[40,0,18,1]]],"sourcesContent":["import { Subscription } from 'rxjs';\n\nexport interface UploaderOptions {\n  concurrency: number;\n  allowedContentTypes?: string[];\n  maxUploads?: number;\n  maxFileSize?: number;\n}\n\nexport interface BlobFile extends Blob {\n  name: string;\n}\n\nexport enum UploadStatus {\n  Queue,\n  Uploading,\n  Done,\n  Cancelled\n}\n\nexport interface UploadProgress {\n  status: UploadStatus;\n  data?: {\n    percentage: number;\n    speed: number;\n    speedHuman: string;\n    startTime: number | null;\n    endTime: number | null;\n    eta: number | null;\n    etaHuman: string | null;\n  };\n}\n\nexport interface UploadFile {\n  id: string;\n  fileIndex: number;\n  lastModifiedDate: Date;\n  name: string;\n  size: number;\n  type: string;\n  form: FormData;\n  progress: UploadProgress;\n  response?: any;\n  responseStatus?: number;\n  sub?: Subscription | any;\n  nativeFile?: File;\n  responseHeaders?: { [key: string]: string };\n}\n\nexport interface UploadOutput {\n  type: 'addedToQueue' | 'allAddedToQueue' | 'uploading' | 'done' | 'start' | 'cancelled' | 'dragOver'\n      | 'dragOut' | 'drop' | 'removed' | 'removedAll' | 'rejected';\n  file?: UploadFile;\n  nativeFile?: File;\n}\n\nexport interface UploadInput {\n  type: 'uploadAll' | 'uploadFile' | 'cancel' | 'cancelAll' | 'remove' | 'removeAll';\n  url?: string;\n  method?: string;\n  id?: string;\n  fieldName?: string;\n  fileIndex?: number;\n  file?: UploadFile;\n  data?: { [key: string]: string | Blob };\n  headers?: { [key: string]: string };\n  includeWebKitFormBoundary?: boolean; // If false, only the file is send trough xhr.send (WebKitFormBoundary is omit)\n  withCredentials?: boolean;\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":43892,"body":[{"type":"ImportDeclaration","start":0,"end":45,"specifiers":[{"type":"ImportSpecifier","start":9,"end":21,"imported":{"type":"Identifier","start":9,"end":21,"name":"EventEmitter"},"local":{"type":"Identifier","start":9,"end":21,"name":"EventEmitter"}}],"source":{"type":"Literal","start":29,"end":44,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":46,"end":89,"specifiers":[{"type":"ImportSpecifier","start":55,"end":65,"imported":{"type":"Identifier","start":55,"end":65,"name":"Observable"},"local":{"type":"Identifier","start":55,"end":65,"name":"Observable"}},{"type":"ImportSpecifier","start":67,"end":74,"imported":{"type":"Identifier","start":67,"end":74,"name":"Subject"},"local":{"type":"Identifier","start":67,"end":74,"name":"Subject"}}],"source":{"type":"Literal","start":82,"end":88,"value":"rxjs","raw":"'rxjs'"},"attributes":[]},{"type":"ImportDeclaration","start":90,"end":142,"specifiers":[{"type":"ImportSpecifier","start":99,"end":107,"imported":{"type":"Identifier","start":99,"end":107,"name":"mergeMap"},"local":{"type":"Identifier","start":99,"end":107,"name":"mergeMap"}},{"type":"ImportSpecifier","start":109,"end":117,"imported":{"type":"Identifier","start":109,"end":117,"name":"finalize"},"local":{"type":"Identifier","start":109,"end":117,"name":"finalize"}}],"source":{"type":"Literal","start":125,"end":141,"value":"rxjs/operators","raw":"'rxjs/operators'"},"attributes":[]},{"type":"ImportDeclaration","start":143,"end":187,"specifiers":[{"type":"ImportSpecifier","start":152,"end":164,"imported":{"type":"Identifier","start":152,"end":164,"name":"UploadStatus"},"local":{"type":"Identifier","start":152,"end":164,"name":"UploadStatus"}}],"source":{"type":"Literal","start":172,"end":186,"value":"./interfaces","raw":"'./interfaces'"},"attributes":[]},{"type":"ExportNamedDeclaration","start":188,"end":495,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"FunctionDeclaration","start":195,"end":495,"async":false,"generator":false,"id":{"type":"Identifier","start":204,"end":217,"name":"humanizeBytes"},"params":[{"type":"Identifier","start":218,"end":223,"name":"bytes"}],"body":{"type":"BlockStatement","start":225,"end":495,"body":[{"type":"IfStatement","start":231,"end":280,"test":{"type":"BinaryExpression","start":235,"end":246,"operator":"===","left":{"type":"Identifier","start":235,"end":240,"name":"bytes"},"right":{"type":"Literal","start":245,"end":246,"raw":"0","value":0}},"consequent":{"type":"BlockStatement","start":248,"end":280,"body":[{"type":"ReturnStatement","start":258,"end":274,"argument":{"type":"Literal","start":265,"end":273,"value":"0 Byte","raw":"'0 Byte'"}}]},"alternate":null},{"type":"VariableDeclaration","start":285,"end":300,"kind":"const","declarations":[{"type":"VariableDeclarator","start":291,"end":299,"id":{"type":"Identifier","start":291,"end":292,"name":"k"},"init":{"type":"Literal","start":295,"end":299,"raw":"1024","value":1024}}]},{"type":"VariableDeclaration","start":305,"end":359,"kind":"const","declarations":[{"type":"VariableDeclarator","start":311,"end":358,"id":{"type":"Identifier","start":311,"end":316,"name":"sizes"},"init":{"type":"ArrayExpression","start":319,"end":358,"elements":[{"type":"Literal","start":320,"end":327,"value":"Bytes","raw":"'Bytes'"},{"type":"Literal","start":329,"end":333,"value":"KB","raw":"'KB'"},{"type":"Literal","start":335,"end":339,"value":"MB","raw":"'MB'"},{"type":"Literal","start":341,"end":345,"value":"GB","raw":"'GB'"},{"type":"Literal","start":347,"end":351,"value":"TB","raw":"'TB'"},{"type":"Literal","start":353,"end":357,"value":"PB","raw":"'PB'"}]}}]},{"type":"VariableDeclaration","start":364,"end":416,"kind":"const","declarations":[{"type":"VariableDeclarator","start":370,"end":415,"id":{"type":"Identifier","start":370,"end":371,"name":"i"},"init":{"type":"CallExpression","start":374,"end":415,"optional":false,"callee":{"type":"MemberExpression","start":374,"end":384,"computed":false,"optional":false,"object":{"type":"Identifier","start":374,"end":378,"name":"Math"},"property":{"type":"Identifier","start":379,"end":384,"name":"floor"}},"arguments":[{"type":"BinaryExpression","start":385,"end":414,"operator":"/","left":{"type":"CallExpression","start":385,"end":400,"optional":false,"callee":{"type":"MemberExpression","start":385,"end":393,"computed":false,"optional":false,"object":{"type":"Identifier","start":385,"end":389,"name":"Math"},"property":{"type":"Identifier","start":390,"end":393,"name":"log"}},"arguments":[{"type":"Identifier","start":394,"end":399,"name":"bytes"}]},"right":{"type":"CallExpression","start":403,"end":414,"optional":false,"callee":{"type":"MemberExpression","start":403,"end":411,"computed":false,"optional":false,"object":{"type":"Identifier","start":403,"end":407,"name":"Math"},"property":{"type":"Identifier","start":408,"end":411,"name":"log"}},"arguments":[{"type":"Identifier","start":412,"end":413,"name":"k"}]}}]}}]},{"type":"ReturnStatement","start":421,"end":493,"argument":{"type":"BinaryExpression","start":428,"end":492,"operator":"+","left":{"type":"BinaryExpression","start":428,"end":481,"operator":"+","left":{"type":"CallExpression","start":428,"end":475,"optional":false,"callee":{"type":"Identifier","start":428,"end":438,"name":"parseFloat"},"arguments":[{"type":"CallExpression","start":439,"end":474,"optional":false,"callee":{"type":"MemberExpression","start":439,"end":471,"computed":false,"optional":false,"object":{"type":"BinaryExpression","start":440,"end":462,"operator":"/","left":{"type":"Identifier","start":440,"end":445,"name":"bytes"},"right":{"type":"CallExpression","start":448,"end":462,"optional":false,"callee":{"type":"MemberExpression","start":448,"end":456,"computed":false,"optional":false,"object":{"type":"Identifier","start":448,"end":452,"name":"Math"},"property":{"type":"Identifier","start":453,"end":456,"name":"pow"}},"arguments":[{"type":"Identifier","start":457,"end":458,"name":"k"},{"type":"Identifier","start":460,"end":461,"name":"i"}]}},"property":{"type":"Identifier","start":464,"end":471,"name":"toFixed"}},"arguments":[{"type":"Literal","start":472,"end":473,"raw":"2","value":2}]}]},"right":{"type":"Literal","start":478,"end":481,"value":" ","raw":"' '"}},"right":{"type":"MemberExpression","start":484,"end":492,"computed":true,"optional":false,"object":{"type":"Identifier","start":484,"end":489,"name":"sizes"},"property":{"type":"Identifier","start":490,"end":491,"name":"i"}}}}]},"expression":false}},{"type":"ExportNamedDeclaration","start":496,"end":12205,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":503,"end":12205,"decorators":[],"id":{"type":"Identifier","start":509,"end":526,"name":"NgUploaderService"},"superClass":null,"body":{"type":"ClassBody","start":527,"end":12205,"body":[{"type":"PropertyDefinition","start":533,"end":539,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":533,"end":538,"name":"queue"},"value":null},{"type":"PropertyDefinition","start":544,"end":558,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":544,"end":557,"name":"serviceEvents"},"value":null},{"type":"PropertyDefinition","start":563,"end":579,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":563,"end":578,"name":"uploadScheduler"},"value":null},{"type":"PropertyDefinition","start":584,"end":589,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":584,"end":588,"name":"subs"},"value":null},{"type":"PropertyDefinition","start":594,"end":607,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":594,"end":606,"name":"contentTypes"},"value":null},{"type":"PropertyDefinition","start":612,"end":623,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":612,"end":622,"name":"maxUploads"},"value":null},{"type":"PropertyDefinition","start":628,"end":640,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":628,"end":639,"name":"maxFileSize"},"value":null},{"type":"MethodDefinition","start":645,"end":1254,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":645,"end":656,"name":"constructor"},"value":{"type":"FunctionExpression","start":656,"end":1254,"async":false,"generator":false,"id":null,"params":[{"type":"AssignmentPattern","start":657,"end":695,"left":{"type":"Identifier","start":657,"end":668,"name":"concurrency"},"right":{"type":"MemberExpression","start":671,"end":695,"computed":false,"optional":false,"object":{"type":"Identifier","start":671,"end":677,"name":"Number"},"property":{"type":"Identifier","start":678,"end":695,"name":"POSITIVE_INFINITY"}}},{"type":"AssignmentPattern","start":697,"end":717,"left":{"type":"Identifier","start":697,"end":709,"name":"contentTypes"},"right":{"type":"ArrayExpression","start":712,"end":717,"elements":[{"type":"Literal","start":713,"end":716,"value":"*","raw":"'*'"}]}},{"type":"AssignmentPattern","start":719,"end":756,"left":{"type":"Identifier","start":719,"end":729,"name":"maxUploads"},"right":{"type":"MemberExpression","start":732,"end":756,"computed":false,"optional":false,"object":{"type":"Identifier","start":732,"end":738,"name":"Number"},"property":{"type":"Identifier","start":739,"end":756,"name":"POSITIVE_INFINITY"}}},{"type":"AssignmentPattern","start":758,"end":796,"left":{"type":"Identifier","start":758,"end":769,"name":"maxFileSize"},"right":{"type":"MemberExpression","start":772,"end":796,"computed":false,"optional":false,"object":{"type":"Identifier","start":772,"end":778,"name":"Number"},"property":{"type":"Identifier","start":779,"end":796,"name":"POSITIVE_INFINITY"}}}],"body":{"type":"BlockStatement","start":798,"end":1254,"body":[{"type":"ExpressionStatement","start":808,"end":824,"expression":{"type":"AssignmentExpression","start":808,"end":823,"operator":"=","left":{"type":"MemberExpression","start":808,"end":818,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":808,"end":812},"property":{"type":"Identifier","start":813,"end":818,"name":"queue"}},"right":{"type":"ArrayExpression","start":821,"end":823,"elements":[]}}},{"type":"ExpressionStatement","start":833,"end":873,"expression":{"type":"AssignmentExpression","start":833,"end":872,"operator":"=","left":{"type":"MemberExpression","start":833,"end":851,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":833,"end":837},"property":{"type":"Identifier","start":838,"end":851,"name":"serviceEvents"}},"right":{"type":"NewExpression","start":854,"end":872,"callee":{"type":"Identifier","start":858,"end":870,"name":"EventEmitter"},"arguments":[]}}},{"type":"ExpressionStatement","start":882,"end":919,"expression":{"type":"AssignmentExpression","start":882,"end":918,"operator":"=","left":{"type":"MemberExpression","start":882,"end":902,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":882,"end":886},"property":{"type":"Identifier","start":887,"end":902,"name":"uploadScheduler"}},"right":{"type":"NewExpression","start":905,"end":918,"callee":{"type":"Identifier","start":909,"end":916,"name":"Subject"},"arguments":[]}}},{"type":"ExpressionStatement","start":928,"end":943,"expression":{"type":"AssignmentExpression","start":928,"end":942,"operator":"=","left":{"type":"MemberExpression","start":928,"end":937,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":928,"end":932},"property":{"type":"Identifier","start":933,"end":937,"name":"subs"}},"right":{"type":"ArrayExpression","start":940,"end":942,"elements":[]}}},{"type":"ExpressionStatement","start":952,"end":985,"expression":{"type":"AssignmentExpression","start":952,"end":984,"operator":"=","left":{"type":"MemberExpression","start":952,"end":969,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":952,"end":956},"property":{"type":"Identifier","start":957,"end":969,"name":"contentTypes"}},"right":{"type":"Identifier","start":972,"end":984,"name":"contentTypes"}}},{"type":"ExpressionStatement","start":994,"end":1023,"expression":{"type":"AssignmentExpression","start":994,"end":1022,"operator":"=","left":{"type":"MemberExpression","start":994,"end":1009,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":994,"end":998},"property":{"type":"Identifier","start":999,"end":1009,"name":"maxUploads"}},"right":{"type":"Identifier","start":1012,"end":1022,"name":"maxUploads"}}},{"type":"ExpressionStatement","start":1032,"end":1063,"expression":{"type":"AssignmentExpression","start":1032,"end":1062,"operator":"=","left":{"type":"MemberExpression","start":1032,"end":1048,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1032,"end":1036},"property":{"type":"Identifier","start":1037,"end":1048,"name":"maxFileSize"}},"right":{"type":"Identifier","start":1051,"end":1062,"name":"maxFileSize"}}},{"type":"ExpressionStatement","start":1072,"end":1248,"expression":{"type":"CallExpression","start":1072,"end":1247,"optional":false,"callee":{"type":"MemberExpression","start":1072,"end":1192,"computed":false,"optional":false,"object":{"type":"CallExpression","start":1072,"end":1169,"optional":false,"callee":{"type":"MemberExpression","start":1072,"end":1110,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1072,"end":1092,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1072,"end":1076},"property":{"type":"Identifier","start":1077,"end":1092,"name":"uploadScheduler"}},"property":{"type":"Identifier","start":1106,"end":1110,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":1111,"end":1168,"optional":false,"callee":{"type":"Identifier","start":1111,"end":1119,"name":"mergeMap"},"arguments":[{"type":"ArrowFunctionExpression","start":1120,"end":1154,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1120,"end":1126,"name":"upload"}],"body":{"type":"CallExpression","start":1130,"end":1154,"optional":false,"callee":{"type":"MemberExpression","start":1130,"end":1146,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1130,"end":1134},"property":{"type":"Identifier","start":1135,"end":1146,"name":"startUpload"}},"arguments":[{"type":"Identifier","start":1147,"end":1153,"name":"upload"}]},"id":null},{"type":"Identifier","start":1156,"end":1167,"name":"concurrency"}]}]},"property":{"type":"Identifier","start":1183,"end":1192,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":1193,"end":1246,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1193,"end":1205,"name":"uploadOutput"}],"body":{"type":"CallExpression","start":1209,"end":1246,"optional":false,"callee":{"type":"MemberExpression","start":1209,"end":1232,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1209,"end":1227,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1209,"end":1213},"property":{"type":"Identifier","start":1214,"end":1227,"name":"serviceEvents"}},"property":{"type":"Identifier","start":1228,"end":1232,"name":"emit"}},"arguments":[{"type":"Identifier","start":1233,"end":1245,"name":"uploadOutput"}]},"id":null}]}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":1259,"end":2245,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1259,"end":1270,"name":"handleFiles"},"value":{"type":"FunctionExpression","start":1270,"end":2245,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1271,"end":1284,"name":"incomingFiles"}],"body":{"type":"BlockStatement","start":1286,"end":2245,"body":[{"type":"VariableDeclaration","start":1296,"end":1915,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1302,"end":1914,"id":{"type":"Identifier","start":1302,"end":1322,"name":"allowedIncomingFiles"},"init":{"type":"CallExpression","start":1325,"end":1914,"optional":false,"callee":{"type":"MemberExpression","start":1325,"end":1339,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1325,"end":1334,"computed":false,"optional":false,"object":{"type":"ArrayExpression","start":1325,"end":1327,"elements":[]},"property":{"type":"Identifier","start":1328,"end":1334,"name":"reduce"}},"property":{"type":"Identifier","start":1335,"end":1339,"name":"call"}},"arguments":[{"type":"Identifier","start":1340,"end":1353,"name":"incomingFiles"},{"type":"ArrowFunctionExpression","start":1355,"end":1909,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1356,"end":1359,"name":"acc"},{"type":"Identifier","start":1361,"end":1370,"name":"checkFile"},{"type":"Identifier","start":1372,"end":1373,"name":"i"}],"body":{"type":"BlockStatement","start":1378,"end":1909,"body":[{"type":"VariableDeclaration","start":1392,"end":1453,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1398,"end":1452,"id":{"type":"Identifier","start":1398,"end":1415,"name":"futureQueueLength"},"init":{"type":"BinaryExpression","start":1418,"end":1452,"operator":"+","left":{"type":"BinaryExpression","start":1418,"end":1448,"operator":"+","left":{"type":"MemberExpression","start":1418,"end":1428,"computed":false,"optional":false,"object":{"type":"Identifier","start":1418,"end":1421,"name":"acc"},"property":{"type":"Identifier","start":1422,"end":1428,"name":"length"}},"right":{"type":"MemberExpression","start":1431,"end":1448,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1431,"end":1441,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1431,"end":1435},"property":{"type":"Identifier","start":1436,"end":1441,"name":"queue"}},"property":{"type":"Identifier","start":1442,"end":1448,"name":"length"}}},"right":{"type":"Literal","start":1451,"end":1452,"raw":"1","value":1}}}]},{"type":"IfStatement","start":1466,"end":1875,"test":{"type":"LogicalExpression","start":1470,"end":1625,"operator":"&&","left":{"type":"LogicalExpression","start":1470,"end":1567,"operator":"&&","left":{"type":"CallExpression","start":1470,"end":1511,"optional":false,"callee":{"type":"MemberExpression","start":1470,"end":1495,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1470,"end":1474},"property":{"type":"Identifier","start":1475,"end":1495,"name":"isContentTypeAllowed"}},"arguments":[{"type":"MemberExpression","start":1496,"end":1510,"computed":false,"optional":false,"object":{"type":"Identifier","start":1496,"end":1505,"name":"checkFile"},"property":{"type":"Identifier","start":1506,"end":1510,"name":"type"}}]},"right":{"type":"BinaryExpression","start":1531,"end":1567,"operator":"<=","left":{"type":"Identifier","start":1531,"end":1548,"name":"futureQueueLength"},"right":{"type":"MemberExpression","start":1552,"end":1567,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1552,"end":1556},"property":{"type":"Identifier","start":1557,"end":1567,"name":"maxUploads"}}}},"right":{"type":"CallExpression","start":1587,"end":1625,"optional":false,"callee":{"type":"MemberExpression","start":1587,"end":1609,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1587,"end":1591},"property":{"type":"Identifier","start":1592,"end":1609,"name":"isFileSizeAllowed"}},"arguments":[{"type":"MemberExpression","start":1610,"end":1624,"computed":false,"optional":false,"object":{"type":"Identifier","start":1610,"end":1619,"name":"checkFile"},"property":{"type":"Identifier","start":1620,"end":1624,"name":"size"}}]}},"consequent":{"type":"BlockStatement","start":1627,"end":1687,"body":[{"type":"ExpressionStatement","start":1645,"end":1673,"expression":{"type":"AssignmentExpression","start":1645,"end":1672,"operator":"=","left":{"type":"Identifier","start":1645,"end":1648,"name":"acc"},"right":{"type":"CallExpression","start":1651,"end":1672,"optional":false,"callee":{"type":"MemberExpression","start":1651,"end":1661,"computed":false,"optional":false,"object":{"type":"Identifier","start":1651,"end":1654,"name":"acc"},"property":{"type":"Identifier","start":1655,"end":1661,"name":"concat"}},"arguments":[{"type":"Identifier","start":1662,"end":1671,"name":"checkFile"}]}}}]},"alternate":{"type":"BlockStatement","start":1705,"end":1875,"body":[{"type":"VariableDeclaration","start":1723,"end":1778,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1729,"end":1777,"id":{"type":"Identifier","start":1729,"end":1741,"name":"rejectedFile"},"init":{"type":"CallExpression","start":1744,"end":1777,"optional":false,"callee":{"type":"MemberExpression","start":1744,"end":1763,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1744,"end":1748},"property":{"type":"Identifier","start":1749,"end":1763,"name":"makeUploadFile"}},"arguments":[{"type":"Identifier","start":1764,"end":1773,"name":"checkFile"},{"type":"Identifier","start":1775,"end":1776,"name":"i"}]}}]},{"type":"ExpressionStatement","start":1795,"end":1861,"expression":{"type":"CallExpression","start":1795,"end":1860,"optional":false,"callee":{"type":"MemberExpression","start":1795,"end":1818,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1795,"end":1813,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1795,"end":1799},"property":{"type":"Identifier","start":1800,"end":1813,"name":"serviceEvents"}},"property":{"type":"Identifier","start":1814,"end":1818,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":1819,"end":1859,"properties":[{"type":"Property","start":1821,"end":1837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1821,"end":1825,"name":"type"},"value":{"type":"Literal","start":1827,"end":1837,"value":"rejected","raw":"'rejected'"},"kind":"init"},{"type":"Property","start":1839,"end":1857,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1839,"end":1843,"name":"file"},"value":{"type":"Identifier","start":1845,"end":1857,"name":"rejectedFile"},"kind":"init"}]}]}}]}},{"type":"ReturnStatement","start":1888,"end":1899,"argument":{"type":"Identifier","start":1895,"end":1898,"name":"acc"}}]},"id":null},{"type":"ArrayExpression","start":1911,"end":1913,"elements":[]}]}}]},{"type":"ExpressionStatement","start":1924,"end":2177,"expression":{"type":"CallExpression","start":1924,"end":2176,"optional":false,"callee":{"type":"MemberExpression","start":1924,"end":1939,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1924,"end":1934,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1924,"end":1928},"property":{"type":"Identifier","start":1929,"end":1934,"name":"queue"}},"property":{"type":"Identifier","start":1935,"end":1939,"name":"push"}},"arguments":[{"type":"SpreadElement","start":1940,"end":2175,"argument":{"type":"CallExpression","start":1943,"end":2175,"optional":false,"callee":{"type":"MemberExpression","start":1943,"end":1954,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1943,"end":1949,"computed":false,"optional":false,"object":{"type":"ArrayExpression","start":1943,"end":1945,"elements":[]},"property":{"type":"Identifier","start":1946,"end":1949,"name":"map"}},"property":{"type":"Identifier","start":1950,"end":1954,"name":"call"}},"arguments":[{"type":"Identifier","start":1955,"end":1975,"name":"allowedIncomingFiles"},{"type":"ArrowFunctionExpression","start":1977,"end":2174,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1978,"end":1982,"name":"file"},{"type":"Identifier","start":1984,"end":1985,"name":"i"}],"body":{"type":"BlockStatement","start":1990,"end":2174,"body":[{"type":"VariableDeclaration","start":2004,"end":2052,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2010,"end":2051,"id":{"type":"Identifier","start":2010,"end":2020,"name":"uploadFile"},"init":{"type":"CallExpression","start":2023,"end":2051,"optional":false,"callee":{"type":"MemberExpression","start":2023,"end":2042,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2023,"end":2027},"property":{"type":"Identifier","start":2028,"end":2042,"name":"makeUploadFile"}},"arguments":[{"type":"Identifier","start":2043,"end":2047,"name":"file"},{"type":"Identifier","start":2049,"end":2050,"name":"i"}]}}]},{"type":"ExpressionStatement","start":2065,"end":2133,"expression":{"type":"CallExpression","start":2065,"end":2132,"optional":false,"callee":{"type":"MemberExpression","start":2065,"end":2088,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2065,"end":2083,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2065,"end":2069},"property":{"type":"Identifier","start":2070,"end":2083,"name":"serviceEvents"}},"property":{"type":"Identifier","start":2084,"end":2088,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":2089,"end":2131,"properties":[{"type":"Property","start":2091,"end":2111,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2091,"end":2095,"name":"type"},"value":{"type":"Literal","start":2097,"end":2111,"value":"addedToQueue","raw":"'addedToQueue'"},"kind":"init"},{"type":"Property","start":2113,"end":2129,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2113,"end":2117,"name":"file"},"value":{"type":"Identifier","start":2119,"end":2129,"name":"uploadFile"},"kind":"init"}]}]}},{"type":"ReturnStatement","start":2146,"end":2164,"argument":{"type":"Identifier","start":2153,"end":2163,"name":"uploadFile"}}]},"id":null}]}}]}},{"type":"ExpressionStatement","start":2186,"end":2239,"expression":{"type":"CallExpression","start":2186,"end":2238,"optional":false,"callee":{"type":"MemberExpression","start":2186,"end":2209,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2186,"end":2204,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2186,"end":2190},"property":{"type":"Identifier","start":2191,"end":2204,"name":"serviceEvents"}},"property":{"type":"Identifier","start":2205,"end":2209,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":2210,"end":2237,"properties":[{"type":"Property","start":2212,"end":2235,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2212,"end":2216,"name":"type"},"value":{"type":"Literal","start":2218,"end":2235,"value":"allAddedToQueue","raw":"'allAddedToQueue'"},"kind":"init"}]}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2250,"end":5105,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2250,"end":2265,"name":"initInputEvents"},"value":{"type":"FunctionExpression","start":2265,"end":5105,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2266,"end":2271,"name":"input"}],"body":{"type":"BlockStatement","start":2273,"end":5105,"body":[{"type":"ReturnStatement","start":2283,"end":5099,"argument":{"type":"CallExpression","start":2290,"end":5098,"optional":false,"callee":{"type":"MemberExpression","start":2290,"end":2305,"computed":false,"optional":false,"object":{"type":"Identifier","start":2290,"end":2295,"name":"input"},"property":{"type":"Identifier","start":2296,"end":2305,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":2306,"end":5097,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":2307,"end":2312,"name":"event"}],"body":{"type":"BlockStatement","start":2317,"end":5097,"body":[{"type":"SwitchStatement","start":2331,"end":5087,"discriminant":{"type":"MemberExpression","start":2339,"end":2349,"computed":false,"optional":false,"object":{"type":"Identifier","start":2339,"end":2344,"name":"event"},"property":{"type":"Identifier","start":2345,"end":2349,"name":"type"}},"cases":[{"type":"SwitchCase","start":2369,"end":2699,"test":{"type":"Literal","start":2374,"end":2386,"value":"uploadFile","raw":"'uploadFile'"},"consequent":[{"type":"VariableDeclaration","start":2408,"end":2482,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2414,"end":2481,"id":{"type":"Identifier","start":2414,"end":2429,"name":"uploadFileIndex"},"init":{"type":"CallExpression","start":2432,"end":2481,"optional":false,"callee":{"type":"MemberExpression","start":2432,"end":2452,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2432,"end":2442,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2432,"end":2436},"property":{"type":"Identifier","start":2437,"end":2442,"name":"queue"}},"property":{"type":"Identifier","start":2443,"end":2452,"name":"findIndex"}},"arguments":[{"type":"ArrowFunctionExpression","start":2453,"end":2480,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2453,"end":2457,"name":"file"}],"body":{"type":"BinaryExpression","start":2461,"end":2480,"operator":"===","left":{"type":"Identifier","start":2461,"end":2465,"name":"file"},"right":{"type":"MemberExpression","start":2470,"end":2480,"computed":false,"optional":false,"object":{"type":"Identifier","start":2470,"end":2475,"name":"event"},"property":{"type":"Identifier","start":2476,"end":2480,"name":"file"}}},"id":null}]}}]},{"type":"IfStatement","start":2503,"end":2672,"test":{"type":"LogicalExpression","start":2507,"end":2543,"operator":"&&","left":{"type":"BinaryExpression","start":2507,"end":2529,"operator":"!==","left":{"type":"Identifier","start":2507,"end":2522,"name":"uploadFileIndex"},"right":{"type":"UnaryExpression","start":2527,"end":2529,"operator":"-","argument":{"type":"Literal","start":2528,"end":2529,"raw":"1","value":1},"prefix":true}},"right":{"type":"MemberExpression","start":2533,"end":2543,"computed":false,"optional":false,"object":{"type":"Identifier","start":2533,"end":2538,"name":"event"},"property":{"type":"Identifier","start":2539,"end":2543,"name":"file"}}},"consequent":{"type":"BlockStatement","start":2545,"end":2672,"body":[{"type":"ExpressionStatement","start":2571,"end":2650,"expression":{"type":"CallExpression","start":2571,"end":2649,"optional":false,"callee":{"type":"MemberExpression","start":2571,"end":2596,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2571,"end":2591,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2571,"end":2575},"property":{"type":"Identifier","start":2576,"end":2591,"name":"uploadScheduler"}},"property":{"type":"Identifier","start":2592,"end":2596,"name":"next"}},"arguments":[{"type":"ObjectExpression","start":2597,"end":2648,"properties":[{"type":"Property","start":2599,"end":2632,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2599,"end":2603,"name":"file"},"value":{"type":"MemberExpression","start":2605,"end":2632,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":2605,"end":2615,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2605,"end":2609},"property":{"type":"Identifier","start":2610,"end":2615,"name":"queue"}},"property":{"type":"Identifier","start":2616,"end":2631,"name":"uploadFileIndex"}},"kind":"init"},{"type":"Property","start":2634,"end":2646,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2634,"end":2639,"name":"event"},"value":{"type":"Identifier","start":2641,"end":2646,"name":"event"},"kind":"init"}]}]}}]},"alternate":null},{"type":"BreakStatement","start":2693,"end":2699,"label":null}]},{"type":"SwitchCase","start":2716,"end":2966,"test":{"type":"Literal","start":2721,"end":2732,"value":"uploadAll","raw":"'uploadAll'"},"consequent":[{"type":"VariableDeclaration","start":2754,"end":2839,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2760,"end":2838,"id":{"type":"Identifier","start":2760,"end":2765,"name":"files"},"init":{"type":"CallExpression","start":2768,"end":2838,"optional":false,"callee":{"type":"MemberExpression","start":2768,"end":2785,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2768,"end":2778,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2768,"end":2772},"property":{"type":"Identifier","start":2773,"end":2778,"name":"queue"}},"property":{"type":"Identifier","start":2779,"end":2785,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":2786,"end":2837,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2786,"end":2790,"name":"file"}],"body":{"type":"BinaryExpression","start":2794,"end":2837,"operator":"===","left":{"type":"MemberExpression","start":2794,"end":2814,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2794,"end":2807,"computed":false,"optional":false,"object":{"type":"Identifier","start":2794,"end":2798,"name":"file"},"property":{"type":"Identifier","start":2799,"end":2807,"name":"progress"}},"property":{"type":"Identifier","start":2808,"end":2814,"name":"status"}},"right":{"type":"MemberExpression","start":2819,"end":2837,"computed":false,"optional":false,"object":{"type":"Identifier","start":2819,"end":2831,"name":"UploadStatus"},"property":{"type":"Identifier","start":2832,"end":2837,"name":"Queue"}}},"id":null}]}}]},{"type":"ExpressionStatement","start":2860,"end":2939,"expression":{"type":"CallExpression","start":2860,"end":2938,"optional":false,"callee":{"type":"MemberExpression","start":2860,"end":2873,"computed":false,"optional":false,"object":{"type":"Identifier","start":2860,"end":2865,"name":"files"},"property":{"type":"Identifier","start":2866,"end":2873,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":2874,"end":2937,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":2874,"end":2878,"name":"file"}],"body":{"type":"CallExpression","start":2882,"end":2937,"optional":false,"callee":{"type":"MemberExpression","start":2882,"end":2907,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2882,"end":2902,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2882,"end":2886},"property":{"type":"Identifier","start":2887,"end":2902,"name":"uploadScheduler"}},"property":{"type":"Identifier","start":2903,"end":2907,"name":"next"}},"arguments":[{"type":"ObjectExpression","start":2908,"end":2936,"properties":[{"type":"Property","start":2910,"end":2920,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2910,"end":2914,"name":"file"},"value":{"type":"Identifier","start":2916,"end":2920,"name":"file"},"kind":"init"},{"type":"Property","start":2922,"end":2934,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2922,"end":2927,"name":"event"},"value":{"type":"Identifier","start":2929,"end":2934,"name":"event"},"kind":"init"}]}]},"id":null}]}},{"type":"BreakStatement","start":2960,"end":2966,"label":null}]},{"type":"SwitchCase","start":2983,"end":3792,"test":{"type":"Literal","start":2988,"end":2996,"value":"cancel","raw":"'cancel'"},"consequent":[{"type":"VariableDeclaration","start":3018,"end":3046,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3024,"end":3045,"id":{"type":"Identifier","start":3024,"end":3026,"name":"id"},"init":{"type":"LogicalExpression","start":3029,"end":3045,"operator":"||","left":{"type":"MemberExpression","start":3029,"end":3037,"computed":false,"optional":false,"object":{"type":"Identifier","start":3029,"end":3034,"name":"event"},"property":{"type":"Identifier","start":3035,"end":3037,"name":"id"}},"right":{"type":"Literal","start":3041,"end":3045,"raw":"null","value":null}}}]},{"type":"IfStatement","start":3067,"end":3131,"test":{"type":"UnaryExpression","start":3071,"end":3074,"operator":"!","argument":{"type":"Identifier","start":3072,"end":3074,"name":"id"},"prefix":true},"consequent":{"type":"BlockStatement","start":3076,"end":3131,"body":[{"type":"ReturnStatement","start":3102,"end":3109,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":3152,"end":3204,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3158,"end":3203,"id":{"type":"Identifier","start":3158,"end":3162,"name":"subs"},"init":{"type":"CallExpression","start":3165,"end":3203,"optional":false,"callee":{"type":"MemberExpression","start":3165,"end":3181,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3165,"end":3174,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3165,"end":3169},"property":{"type":"Identifier","start":3170,"end":3174,"name":"subs"}},"property":{"type":"Identifier","start":3175,"end":3181,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":3182,"end":3202,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3182,"end":3185,"name":"sub"}],"body":{"type":"BinaryExpression","start":3189,"end":3202,"operator":"===","left":{"type":"MemberExpression","start":3189,"end":3195,"computed":false,"optional":false,"object":{"type":"Identifier","start":3189,"end":3192,"name":"sub"},"property":{"type":"Identifier","start":3193,"end":3195,"name":"id"}},"right":{"type":"Identifier","start":3200,"end":3202,"name":"id"}},"id":null}]}}]},{"type":"ExpressionStatement","start":3225,"end":3765,"expression":{"type":"CallExpression","start":3225,"end":3764,"optional":false,"callee":{"type":"MemberExpression","start":3225,"end":3237,"computed":false,"optional":false,"object":{"type":"Identifier","start":3225,"end":3229,"name":"subs"},"property":{"type":"Identifier","start":3230,"end":3237,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":3238,"end":3763,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":3238,"end":3241,"name":"sub"}],"body":{"type":"BlockStatement","start":3245,"end":3763,"body":[{"type":"IfStatement","start":3271,"end":3741,"test":{"type":"MemberExpression","start":3275,"end":3282,"computed":false,"optional":false,"object":{"type":"Identifier","start":3275,"end":3278,"name":"sub"},"property":{"type":"Identifier","start":3279,"end":3282,"name":"sub"}},"consequent":{"type":"BlockStatement","start":3284,"end":3741,"body":[{"type":"ExpressionStatement","start":3314,"end":3336,"expression":{"type":"CallExpression","start":3314,"end":3335,"optional":false,"callee":{"type":"MemberExpression","start":3314,"end":3333,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3314,"end":3321,"computed":false,"optional":false,"object":{"type":"Identifier","start":3314,"end":3317,"name":"sub"},"property":{"type":"Identifier","start":3318,"end":3321,"name":"sub"}},"property":{"type":"Identifier","start":3322,"end":3333,"name":"unsubscribe"}},"arguments":[]}},{"type":"VariableDeclaration","start":3365,"end":3428,"kind":"const","declarations":[{"type":"VariableDeclarator","start":3371,"end":3427,"id":{"type":"Identifier","start":3371,"end":3380,"name":"fileIndex"},"init":{"type":"CallExpression","start":3383,"end":3427,"optional":false,"callee":{"type":"MemberExpression","start":3383,"end":3403,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3383,"end":3393,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3383,"end":3387},"property":{"type":"Identifier","start":3388,"end":3393,"name":"queue"}},"property":{"type":"Identifier","start":3394,"end":3403,"name":"findIndex"}},"arguments":[{"type":"ArrowFunctionExpression","start":3404,"end":3426,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":3404,"end":3408,"name":"file"}],"body":{"type":"BinaryExpression","start":3412,"end":3426,"operator":"===","left":{"type":"MemberExpression","start":3412,"end":3419,"computed":false,"optional":false,"object":{"type":"Identifier","start":3412,"end":3416,"name":"file"},"property":{"type":"Identifier","start":3417,"end":3419,"name":"id"}},"right":{"type":"Identifier","start":3424,"end":3426,"name":"id"}},"id":null}]}}]},{"type":"IfStatement","start":3457,"end":3715,"test":{"type":"BinaryExpression","start":3461,"end":3477,"operator":"!==","left":{"type":"Identifier","start":3461,"end":3470,"name":"fileIndex"},"right":{"type":"UnaryExpression","start":3475,"end":3477,"operator":"-","argument":{"type":"Literal","start":3476,"end":3477,"raw":"1","value":1},"prefix":true}},"consequent":{"type":"BlockStatement","start":3479,"end":3715,"body":[{"type":"ExpressionStatement","start":3513,"end":3576,"expression":{"type":"AssignmentExpression","start":3513,"end":3575,"operator":"=","left":{"type":"MemberExpression","start":3513,"end":3550,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3513,"end":3543,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3513,"end":3534,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3513,"end":3523,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3513,"end":3517},"property":{"type":"Identifier","start":3518,"end":3523,"name":"queue"}},"property":{"type":"Identifier","start":3524,"end":3533,"name":"fileIndex"}},"property":{"type":"Identifier","start":3535,"end":3543,"name":"progress"}},"property":{"type":"Identifier","start":3544,"end":3550,"name":"status"}},"right":{"type":"MemberExpression","start":3553,"end":3575,"computed":false,"optional":false,"object":{"type":"Identifier","start":3553,"end":3565,"name":"UploadStatus"},"property":{"type":"Identifier","start":3566,"end":3575,"name":"Cancelled"}}}},{"type":"ExpressionStatement","start":3609,"end":3685,"expression":{"type":"CallExpression","start":3609,"end":3684,"optional":false,"callee":{"type":"MemberExpression","start":3609,"end":3632,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3609,"end":3627,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3609,"end":3613},"property":{"type":"Identifier","start":3614,"end":3627,"name":"serviceEvents"}},"property":{"type":"Identifier","start":3628,"end":3632,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":3633,"end":3683,"properties":[{"type":"Property","start":3635,"end":3652,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3635,"end":3639,"name":"type"},"value":{"type":"Literal","start":3641,"end":3652,"value":"cancelled","raw":"'cancelled'"},"kind":"init"},{"type":"Property","start":3654,"end":3681,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3654,"end":3658,"name":"file"},"value":{"type":"MemberExpression","start":3660,"end":3681,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":3660,"end":3670,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3660,"end":3664},"property":{"type":"Identifier","start":3665,"end":3670,"name":"queue"}},"property":{"type":"Identifier","start":3671,"end":3680,"name":"fileIndex"}},"kind":"init"}]}]}}]},"alternate":null}]},"alternate":null}]},"id":null}]}},{"type":"BreakStatement","start":3786,"end":3792,"label":null}]},{"type":"SwitchCase","start":3809,"end":4359,"test":{"type":"Literal","start":3814,"end":3825,"value":"cancelAll","raw":"'cancelAll'"},"consequent":[{"type":"ExpressionStatement","start":3847,"end":4332,"expression":{"type":"CallExpression","start":3847,"end":4331,"optional":false,"callee":{"type":"MemberExpression","start":3847,"end":3864,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3847,"end":3856,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":3847,"end":3851},"property":{"type":"Identifier","start":3852,"end":3856,"name":"subs"}},"property":{"type":"Identifier","start":3857,"end":3864,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":3865,"end":4330,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":3865,"end":3868,"name":"sub"}],"body":{"type":"BlockStatement","start":3872,"end":4330,"body":[{"type":"IfStatement","start":3898,"end":3989,"test":{"type":"MemberExpression","start":3902,"end":3909,"computed":false,"optional":false,"object":{"type":"Identifier","start":3902,"end":3905,"name":"sub"},"property":{"type":"Identifier","start":3906,"end":3909,"name":"sub"}},"consequent":{"type":"BlockStatement","start":3911,"end":3989,"body":[{"type":"ExpressionStatement","start":3941,"end":3963,"expression":{"type":"CallExpression","start":3941,"end":3962,"optional":false,"callee":{"type":"MemberExpression","start":3941,"end":3960,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":3941,"end":3948,"computed":false,"optional":false,"object":{"type":"Identifier","start":3941,"end":3944,"name":"sub"},"property":{"type":"Identifier","start":3945,"end":3948,"name":"sub"}},"property":{"type":"Identifier","start":3949,"end":3960,"name":"unsubscribe"}},"arguments":[]}}]},"alternate":null},{"type":"VariableDeclaration","start":4014,"end":4083,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4020,"end":4082,"id":{"type":"Identifier","start":4020,"end":4024,"name":"file"},"init":{"type":"CallExpression","start":4027,"end":4082,"optional":false,"callee":{"type":"MemberExpression","start":4027,"end":4042,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4027,"end":4037,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4027,"end":4031},"property":{"type":"Identifier","start":4032,"end":4037,"name":"queue"}},"property":{"type":"Identifier","start":4038,"end":4042,"name":"find"}},"arguments":[{"type":"ArrowFunctionExpression","start":4043,"end":4081,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4043,"end":4053,"name":"uploadFile"}],"body":{"type":"BinaryExpression","start":4057,"end":4081,"operator":"===","left":{"type":"MemberExpression","start":4057,"end":4070,"computed":false,"optional":false,"object":{"type":"Identifier","start":4057,"end":4067,"name":"uploadFile"},"property":{"type":"Identifier","start":4068,"end":4070,"name":"id"}},"right":{"type":"MemberExpression","start":4075,"end":4081,"computed":false,"optional":false,"object":{"type":"Identifier","start":4075,"end":4078,"name":"sub"},"property":{"type":"Identifier","start":4079,"end":4081,"name":"id"}}},"id":null}]}}]},{"type":"IfStatement","start":4108,"end":4308,"test":{"type":"Identifier","start":4112,"end":4116,"name":"file"},"consequent":{"type":"BlockStatement","start":4118,"end":4308,"body":[{"type":"ExpressionStatement","start":4148,"end":4194,"expression":{"type":"AssignmentExpression","start":4148,"end":4193,"operator":"=","left":{"type":"MemberExpression","start":4148,"end":4168,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4148,"end":4161,"computed":false,"optional":false,"object":{"type":"Identifier","start":4148,"end":4152,"name":"file"},"property":{"type":"Identifier","start":4153,"end":4161,"name":"progress"}},"property":{"type":"Identifier","start":4162,"end":4168,"name":"status"}},"right":{"type":"MemberExpression","start":4171,"end":4193,"computed":false,"optional":false,"object":{"type":"Identifier","start":4171,"end":4183,"name":"UploadStatus"},"property":{"type":"Identifier","start":4184,"end":4193,"name":"Cancelled"}}}},{"type":"ExpressionStatement","start":4223,"end":4282,"expression":{"type":"CallExpression","start":4223,"end":4281,"optional":false,"callee":{"type":"MemberExpression","start":4223,"end":4246,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4223,"end":4241,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4223,"end":4227},"property":{"type":"Identifier","start":4228,"end":4241,"name":"serviceEvents"}},"property":{"type":"Identifier","start":4242,"end":4246,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":4247,"end":4280,"properties":[{"type":"Property","start":4249,"end":4266,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4249,"end":4253,"name":"type"},"value":{"type":"Literal","start":4255,"end":4266,"value":"cancelled","raw":"'cancelled'"},"kind":"init"},{"type":"Property","start":4268,"end":4278,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4268,"end":4272,"name":"file"},"value":{"type":"Identifier","start":4274,"end":4278,"name":"file"},"kind":"init"}]}]}}]},"alternate":null}]},"id":null}]}},{"type":"BreakStatement","start":4353,"end":4359,"label":null}]},{"type":"SwitchCase","start":4376,"end":4831,"test":{"type":"Literal","start":4381,"end":4389,"value":"remove","raw":"'remove'"},"consequent":[{"type":"IfStatement","start":4411,"end":4481,"test":{"type":"UnaryExpression","start":4415,"end":4424,"operator":"!","argument":{"type":"MemberExpression","start":4416,"end":4424,"computed":false,"optional":false,"object":{"type":"Identifier","start":4416,"end":4421,"name":"event"},"property":{"type":"Identifier","start":4422,"end":4424,"name":"id"}},"prefix":true},"consequent":{"type":"BlockStatement","start":4426,"end":4481,"body":[{"type":"ReturnStatement","start":4452,"end":4459,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":4502,"end":4563,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4508,"end":4562,"id":{"type":"Identifier","start":4508,"end":4509,"name":"i"},"init":{"type":"CallExpression","start":4512,"end":4562,"optional":false,"callee":{"type":"MemberExpression","start":4512,"end":4532,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4512,"end":4522,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4512,"end":4516},"property":{"type":"Identifier","start":4517,"end":4522,"name":"queue"}},"property":{"type":"Identifier","start":4523,"end":4532,"name":"findIndex"}},"arguments":[{"type":"ArrowFunctionExpression","start":4533,"end":4561,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":4533,"end":4537,"name":"file"}],"body":{"type":"BinaryExpression","start":4541,"end":4561,"operator":"===","left":{"type":"MemberExpression","start":4541,"end":4548,"computed":false,"optional":false,"object":{"type":"Identifier","start":4541,"end":4545,"name":"file"},"property":{"type":"Identifier","start":4546,"end":4548,"name":"id"}},"right":{"type":"MemberExpression","start":4553,"end":4561,"computed":false,"optional":false,"object":{"type":"Identifier","start":4553,"end":4558,"name":"event"},"property":{"type":"Identifier","start":4559,"end":4561,"name":"id"}}},"id":null}]}}]},{"type":"IfStatement","start":4584,"end":4804,"test":{"type":"BinaryExpression","start":4588,"end":4596,"operator":"!==","left":{"type":"Identifier","start":4588,"end":4589,"name":"i"},"right":{"type":"UnaryExpression","start":4594,"end":4596,"operator":"-","argument":{"type":"Literal","start":4595,"end":4596,"raw":"1","value":1},"prefix":true}},"consequent":{"type":"BlockStatement","start":4598,"end":4804,"body":[{"type":"VariableDeclaration","start":4624,"end":4651,"kind":"const","declarations":[{"type":"VariableDeclarator","start":4630,"end":4650,"id":{"type":"Identifier","start":4630,"end":4634,"name":"file"},"init":{"type":"MemberExpression","start":4637,"end":4650,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":4637,"end":4647,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4637,"end":4641},"property":{"type":"Identifier","start":4642,"end":4647,"name":"queue"}},"property":{"type":"Identifier","start":4648,"end":4649,"name":"i"}}}]},{"type":"ExpressionStatement","start":4676,"end":4700,"expression":{"type":"CallExpression","start":4676,"end":4699,"optional":false,"callee":{"type":"MemberExpression","start":4676,"end":4693,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4676,"end":4686,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4676,"end":4680},"property":{"type":"Identifier","start":4681,"end":4686,"name":"queue"}},"property":{"type":"Identifier","start":4687,"end":4693,"name":"splice"}},"arguments":[{"type":"Identifier","start":4694,"end":4695,"name":"i"},{"type":"Literal","start":4697,"end":4698,"raw":"1","value":1}]}},{"type":"ExpressionStatement","start":4725,"end":4782,"expression":{"type":"CallExpression","start":4725,"end":4781,"optional":false,"callee":{"type":"MemberExpression","start":4725,"end":4748,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4725,"end":4743,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4725,"end":4729},"property":{"type":"Identifier","start":4730,"end":4743,"name":"serviceEvents"}},"property":{"type":"Identifier","start":4744,"end":4748,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":4749,"end":4780,"properties":[{"type":"Property","start":4751,"end":4766,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4751,"end":4755,"name":"type"},"value":{"type":"Literal","start":4757,"end":4766,"value":"removed","raw":"'removed'"},"kind":"init"},{"type":"Property","start":4768,"end":4778,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4768,"end":4772,"name":"file"},"value":{"type":"Identifier","start":4774,"end":4778,"name":"file"},"kind":"init"}]}]}}]},"alternate":null},{"type":"BreakStatement","start":4825,"end":4831,"label":null}]},{"type":"SwitchCase","start":4848,"end":5073,"test":{"type":"Literal","start":4853,"end":4864,"value":"removeAll","raw":"'removeAll'"},"consequent":[{"type":"IfStatement","start":4886,"end":5046,"test":{"type":"MemberExpression","start":4890,"end":4907,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4890,"end":4900,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4890,"end":4894},"property":{"type":"Identifier","start":4895,"end":4900,"name":"queue"}},"property":{"type":"Identifier","start":4901,"end":4907,"name":"length"}},"consequent":{"type":"BlockStatement","start":4909,"end":5046,"body":[{"type":"ExpressionStatement","start":4935,"end":4951,"expression":{"type":"AssignmentExpression","start":4935,"end":4950,"operator":"=","left":{"type":"MemberExpression","start":4935,"end":4945,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4935,"end":4939},"property":{"type":"Identifier","start":4940,"end":4945,"name":"queue"}},"right":{"type":"ArrayExpression","start":4948,"end":4950,"elements":[]}}},{"type":"ExpressionStatement","start":4976,"end":5024,"expression":{"type":"CallExpression","start":4976,"end":5023,"optional":false,"callee":{"type":"MemberExpression","start":4976,"end":4999,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":4976,"end":4994,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":4976,"end":4980},"property":{"type":"Identifier","start":4981,"end":4994,"name":"serviceEvents"}},"property":{"type":"Identifier","start":4995,"end":4999,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":5000,"end":5022,"properties":[{"type":"Property","start":5002,"end":5020,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5002,"end":5006,"name":"type"},"value":{"type":"Literal","start":5008,"end":5020,"value":"removedAll","raw":"'removedAll'"},"kind":"init"}]}]}}]},"alternate":null},{"type":"BreakStatement","start":5067,"end":5073,"label":null}]}]}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5110,"end":5728,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5110,"end":5121,"name":"startUpload"},"value":{"type":"FunctionExpression","start":5121,"end":5728,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5122,"end":5128,"name":"upload"}],"body":{"type":"BlockStatement","start":5130,"end":5728,"body":[{"type":"ReturnStatement","start":5140,"end":5722,"argument":{"type":"NewExpression","start":5147,"end":5721,"callee":{"type":"Identifier","start":5151,"end":5161,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":5162,"end":5720,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":5162,"end":5170,"name":"observer"}],"body":{"type":"BlockStatement","start":5174,"end":5720,"body":[{"type":"VariableDeclaration","start":5188,"end":5648,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5194,"end":5647,"id":{"type":"Identifier","start":5194,"end":5197,"name":"sub"},"init":{"type":"CallExpression","start":5200,"end":5647,"optional":false,"callee":{"type":"MemberExpression","start":5200,"end":5423,"computed":false,"optional":false,"object":{"type":"CallExpression","start":5200,"end":5396,"optional":false,"callee":{"type":"MemberExpression","start":5200,"end":5264,"computed":false,"optional":false,"object":{"type":"CallExpression","start":5200,"end":5242,"optional":false,"callee":{"type":"MemberExpression","start":5200,"end":5215,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5200,"end":5204},"property":{"type":"Identifier","start":5205,"end":5215,"name":"uploadFile"}},"arguments":[{"type":"MemberExpression","start":5216,"end":5227,"computed":false,"optional":false,"object":{"type":"Identifier","start":5216,"end":5222,"name":"upload"},"property":{"type":"Identifier","start":5223,"end":5227,"name":"file"}},{"type":"MemberExpression","start":5229,"end":5241,"computed":false,"optional":false,"object":{"type":"Identifier","start":5229,"end":5235,"name":"upload"},"property":{"type":"Identifier","start":5236,"end":5241,"name":"event"}}]},"property":{"type":"Identifier","start":5260,"end":5264,"name":"pipe"}},"arguments":[{"type":"CallExpression","start":5265,"end":5395,"optional":false,"callee":{"type":"Identifier","start":5265,"end":5273,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":5274,"end":5394,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":5280,"end":5394,"body":[{"type":"IfStatement","start":5298,"end":5380,"test":{"type":"UnaryExpression","start":5302,"end":5318,"operator":"!","argument":{"type":"MemberExpression","start":5303,"end":5318,"computed":false,"optional":false,"object":{"type":"Identifier","start":5303,"end":5311,"name":"observer"},"property":{"type":"Identifier","start":5312,"end":5318,"name":"closed"}},"prefix":true},"consequent":{"type":"BlockStatement","start":5320,"end":5380,"body":[{"type":"ExpressionStatement","start":5342,"end":5362,"expression":{"type":"CallExpression","start":5342,"end":5361,"optional":false,"callee":{"type":"MemberExpression","start":5342,"end":5359,"computed":false,"optional":false,"object":{"type":"Identifier","start":5342,"end":5350,"name":"observer"},"property":{"type":"Identifier","start":5351,"end":5359,"name":"complete"}},"arguments":[]}}]},"alternate":null}]},"id":null}]}]},"property":{"type":"Identifier","start":5414,"end":5423,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":5424,"end":5488,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":5424,"end":5430,"name":"output"}],"body":{"type":"BlockStatement","start":5434,"end":5488,"body":[{"type":"ExpressionStatement","start":5452,"end":5474,"expression":{"type":"CallExpression","start":5452,"end":5473,"optional":false,"callee":{"type":"MemberExpression","start":5452,"end":5465,"computed":false,"optional":false,"object":{"type":"Identifier","start":5452,"end":5460,"name":"observer"},"property":{"type":"Identifier","start":5461,"end":5465,"name":"next"}},"arguments":[{"type":"Identifier","start":5466,"end":5472,"name":"output"}]}}]},"id":null},{"type":"ArrowFunctionExpression","start":5490,"end":5586,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":5490,"end":5493,"name":"err"}],"body":{"type":"BlockStatement","start":5497,"end":5586,"body":[{"type":"ExpressionStatement","start":5515,"end":5535,"expression":{"type":"CallExpression","start":5515,"end":5534,"optional":false,"callee":{"type":"MemberExpression","start":5515,"end":5529,"computed":false,"optional":false,"object":{"type":"Identifier","start":5515,"end":5523,"name":"observer"},"property":{"type":"Identifier","start":5524,"end":5529,"name":"error"}},"arguments":[{"type":"Identifier","start":5530,"end":5533,"name":"err"}]}},{"type":"ExpressionStatement","start":5552,"end":5572,"expression":{"type":"CallExpression","start":5552,"end":5571,"optional":false,"callee":{"type":"MemberExpression","start":5552,"end":5569,"computed":false,"optional":false,"object":{"type":"Identifier","start":5552,"end":5560,"name":"observer"},"property":{"type":"Identifier","start":5561,"end":5569,"name":"complete"}},"arguments":[]}}]},"id":null},{"type":"ArrowFunctionExpression","start":5588,"end":5646,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":5594,"end":5646,"body":[{"type":"ExpressionStatement","start":5612,"end":5632,"expression":{"type":"CallExpression","start":5612,"end":5631,"optional":false,"callee":{"type":"MemberExpression","start":5612,"end":5629,"computed":false,"optional":false,"object":{"type":"Identifier","start":5612,"end":5620,"name":"observer"},"property":{"type":"Identifier","start":5621,"end":5629,"name":"complete"}},"arguments":[]}}]},"id":null}]}}]},{"type":"ExpressionStatement","start":5661,"end":5710,"expression":{"type":"CallExpression","start":5661,"end":5709,"optional":false,"callee":{"type":"MemberExpression","start":5661,"end":5675,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5661,"end":5670,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":5661,"end":5665},"property":{"type":"Identifier","start":5666,"end":5670,"name":"subs"}},"property":{"type":"Identifier","start":5671,"end":5675,"name":"push"}},"arguments":[{"type":"ObjectExpression","start":5676,"end":5708,"properties":[{"type":"Property","start":5678,"end":5696,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5678,"end":5680,"name":"id"},"value":{"type":"MemberExpression","start":5682,"end":5696,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":5682,"end":5693,"computed":false,"optional":false,"object":{"type":"Identifier","start":5682,"end":5688,"name":"upload"},"property":{"type":"Identifier","start":5689,"end":5693,"name":"file"}},"property":{"type":"Identifier","start":5694,"end":5696,"name":"id"}},"kind":"init"},{"type":"Property","start":5698,"end":5706,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5698,"end":5701,"name":"sub"},"value":{"type":"Identifier","start":5703,"end":5706,"name":"sub"},"kind":"init"}]}]}}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":5733,"end":10056,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":5733,"end":5743,"name":"uploadFile"},"value":{"type":"FunctionExpression","start":5743,"end":10056,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":5744,"end":5748,"name":"file"},{"type":"Identifier","start":5750,"end":5755,"name":"event"}],"body":{"type":"BlockStatement","start":5757,"end":10056,"body":[{"type":"ReturnStatement","start":5767,"end":10050,"argument":{"type":"NewExpression","start":5774,"end":10049,"callee":{"type":"Identifier","start":5778,"end":5788,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":5789,"end":10048,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":5789,"end":5797,"name":"observer"}],"body":{"type":"BlockStatement","start":5801,"end":10048,"body":[{"type":"VariableDeclaration","start":5815,"end":5843,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5821,"end":5842,"id":{"type":"Identifier","start":5821,"end":5824,"name":"url"},"init":{"type":"LogicalExpression","start":5827,"end":5842,"operator":"||","left":{"type":"MemberExpression","start":5827,"end":5836,"computed":false,"optional":false,"object":{"type":"Identifier","start":5827,"end":5832,"name":"event"},"property":{"type":"Identifier","start":5833,"end":5836,"name":"url"}},"right":{"type":"Literal","start":5840,"end":5842,"value":"","raw":"''"}}}]},{"type":"VariableDeclaration","start":5856,"end":5894,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5862,"end":5893,"id":{"type":"Identifier","start":5862,"end":5868,"name":"method"},"init":{"type":"LogicalExpression","start":5871,"end":5893,"operator":"||","left":{"type":"MemberExpression","start":5871,"end":5883,"computed":false,"optional":false,"object":{"type":"Identifier","start":5871,"end":5876,"name":"event"},"property":{"type":"Identifier","start":5877,"end":5883,"name":"method"}},"right":{"type":"Literal","start":5887,"end":5893,"value":"POST","raw":"'POST'"}}}]},{"type":"VariableDeclaration","start":5907,"end":5937,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5913,"end":5936,"id":{"type":"Identifier","start":5913,"end":5917,"name":"data"},"init":{"type":"LogicalExpression","start":5920,"end":5936,"operator":"||","left":{"type":"MemberExpression","start":5920,"end":5930,"computed":false,"optional":false,"object":{"type":"Identifier","start":5920,"end":5925,"name":"event"},"property":{"type":"Identifier","start":5926,"end":5930,"name":"data"}},"right":{"type":"ObjectExpression","start":5934,"end":5936,"properties":[]}}}]},{"type":"VariableDeclaration","start":5950,"end":5986,"kind":"const","declarations":[{"type":"VariableDeclarator","start":5956,"end":5985,"id":{"type":"Identifier","start":5956,"end":5963,"name":"headers"},"init":{"type":"LogicalExpression","start":5966,"end":5985,"operator":"||","left":{"type":"MemberExpression","start":5966,"end":5979,"computed":false,"optional":false,"object":{"type":"Identifier","start":5966,"end":5971,"name":"event"},"property":{"type":"Identifier","start":5972,"end":5979,"name":"headers"}},"right":{"type":"ObjectExpression","start":5983,"end":5985,"properties":[]}}}]},{"type":"VariableDeclaration","start":5999,"end":6032,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6005,"end":6031,"id":{"type":"Identifier","start":6005,"end":6008,"name":"xhr"},"init":{"type":"NewExpression","start":6011,"end":6031,"callee":{"type":"Identifier","start":6015,"end":6029,"name":"XMLHttpRequest"},"arguments":[]}}]},{"type":"VariableDeclaration","start":6045,"end":6079,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6051,"end":6078,"id":{"type":"Identifier","start":6051,"end":6055,"name":"time"},"init":{"type":"CallExpression","start":6058,"end":6078,"optional":false,"callee":{"type":"MemberExpression","start":6058,"end":6076,"computed":false,"optional":false,"object":{"type":"NewExpression","start":6058,"end":6068,"callee":{"type":"Identifier","start":6062,"end":6066,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":6069,"end":6076,"name":"getTime"}},"arguments":[]}}]},{"type":"VariableDeclaration","start":6092,"end":6177,"kind":"let","declarations":[{"type":"VariableDeclarator","start":6096,"end":6176,"id":{"type":"Identifier","start":6096,"end":6113,"name":"progressStartTime"},"init":{"type":"LogicalExpression","start":6116,"end":6176,"operator":"||","left":{"type":"LogicalExpression","start":6117,"end":6167,"operator":"&&","left":{"type":"MemberExpression","start":6117,"end":6135,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6117,"end":6130,"computed":false,"optional":false,"object":{"type":"Identifier","start":6117,"end":6121,"name":"file"},"property":{"type":"Identifier","start":6122,"end":6130,"name":"progress"}},"property":{"type":"Identifier","start":6131,"end":6135,"name":"data"}},"right":{"type":"MemberExpression","start":6139,"end":6167,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6139,"end":6157,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6139,"end":6152,"computed":false,"optional":false,"object":{"type":"Identifier","start":6139,"end":6143,"name":"file"},"property":{"type":"Identifier","start":6144,"end":6152,"name":"progress"}},"property":{"type":"Identifier","start":6153,"end":6157,"name":"data"}},"property":{"type":"Identifier","start":6158,"end":6167,"name":"startTime"}}},"right":{"type":"Identifier","start":6172,"end":6176,"name":"time"}}}]},{"type":"VariableDeclaration","start":6190,"end":6204,"kind":"let","declarations":[{"type":"VariableDeclarator","start":6194,"end":6203,"id":{"type":"Identifier","start":6194,"end":6199,"name":"speed"},"init":{"type":"Literal","start":6202,"end":6203,"raw":"0","value":0}}]},{"type":"VariableDeclaration","start":6217,"end":6232,"kind":"let","declarations":[{"type":"VariableDeclarator","start":6221,"end":6231,"id":{"type":"Identifier","start":6221,"end":6224,"name":"eta"},"init":{"type":"Literal","start":6227,"end":6231,"raw":"null","value":null}}]},{"type":"ExpressionStatement","start":6245,"end":7378,"expression":{"type":"CallExpression","start":6245,"end":7377,"optional":false,"callee":{"type":"MemberExpression","start":6245,"end":6272,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6245,"end":6255,"computed":false,"optional":false,"object":{"type":"Identifier","start":6245,"end":6248,"name":"xhr"},"property":{"type":"Identifier","start":6249,"end":6255,"name":"upload"}},"property":{"type":"Identifier","start":6256,"end":6272,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":6273,"end":6283,"value":"progress","raw":"'progress'"},{"type":"ArrowFunctionExpression","start":6285,"end":7369,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":6286,"end":6287,"name":"e"}],"body":{"type":"BlockStatement","start":6292,"end":7369,"body":[{"type":"IfStatement","start":6310,"end":7355,"test":{"type":"MemberExpression","start":6314,"end":6332,"computed":false,"optional":false,"object":{"type":"Identifier","start":6314,"end":6315,"name":"e"},"property":{"type":"Identifier","start":6316,"end":6332,"name":"lengthComputable"}},"consequent":{"type":"BlockStatement","start":6334,"end":7355,"body":[{"type":"VariableDeclaration","start":6356,"end":6414,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6362,"end":6413,"id":{"type":"Identifier","start":6362,"end":6372,"name":"percentage"},"init":{"type":"CallExpression","start":6375,"end":6413,"optional":false,"callee":{"type":"MemberExpression","start":6375,"end":6385,"computed":false,"optional":false,"object":{"type":"Identifier","start":6375,"end":6379,"name":"Math"},"property":{"type":"Identifier","start":6380,"end":6385,"name":"round"}},"arguments":[{"type":"BinaryExpression","start":6386,"end":6412,"operator":"/","left":{"type":"BinaryExpression","start":6387,"end":6401,"operator":"*","left":{"type":"MemberExpression","start":6387,"end":6395,"computed":false,"optional":false,"object":{"type":"Identifier","start":6387,"end":6388,"name":"e"},"property":{"type":"Identifier","start":6389,"end":6395,"name":"loaded"}},"right":{"type":"Literal","start":6398,"end":6401,"raw":"100","value":100}},"right":{"type":"MemberExpression","start":6405,"end":6412,"computed":false,"optional":false,"object":{"type":"Identifier","start":6405,"end":6406,"name":"e"},"property":{"type":"Identifier","start":6407,"end":6412,"name":"total"}}}]}}]},{"type":"VariableDeclaration","start":6435,"end":6476,"kind":"const","declarations":[{"type":"VariableDeclarator","start":6441,"end":6475,"id":{"type":"Identifier","start":6441,"end":6445,"name":"diff"},"init":{"type":"BinaryExpression","start":6448,"end":6475,"operator":"-","left":{"type":"CallExpression","start":6448,"end":6468,"optional":false,"callee":{"type":"MemberExpression","start":6448,"end":6466,"computed":false,"optional":false,"object":{"type":"NewExpression","start":6448,"end":6458,"callee":{"type":"Identifier","start":6452,"end":6456,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":6459,"end":6466,"name":"getTime"}},"arguments":[]},"right":{"type":"Identifier","start":6471,"end":6475,"name":"time"}}}]},{"type":"ExpressionStatement","start":6497,"end":6542,"expression":{"type":"AssignmentExpression","start":6497,"end":6541,"operator":"=","left":{"type":"Identifier","start":6497,"end":6502,"name":"speed"},"right":{"type":"CallExpression","start":6505,"end":6541,"optional":false,"callee":{"type":"MemberExpression","start":6505,"end":6515,"computed":false,"optional":false,"object":{"type":"Identifier","start":6505,"end":6509,"name":"Math"},"property":{"type":"Identifier","start":6510,"end":6515,"name":"round"}},"arguments":[{"type":"BinaryExpression","start":6516,"end":6540,"operator":"*","left":{"type":"BinaryExpression","start":6517,"end":6532,"operator":"/","left":{"type":"MemberExpression","start":6517,"end":6525,"computed":false,"optional":false,"object":{"type":"Identifier","start":6517,"end":6518,"name":"e"},"property":{"type":"Identifier","start":6519,"end":6525,"name":"loaded"}},"right":{"type":"Identifier","start":6528,"end":6532,"name":"diff"}},"right":{"type":"Literal","start":6536,"end":6540,"raw":"1000","value":1000}}]}}},{"type":"ExpressionStatement","start":6563,"end":6660,"expression":{"type":"AssignmentExpression","start":6563,"end":6659,"operator":"=","left":{"type":"Identifier","start":6563,"end":6580,"name":"progressStartTime"},"right":{"type":"LogicalExpression","start":6583,"end":6659,"operator":"||","left":{"type":"LogicalExpression","start":6584,"end":6634,"operator":"&&","left":{"type":"MemberExpression","start":6584,"end":6602,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6584,"end":6597,"computed":false,"optional":false,"object":{"type":"Identifier","start":6584,"end":6588,"name":"file"},"property":{"type":"Identifier","start":6589,"end":6597,"name":"progress"}},"property":{"type":"Identifier","start":6598,"end":6602,"name":"data"}},"right":{"type":"MemberExpression","start":6606,"end":6634,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6606,"end":6624,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":6606,"end":6619,"computed":false,"optional":false,"object":{"type":"Identifier","start":6606,"end":6610,"name":"file"},"property":{"type":"Identifier","start":6611,"end":6619,"name":"progress"}},"property":{"type":"Identifier","start":6620,"end":6624,"name":"data"}},"property":{"type":"Identifier","start":6625,"end":6634,"name":"startTime"}}},"right":{"type":"CallExpression","start":6639,"end":6659,"optional":false,"callee":{"type":"MemberExpression","start":6639,"end":6657,"computed":false,"optional":false,"object":{"type":"NewExpression","start":6639,"end":6649,"callee":{"type":"Identifier","start":6643,"end":6647,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":6650,"end":6657,"name":"getTime"}},"arguments":[]}}}},{"type":"ExpressionStatement","start":6681,"end":6727,"expression":{"type":"AssignmentExpression","start":6681,"end":6726,"operator":"=","left":{"type":"Identifier","start":6681,"end":6684,"name":"eta"},"right":{"type":"CallExpression","start":6687,"end":6726,"optional":false,"callee":{"type":"MemberExpression","start":6687,"end":6696,"computed":false,"optional":false,"object":{"type":"Identifier","start":6687,"end":6691,"name":"Math"},"property":{"type":"Identifier","start":6692,"end":6696,"name":"ceil"}},"arguments":[{"type":"BinaryExpression","start":6697,"end":6725,"operator":"/","left":{"type":"BinaryExpression","start":6698,"end":6716,"operator":"-","left":{"type":"MemberExpression","start":6698,"end":6705,"computed":false,"optional":false,"object":{"type":"Identifier","start":6698,"end":6699,"name":"e"},"property":{"type":"Identifier","start":6700,"end":6705,"name":"total"}},"right":{"type":"MemberExpression","start":6708,"end":6716,"computed":false,"optional":false,"object":{"type":"Identifier","start":6708,"end":6709,"name":"e"},"property":{"type":"Identifier","start":6710,"end":6716,"name":"loaded"}}},"right":{"type":"Identifier","start":6720,"end":6725,"name":"speed"}}]}}},{"type":"ExpressionStatement","start":6748,"end":7267,"expression":{"type":"AssignmentExpression","start":6748,"end":7266,"operator":"=","left":{"type":"MemberExpression","start":6748,"end":6761,"computed":false,"optional":false,"object":{"type":"Identifier","start":6748,"end":6752,"name":"file"},"property":{"type":"Identifier","start":6753,"end":6761,"name":"progress"}},"right":{"type":"ObjectExpression","start":6764,"end":7266,"properties":[{"type":"Property","start":6790,"end":6820,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6790,"end":6796,"name":"status"},"value":{"type":"MemberExpression","start":6798,"end":6820,"computed":false,"optional":false,"object":{"type":"Identifier","start":6798,"end":6810,"name":"UploadStatus"},"property":{"type":"Identifier","start":6811,"end":6820,"name":"Uploading"}},"kind":"init"},{"type":"Property","start":6846,"end":7244,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6846,"end":6850,"name":"data"},"value":{"type":"ObjectExpression","start":6852,"end":7244,"properties":[{"type":"Property","start":6882,"end":6904,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6882,"end":6892,"name":"percentage"},"value":{"type":"Identifier","start":6894,"end":6904,"name":"percentage"},"kind":"init"},{"type":"Property","start":6934,"end":6946,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6934,"end":6939,"name":"speed"},"value":{"type":"Identifier","start":6941,"end":6946,"name":"speed"},"kind":"init"},{"type":"Property","start":6976,"end":7015,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6976,"end":6986,"name":"speedHuman"},"value":{"type":"TemplateLiteral","start":6988,"end":7015,"quasis":[{"type":"TemplateElement","start":6989,"end":6989,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":7012,"end":7014,"tail":true,"value":{"cooked":"/s","raw":"/s"}}],"expressions":[{"type":"CallExpression","start":6991,"end":7011,"optional":false,"callee":{"type":"Identifier","start":6991,"end":7004,"name":"humanizeBytes"},"arguments":[{"type":"Identifier","start":7005,"end":7010,"name":"speed"}]}]},"kind":"init"},{"type":"Property","start":7045,"end":7073,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7045,"end":7054,"name":"startTime"},"value":{"type":"Identifier","start":7056,"end":7073,"name":"progressStartTime"},"kind":"init"},{"type":"Property","start":7103,"end":7116,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7103,"end":7110,"name":"endTime"},"value":{"type":"Literal","start":7112,"end":7116,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":7146,"end":7154,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7146,"end":7149,"name":"eta"},"value":{"type":"Identifier","start":7151,"end":7154,"name":"eta"},"kind":"init"},{"type":"Property","start":7184,"end":7218,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7184,"end":7192,"name":"etaHuman"},"value":{"type":"CallExpression","start":7194,"end":7218,"optional":false,"callee":{"type":"MemberExpression","start":7194,"end":7213,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":7194,"end":7198},"property":{"type":"Identifier","start":7199,"end":7213,"name":"secondsToHuman"}},"arguments":[{"type":"Identifier","start":7214,"end":7217,"name":"eta"}]},"kind":"init"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":7288,"end":7337,"expression":{"type":"CallExpression","start":7288,"end":7336,"optional":false,"callee":{"type":"MemberExpression","start":7288,"end":7301,"computed":false,"optional":false,"object":{"type":"Identifier","start":7288,"end":7296,"name":"observer"},"property":{"type":"Identifier","start":7297,"end":7301,"name":"next"}},"arguments":[{"type":"ObjectExpression","start":7302,"end":7335,"properties":[{"type":"Property","start":7304,"end":7321,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7304,"end":7308,"name":"type"},"value":{"type":"Literal","start":7310,"end":7321,"value":"uploading","raw":"'uploading'"},"kind":"init"},{"type":"Property","start":7323,"end":7333,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7323,"end":7327,"name":"file"},"value":{"type":"Identifier","start":7329,"end":7333,"name":"file"},"kind":"init"}]}]}}]},"alternate":null}]},"id":null},{"type":"Literal","start":7371,"end":7376,"value":false,"raw":"false"}]}},{"type":"ExpressionStatement","start":7391,"end":7524,"expression":{"type":"CallExpression","start":7391,"end":7523,"optional":false,"callee":{"type":"MemberExpression","start":7391,"end":7418,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":7391,"end":7401,"computed":false,"optional":false,"object":{"type":"Identifier","start":7391,"end":7394,"name":"xhr"},"property":{"type":"Identifier","start":7395,"end":7401,"name":"upload"}},"property":{"type":"Identifier","start":7402,"end":7418,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":7419,"end":7426,"value":"error","raw":"'error'"},{"type":"ArrowFunctionExpression","start":7428,"end":7522,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":7429,"end":7430,"name":"e"}],"body":{"type":"BlockStatement","start":7435,"end":7522,"body":[{"type":"ExpressionStatement","start":7453,"end":7471,"expression":{"type":"CallExpression","start":7453,"end":7470,"optional":false,"callee":{"type":"MemberExpression","start":7453,"end":7467,"computed":false,"optional":false,"object":{"type":"Identifier","start":7453,"end":7461,"name":"observer"},"property":{"type":"Identifier","start":7462,"end":7467,"name":"error"}},"arguments":[{"type":"Identifier","start":7468,"end":7469,"name":"e"}]}},{"type":"ExpressionStatement","start":7488,"end":7508,"expression":{"type":"CallExpression","start":7488,"end":7507,"optional":false,"callee":{"type":"MemberExpression","start":7488,"end":7505,"computed":false,"optional":false,"object":{"type":"Identifier","start":7488,"end":7496,"name":"observer"},"property":{"type":"Identifier","start":7497,"end":7505,"name":"complete"}},"arguments":[]}}]},"id":null}]}},{"type":"ExpressionStatement","start":7537,"end":8826,"expression":{"type":"AssignmentExpression","start":7537,"end":8825,"operator":"=","left":{"type":"MemberExpression","start":7537,"end":7559,"computed":false,"optional":false,"object":{"type":"Identifier","start":7537,"end":7540,"name":"xhr"},"property":{"type":"Identifier","start":7541,"end":7559,"name":"onreadystatechange"}},"right":{"type":"ArrowFunctionExpression","start":7562,"end":8825,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":7568,"end":8825,"body":[{"type":"IfStatement","start":7586,"end":8811,"test":{"type":"BinaryExpression","start":7590,"end":7628,"operator":"===","left":{"type":"MemberExpression","start":7590,"end":7604,"computed":false,"optional":false,"object":{"type":"Identifier","start":7590,"end":7593,"name":"xhr"},"property":{"type":"Identifier","start":7594,"end":7604,"name":"readyState"}},"right":{"type":"MemberExpression","start":7609,"end":7628,"computed":false,"optional":false,"object":{"type":"Identifier","start":7609,"end":7623,"name":"XMLHttpRequest"},"property":{"type":"Identifier","start":7624,"end":7628,"name":"DONE"}}},"consequent":{"type":"BlockStatement","start":7630,"end":8811,"body":[{"type":"VariableDeclaration","start":7652,"end":7749,"kind":"const","declarations":[{"type":"VariableDeclarator","start":7658,"end":7748,"id":{"type":"Identifier","start":7658,"end":7670,"name":"speedAverage"},"init":{"type":"CallExpression","start":7673,"end":7748,"optional":false,"callee":{"type":"MemberExpression","start":7673,"end":7683,"computed":false,"optional":false,"object":{"type":"Identifier","start":7673,"end":7677,"name":"Math"},"property":{"type":"Identifier","start":7678,"end":7683,"name":"round"}},"arguments":[{"type":"BinaryExpression","start":7684,"end":7747,"operator":"*","left":{"type":"BinaryExpression","start":7685,"end":7739,"operator":"/","left":{"type":"MemberExpression","start":7685,"end":7694,"computed":false,"optional":false,"object":{"type":"Identifier","start":7685,"end":7689,"name":"file"},"property":{"type":"Identifier","start":7690,"end":7694,"name":"size"}},"right":{"type":"BinaryExpression","start":7698,"end":7738,"operator":"-","left":{"type":"CallExpression","start":7698,"end":7718,"optional":false,"callee":{"type":"MemberExpression","start":7698,"end":7716,"computed":false,"optional":false,"object":{"type":"NewExpression","start":7698,"end":7708,"callee":{"type":"Identifier","start":7702,"end":7706,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":7709,"end":7716,"name":"getTime"}},"arguments":[]},"right":{"type":"Identifier","start":7721,"end":7738,"name":"progressStartTime"}}},"right":{"type":"Literal","start":7743,"end":7747,"raw":"1000","value":1000}}]}}]},{"type":"ExpressionStatement","start":7770,"end":8312,"expression":{"type":"AssignmentExpression","start":7770,"end":8311,"operator":"=","left":{"type":"MemberExpression","start":7770,"end":7783,"computed":false,"optional":false,"object":{"type":"Identifier","start":7770,"end":7774,"name":"file"},"property":{"type":"Identifier","start":7775,"end":7783,"name":"progress"}},"right":{"type":"ObjectExpression","start":7786,"end":8311,"properties":[{"type":"Property","start":7812,"end":7837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7812,"end":7818,"name":"status"},"value":{"type":"MemberExpression","start":7820,"end":7837,"computed":false,"optional":false,"object":{"type":"Identifier","start":7820,"end":7832,"name":"UploadStatus"},"property":{"type":"Identifier","start":7833,"end":7837,"name":"Done"}},"kind":"init"},{"type":"Property","start":7863,"end":8289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7863,"end":7867,"name":"data"},"value":{"type":"ObjectExpression","start":7869,"end":8289,"properties":[{"type":"Property","start":7899,"end":7914,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7899,"end":7909,"name":"percentage"},"value":{"type":"Literal","start":7911,"end":7914,"raw":"100","value":100},"kind":"init"},{"type":"Property","start":7944,"end":7963,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7944,"end":7949,"name":"speed"},"value":{"type":"Identifier","start":7951,"end":7963,"name":"speedAverage"},"kind":"init"},{"type":"Property","start":7993,"end":8039,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7993,"end":8003,"name":"speedHuman"},"value":{"type":"TemplateLiteral","start":8005,"end":8039,"quasis":[{"type":"TemplateElement","start":8006,"end":8006,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":8036,"end":8038,"tail":true,"value":{"cooked":"/s","raw":"/s"}}],"expressions":[{"type":"CallExpression","start":8008,"end":8035,"optional":false,"callee":{"type":"Identifier","start":8008,"end":8021,"name":"humanizeBytes"},"arguments":[{"type":"Identifier","start":8022,"end":8034,"name":"speedAverage"}]}]},"kind":"init"},{"type":"Property","start":8069,"end":8097,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8069,"end":8078,"name":"startTime"},"value":{"type":"Identifier","start":8080,"end":8097,"name":"progressStartTime"},"kind":"init"},{"type":"Property","start":8127,"end":8156,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8127,"end":8134,"name":"endTime"},"value":{"type":"CallExpression","start":8136,"end":8156,"optional":false,"callee":{"type":"MemberExpression","start":8136,"end":8154,"computed":false,"optional":false,"object":{"type":"NewExpression","start":8136,"end":8146,"callee":{"type":"Identifier","start":8140,"end":8144,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":8147,"end":8154,"name":"getTime"}},"arguments":[]},"kind":"init"},{"type":"Property","start":8186,"end":8194,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8186,"end":8189,"name":"eta"},"value":{"type":"Identifier","start":8191,"end":8194,"name":"eta"},"kind":"init"},{"type":"Property","start":8224,"end":8263,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8224,"end":8232,"name":"etaHuman"},"value":{"type":"CallExpression","start":8234,"end":8263,"optional":false,"callee":{"type":"MemberExpression","start":8234,"end":8253,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8234,"end":8238},"property":{"type":"Identifier","start":8239,"end":8253,"name":"secondsToHuman"}},"arguments":[{"type":"LogicalExpression","start":8254,"end":8262,"operator":"||","left":{"type":"Identifier","start":8254,"end":8257,"name":"eta"},"right":{"type":"Literal","start":8261,"end":8262,"raw":"0","value":0}}]},"kind":"init"}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":8333,"end":8366,"expression":{"type":"AssignmentExpression","start":8333,"end":8365,"operator":"=","left":{"type":"MemberExpression","start":8333,"end":8352,"computed":false,"optional":false,"object":{"type":"Identifier","start":8333,"end":8337,"name":"file"},"property":{"type":"Identifier","start":8338,"end":8352,"name":"responseStatus"}},"right":{"type":"MemberExpression","start":8355,"end":8365,"computed":false,"optional":false,"object":{"type":"Identifier","start":8355,"end":8358,"name":"xhr"},"property":{"type":"Identifier","start":8359,"end":8365,"name":"status"}}}},{"type":"TryStatement","start":8387,"end":8588,"block":{"type":"BlockStatement","start":8391,"end":8480,"body":[{"type":"ExpressionStatement","start":8417,"end":8458,"expression":{"type":"AssignmentExpression","start":8417,"end":8457,"operator":"=","left":{"type":"MemberExpression","start":8417,"end":8430,"computed":false,"optional":false,"object":{"type":"Identifier","start":8417,"end":8421,"name":"file"},"property":{"type":"Identifier","start":8422,"end":8430,"name":"response"}},"right":{"type":"CallExpression","start":8433,"end":8457,"optional":false,"callee":{"type":"MemberExpression","start":8433,"end":8443,"computed":false,"optional":false,"object":{"type":"Identifier","start":8433,"end":8437,"name":"JSON"},"property":{"type":"Identifier","start":8438,"end":8443,"name":"parse"}},"arguments":[{"type":"MemberExpression","start":8444,"end":8456,"computed":false,"optional":false,"object":{"type":"Identifier","start":8444,"end":8447,"name":"xhr"},"property":{"type":"Identifier","start":8448,"end":8456,"name":"response"}}]}}}]},"handler":{"type":"CatchClause","start":8501,"end":8588,"param":{"type":"Identifier","start":8508,"end":8509,"name":"e"},"body":{"type":"BlockStatement","start":8511,"end":8588,"body":[{"type":"ExpressionStatement","start":8537,"end":8566,"expression":{"type":"AssignmentExpression","start":8537,"end":8565,"operator":"=","left":{"type":"MemberExpression","start":8537,"end":8550,"computed":false,"optional":false,"object":{"type":"Identifier","start":8537,"end":8541,"name":"file"},"property":{"type":"Identifier","start":8542,"end":8550,"name":"response"}},"right":{"type":"MemberExpression","start":8553,"end":8565,"computed":false,"optional":false,"object":{"type":"Identifier","start":8553,"end":8556,"name":"xhr"},"property":{"type":"Identifier","start":8557,"end":8565,"name":"response"}}}}]}},"finalizer":null},{"type":"ExpressionStatement","start":8609,"end":8687,"expression":{"type":"AssignmentExpression","start":8609,"end":8686,"operator":"=","left":{"type":"MemberExpression","start":8609,"end":8629,"computed":false,"optional":false,"object":{"type":"Identifier","start":8609,"end":8613,"name":"file"},"property":{"type":"Identifier","start":8614,"end":8629,"name":"responseHeaders"}},"right":{"type":"CallExpression","start":8632,"end":8686,"optional":false,"callee":{"type":"MemberExpression","start":8632,"end":8657,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":8632,"end":8636},"property":{"type":"Identifier","start":8637,"end":8657,"name":"parseResponseHeaders"}},"arguments":[{"type":"CallExpression","start":8658,"end":8685,"optional":false,"callee":{"type":"MemberExpression","start":8658,"end":8683,"computed":false,"optional":false,"object":{"type":"Identifier","start":8658,"end":8661,"name":"xhr"},"property":{"type":"Identifier","start":8662,"end":8683,"name":"getAllResponseHeaders"}},"arguments":[]}]}}},{"type":"ExpressionStatement","start":8708,"end":8752,"expression":{"type":"CallExpression","start":8708,"end":8751,"optional":false,"callee":{"type":"MemberExpression","start":8708,"end":8721,"computed":false,"optional":false,"object":{"type":"Identifier","start":8708,"end":8716,"name":"observer"},"property":{"type":"Identifier","start":8717,"end":8721,"name":"next"}},"arguments":[{"type":"ObjectExpression","start":8722,"end":8750,"properties":[{"type":"Property","start":8724,"end":8736,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8724,"end":8728,"name":"type"},"value":{"type":"Literal","start":8730,"end":8736,"value":"done","raw":"'done'"},"kind":"init"},{"type":"Property","start":8738,"end":8748,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8738,"end":8742,"name":"file"},"value":{"type":"Identifier","start":8744,"end":8748,"name":"file"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":8773,"end":8793,"expression":{"type":"CallExpression","start":8773,"end":8792,"optional":false,"callee":{"type":"MemberExpression","start":8773,"end":8790,"computed":false,"optional":false,"object":{"type":"Identifier","start":8773,"end":8781,"name":"observer"},"property":{"type":"Identifier","start":8782,"end":8790,"name":"complete"}},"arguments":[]}}]},"alternate":null}]},"id":null}}},{"type":"ExpressionStatement","start":8839,"end":8867,"expression":{"type":"CallExpression","start":8839,"end":8866,"optional":false,"callee":{"type":"MemberExpression","start":8839,"end":8847,"computed":false,"optional":false,"object":{"type":"Identifier","start":8839,"end":8842,"name":"xhr"},"property":{"type":"Identifier","start":8843,"end":8847,"name":"open"}},"arguments":[{"type":"Identifier","start":8848,"end":8854,"name":"method"},{"type":"Identifier","start":8856,"end":8859,"name":"url"},{"type":"Literal","start":8861,"end":8865,"value":true,"raw":"true"}]}},{"type":"ExpressionStatement","start":8880,"end":8924,"expression":{"type":"AssignmentExpression","start":8880,"end":8923,"operator":"=","left":{"type":"MemberExpression","start":8880,"end":8899,"computed":false,"optional":false,"object":{"type":"Identifier","start":8880,"end":8883,"name":"xhr"},"property":{"type":"Identifier","start":8884,"end":8899,"name":"withCredentials"}},"right":{"type":"MemberExpression","start":8902,"end":8923,"computed":false,"optional":false,"object":{"type":"Identifier","start":8902,"end":8907,"name":"event"},"property":{"type":"Identifier","start":8908,"end":8923,"name":"withCredentials"}}}},{"type":"TryStatement","start":8937,"end":9967,"block":{"type":"BlockStatement","start":8941,"end":9892,"body":[{"type":"VariableDeclaration","start":8959,"end":8994,"kind":"const","declarations":[{"type":"VariableDeclarator","start":8965,"end":8993,"id":{"type":"Identifier","start":8965,"end":8975,"name":"uploadFile"},"init":{"type":"MemberExpression","start":8978,"end":8993,"computed":false,"optional":false,"object":{"type":"Identifier","start":8978,"end":8982,"name":"file"},"property":{"type":"Identifier","start":8983,"end":8993,"name":"nativeFile"}}}]},{"type":"VariableDeclaration","start":9011,"end":9098,"kind":"const","declarations":[{"type":"VariableDeclarator","start":9017,"end":9097,"id":{"type":"Identifier","start":9017,"end":9028,"name":"uploadIndex"},"init":{"type":"CallExpression","start":9031,"end":9097,"optional":false,"callee":{"type":"MemberExpression","start":9031,"end":9051,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9031,"end":9041,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":9031,"end":9035},"property":{"type":"Identifier","start":9036,"end":9041,"name":"queue"}},"property":{"type":"Identifier","start":9042,"end":9051,"name":"findIndex"}},"arguments":[{"type":"ArrowFunctionExpression","start":9052,"end":9096,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":9052,"end":9059,"name":"outFile"}],"body":{"type":"BinaryExpression","start":9063,"end":9096,"operator":"===","left":{"type":"MemberExpression","start":9063,"end":9081,"computed":false,"optional":false,"object":{"type":"Identifier","start":9063,"end":9070,"name":"outFile"},"property":{"type":"Identifier","start":9071,"end":9081,"name":"nativeFile"}},"right":{"type":"Identifier","start":9086,"end":9096,"name":"uploadFile"}},"id":null}]}}]},{"type":"IfStatement","start":9115,"end":9247,"test":{"type":"BinaryExpression","start":9119,"end":9185,"operator":"===","left":{"type":"MemberExpression","start":9119,"end":9158,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9119,"end":9151,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9119,"end":9142,"computed":true,"optional":false,"object":{"type":"MemberExpression","start":9119,"end":9129,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":9119,"end":9123},"property":{"type":"Identifier","start":9124,"end":9129,"name":"queue"}},"property":{"type":"Identifier","start":9130,"end":9141,"name":"uploadIndex"}},"property":{"type":"Identifier","start":9143,"end":9151,"name":"progress"}},"property":{"type":"Identifier","start":9152,"end":9158,"name":"status"}},"right":{"type":"MemberExpression","start":9163,"end":9185,"computed":false,"optional":false,"object":{"type":"Identifier","start":9163,"end":9175,"name":"UploadStatus"},"property":{"type":"Identifier","start":9176,"end":9185,"name":"Cancelled"}}},"consequent":{"type":"BlockStatement","start":9187,"end":9247,"body":[{"type":"ExpressionStatement","start":9209,"end":9229,"expression":{"type":"CallExpression","start":9209,"end":9228,"optional":false,"callee":{"type":"MemberExpression","start":9209,"end":9226,"computed":false,"optional":false,"object":{"type":"Identifier","start":9209,"end":9217,"name":"observer"},"property":{"type":"Identifier","start":9218,"end":9226,"name":"complete"}},"arguments":[]}}]},"alternate":null},{"type":"ExpressionStatement","start":9264,"end":9341,"expression":{"type":"CallExpression","start":9264,"end":9340,"optional":false,"callee":{"type":"MemberExpression","start":9264,"end":9292,"computed":false,"optional":false,"object":{"type":"CallExpression","start":9264,"end":9284,"optional":false,"callee":{"type":"MemberExpression","start":9264,"end":9275,"computed":false,"optional":false,"object":{"type":"Identifier","start":9264,"end":9270,"name":"Object"},"property":{"type":"Identifier","start":9271,"end":9275,"name":"keys"}},"arguments":[{"type":"Identifier","start":9276,"end":9283,"name":"headers"}]},"property":{"type":"Identifier","start":9285,"end":9292,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":9293,"end":9339,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":9293,"end":9296,"name":"key"}],"body":{"type":"CallExpression","start":9300,"end":9339,"optional":false,"callee":{"type":"MemberExpression","start":9300,"end":9320,"computed":false,"optional":false,"object":{"type":"Identifier","start":9300,"end":9303,"name":"xhr"},"property":{"type":"Identifier","start":9304,"end":9320,"name":"setRequestHeader"}},"arguments":[{"type":"Identifier","start":9321,"end":9324,"name":"key"},{"type":"MemberExpression","start":9326,"end":9338,"computed":true,"optional":false,"object":{"type":"Identifier","start":9326,"end":9333,"name":"headers"},"property":{"type":"Identifier","start":9334,"end":9337,"name":"key"}}]},"id":null}]}},{"type":"VariableDeclaration","start":9358,"end":9373,"kind":"let","declarations":[{"type":"VariableDeclarator","start":9362,"end":9372,"id":{"type":"Identifier","start":9362,"end":9372,"name":"bodyToSend"},"init":null}]},{"type":"IfStatement","start":9390,"end":9768,"test":{"type":"BinaryExpression","start":9394,"end":9435,"operator":"!==","left":{"type":"MemberExpression","start":9394,"end":9425,"computed":false,"optional":false,"object":{"type":"Identifier","start":9394,"end":9399,"name":"event"},"property":{"type":"Identifier","start":9400,"end":9425,"name":"includeWebKitFormBoundary"}},"right":{"type":"Literal","start":9430,"end":9435,"value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","start":9437,"end":9682,"body":[{"type":"ExpressionStatement","start":9459,"end":9526,"expression":{"type":"CallExpression","start":9459,"end":9525,"optional":false,"callee":{"type":"MemberExpression","start":9459,"end":9484,"computed":false,"optional":false,"object":{"type":"CallExpression","start":9459,"end":9476,"optional":false,"callee":{"type":"MemberExpression","start":9459,"end":9470,"computed":false,"optional":false,"object":{"type":"Identifier","start":9459,"end":9465,"name":"Object"},"property":{"type":"Identifier","start":9466,"end":9470,"name":"keys"}},"arguments":[{"type":"Identifier","start":9471,"end":9475,"name":"data"}]},"property":{"type":"Identifier","start":9477,"end":9484,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":9485,"end":9524,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":9485,"end":9488,"name":"key"}],"body":{"type":"CallExpression","start":9492,"end":9524,"optional":false,"callee":{"type":"MemberExpression","start":9492,"end":9508,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9492,"end":9501,"computed":false,"optional":false,"object":{"type":"Identifier","start":9492,"end":9496,"name":"file"},"property":{"type":"Identifier","start":9497,"end":9501,"name":"form"}},"property":{"type":"Identifier","start":9502,"end":9508,"name":"append"}},"arguments":[{"type":"Identifier","start":9509,"end":9512,"name":"key"},{"type":"MemberExpression","start":9514,"end":9523,"computed":true,"optional":false,"object":{"type":"Identifier","start":9514,"end":9518,"name":"data"},"property":{"type":"Identifier","start":9519,"end":9522,"name":"key"}}]},"id":null}]}},{"type":"ExpressionStatement","start":9547,"end":9620,"expression":{"type":"CallExpression","start":9547,"end":9619,"optional":false,"callee":{"type":"MemberExpression","start":9547,"end":9563,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9547,"end":9556,"computed":false,"optional":false,"object":{"type":"Identifier","start":9547,"end":9551,"name":"file"},"property":{"type":"Identifier","start":9552,"end":9556,"name":"form"}},"property":{"type":"Identifier","start":9557,"end":9563,"name":"append"}},"arguments":[{"type":"LogicalExpression","start":9564,"end":9589,"operator":"||","left":{"type":"MemberExpression","start":9564,"end":9579,"computed":false,"optional":false,"object":{"type":"Identifier","start":9564,"end":9569,"name":"event"},"property":{"type":"Identifier","start":9570,"end":9579,"name":"fieldName"}},"right":{"type":"Literal","start":9583,"end":9589,"value":"file","raw":"'file'"}},{"type":"Identifier","start":9591,"end":9601,"name":"uploadFile"},{"type":"MemberExpression","start":9603,"end":9618,"computed":false,"optional":false,"object":{"type":"Identifier","start":9603,"end":9613,"name":"uploadFile"},"property":{"type":"Identifier","start":9614,"end":9618,"name":"name"}}]}},{"type":"ExpressionStatement","start":9641,"end":9664,"expression":{"type":"AssignmentExpression","start":9641,"end":9663,"operator":"=","left":{"type":"Identifier","start":9641,"end":9651,"name":"bodyToSend"},"right":{"type":"MemberExpression","start":9654,"end":9663,"computed":false,"optional":false,"object":{"type":"Identifier","start":9654,"end":9658,"name":"file"},"property":{"type":"Identifier","start":9659,"end":9663,"name":"form"}}}}]},"alternate":{"type":"BlockStatement","start":9704,"end":9768,"body":[{"type":"ExpressionStatement","start":9726,"end":9750,"expression":{"type":"AssignmentExpression","start":9726,"end":9749,"operator":"=","left":{"type":"Identifier","start":9726,"end":9736,"name":"bodyToSend"},"right":{"type":"Identifier","start":9739,"end":9749,"name":"uploadFile"}}}]}},{"type":"ExpressionStatement","start":9785,"end":9840,"expression":{"type":"CallExpression","start":9785,"end":9839,"optional":false,"callee":{"type":"MemberExpression","start":9785,"end":9808,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":9785,"end":9803,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":9785,"end":9789},"property":{"type":"Identifier","start":9790,"end":9803,"name":"serviceEvents"}},"property":{"type":"Identifier","start":9804,"end":9808,"name":"emit"}},"arguments":[{"type":"ObjectExpression","start":9809,"end":9838,"properties":[{"type":"Property","start":9811,"end":9824,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9811,"end":9815,"name":"type"},"value":{"type":"Literal","start":9817,"end":9824,"value":"start","raw":"'start'"},"kind":"init"},{"type":"Property","start":9826,"end":9836,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9826,"end":9830,"name":"file"},"value":{"type":"Identifier","start":9832,"end":9836,"name":"file"},"kind":"init"}]}]}},{"type":"ExpressionStatement","start":9857,"end":9878,"expression":{"type":"CallExpression","start":9857,"end":9877,"optional":false,"callee":{"type":"MemberExpression","start":9857,"end":9865,"computed":false,"optional":false,"object":{"type":"Identifier","start":9857,"end":9860,"name":"xhr"},"property":{"type":"Identifier","start":9861,"end":9865,"name":"send"}},"arguments":[{"type":"Identifier","start":9866,"end":9876,"name":"bodyToSend"}]}}]},"handler":{"type":"CatchClause","start":9905,"end":9967,"param":{"type":"Identifier","start":9912,"end":9913,"name":"e"},"body":{"type":"BlockStatement","start":9915,"end":9967,"body":[{"type":"ExpressionStatement","start":9933,"end":9953,"expression":{"type":"CallExpression","start":9933,"end":9952,"optional":false,"callee":{"type":"MemberExpression","start":9933,"end":9950,"computed":false,"optional":false,"object":{"type":"Identifier","start":9933,"end":9941,"name":"observer"},"property":{"type":"Identifier","start":9942,"end":9950,"name":"complete"}},"arguments":[]}}]}},"finalizer":null},{"type":"ReturnStatement","start":9980,"end":10038,"argument":{"type":"ArrowFunctionExpression","start":9987,"end":10037,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":9993,"end":10037,"body":[{"type":"ExpressionStatement","start":10011,"end":10023,"expression":{"type":"CallExpression","start":10011,"end":10022,"optional":false,"callee":{"type":"MemberExpression","start":10011,"end":10020,"computed":false,"optional":false,"object":{"type":"Identifier","start":10011,"end":10014,"name":"xhr"},"property":{"type":"Identifier","start":10015,"end":10020,"name":"abort"}},"arguments":[]}}]},"id":null}}]},"id":null}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10061,"end":10153,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10061,"end":10075,"name":"secondsToHuman"},"value":{"type":"FunctionExpression","start":10075,"end":10153,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":10076,"end":10079,"name":"sec"}],"body":{"type":"BlockStatement","start":10081,"end":10153,"body":[{"type":"ReturnStatement","start":10091,"end":10147,"argument":{"type":"CallExpression","start":10098,"end":10146,"optional":false,"callee":{"type":"MemberExpression","start":10098,"end":10139,"computed":false,"optional":false,"object":{"type":"CallExpression","start":10098,"end":10132,"optional":false,"callee":{"type":"MemberExpression","start":10098,"end":10130,"computed":false,"optional":false,"object":{"type":"NewExpression","start":10098,"end":10118,"callee":{"type":"Identifier","start":10102,"end":10106,"name":"Date"},"arguments":[{"type":"BinaryExpression","start":10107,"end":10117,"operator":"*","left":{"type":"Identifier","start":10107,"end":10110,"name":"sec"},"right":{"type":"Literal","start":10113,"end":10117,"raw":"1000","value":1000}}]},"property":{"type":"Identifier","start":10119,"end":10130,"name":"toISOString"}},"arguments":[]},"property":{"type":"Identifier","start":10133,"end":10139,"name":"substr"}},"arguments":[{"type":"Literal","start":10140,"end":10142,"raw":"11","value":11},{"type":"Literal","start":10144,"end":10145,"raw":"8","value":8}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10158,"end":10234,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10158,"end":10168,"name":"generateId"},"value":{"type":"FunctionExpression","start":10168,"end":10234,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":10171,"end":10234,"body":[{"type":"ReturnStatement","start":10181,"end":10228,"argument":{"type":"CallExpression","start":10188,"end":10227,"optional":false,"callee":{"type":"MemberExpression","start":10188,"end":10224,"computed":false,"optional":false,"object":{"type":"CallExpression","start":10188,"end":10214,"optional":false,"callee":{"type":"MemberExpression","start":10188,"end":10210,"computed":false,"optional":false,"object":{"type":"CallExpression","start":10188,"end":10201,"optional":false,"callee":{"type":"MemberExpression","start":10188,"end":10199,"computed":false,"optional":false,"object":{"type":"Identifier","start":10188,"end":10192,"name":"Math"},"property":{"type":"Identifier","start":10193,"end":10199,"name":"random"}},"arguments":[]},"property":{"type":"Identifier","start":10202,"end":10210,"name":"toString"}},"arguments":[{"type":"Literal","start":10211,"end":10213,"raw":"36","value":36}]},"property":{"type":"Identifier","start":10215,"end":10224,"name":"substring"}},"arguments":[{"type":"Literal","start":10225,"end":10226,"raw":"7","value":7}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10239,"end":10640,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10239,"end":10254,"name":"setContentTypes"},"value":{"type":"FunctionExpression","start":10254,"end":10640,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":10255,"end":10267,"name":"contentTypes"}],"body":{"type":"BlockStatement","start":10269,"end":10640,"body":[{"type":"IfStatement","start":10279,"end":10599,"test":{"type":"LogicalExpression","start":10283,"end":10351,"operator":"&&","left":{"type":"BinaryExpression","start":10283,"end":10318,"operator":"!==","left":{"type":"UnaryExpression","start":10283,"end":10302,"operator":"typeof","argument":{"type":"Identifier","start":10290,"end":10302,"name":"contentTypes"},"prefix":true},"right":{"type":"Literal","start":10307,"end":10318,"value":"undefined","raw":"'undefined'"}},"right":{"type":"BinaryExpression","start":10322,"end":10351,"operator":"instanceof","left":{"type":"Identifier","start":10322,"end":10334,"name":"contentTypes"},"right":{"type":"Identifier","start":10346,"end":10351,"name":"Array"}}},"consequent":{"type":"BlockStatement","start":10353,"end":10599,"body":[{"type":"IfStatement","start":10367,"end":10569,"test":{"type":"BinaryExpression","start":10371,"end":10426,"operator":"!==","left":{"type":"CallExpression","start":10371,"end":10412,"optional":false,"callee":{"type":"MemberExpression","start":10371,"end":10388,"computed":false,"optional":false,"object":{"type":"Identifier","start":10371,"end":10383,"name":"contentTypes"},"property":{"type":"Identifier","start":10384,"end":10388,"name":"find"}},"arguments":[{"type":"ArrowFunctionExpression","start":10389,"end":10411,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":10390,"end":10394,"name":"type"}],"body":{"type":"BinaryExpression","start":10399,"end":10411,"operator":"===","left":{"type":"Identifier","start":10399,"end":10403,"name":"type"},"right":{"type":"Literal","start":10408,"end":10411,"value":"*","raw":"'*'"}},"id":null}]},"right":{"type":"Identifier","start":10417,"end":10426,"name":"undefined"}},"consequent":{"type":"BlockStatement","start":10428,"end":10486,"body":[{"type":"ExpressionStatement","start":10446,"end":10472,"expression":{"type":"AssignmentExpression","start":10446,"end":10471,"operator":"=","left":{"type":"MemberExpression","start":10446,"end":10463,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10446,"end":10450},"property":{"type":"Identifier","start":10451,"end":10463,"name":"contentTypes"}},"right":{"type":"ArrayExpression","start":10466,"end":10471,"elements":[{"type":"Literal","start":10467,"end":10470,"value":"*","raw":"'*'"}]}}}]},"alternate":{"type":"BlockStatement","start":10504,"end":10569,"body":[{"type":"ExpressionStatement","start":10522,"end":10555,"expression":{"type":"AssignmentExpression","start":10522,"end":10554,"operator":"=","left":{"type":"MemberExpression","start":10522,"end":10539,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10522,"end":10526},"property":{"type":"Identifier","start":10527,"end":10539,"name":"contentTypes"}},"right":{"type":"Identifier","start":10542,"end":10554,"name":"contentTypes"}}}]}},{"type":"ReturnStatement","start":10582,"end":10589,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":10608,"end":10634,"expression":{"type":"AssignmentExpression","start":10608,"end":10633,"operator":"=","left":{"type":"MemberExpression","start":10608,"end":10625,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10608,"end":10612},"property":{"type":"Identifier","start":10613,"end":10625,"name":"contentTypes"}},"right":{"type":"ArrayExpression","start":10628,"end":10633,"elements":[{"type":"Literal","start":10629,"end":10632,"value":"*","raw":"'*'"}]}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10645,"end":10754,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10645,"end":10667,"name":"allContentTypesAllowed"},"value":{"type":"FunctionExpression","start":10667,"end":10754,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":10670,"end":10754,"body":[{"type":"ReturnStatement","start":10680,"end":10748,"argument":{"type":"BinaryExpression","start":10687,"end":10747,"operator":"!==","left":{"type":"CallExpression","start":10687,"end":10733,"optional":false,"callee":{"type":"MemberExpression","start":10687,"end":10709,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":10687,"end":10704,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10687,"end":10691},"property":{"type":"Identifier","start":10692,"end":10704,"name":"contentTypes"}},"property":{"type":"Identifier","start":10705,"end":10709,"name":"find"}},"arguments":[{"type":"ArrowFunctionExpression","start":10710,"end":10732,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":10711,"end":10715,"name":"type"}],"body":{"type":"BinaryExpression","start":10720,"end":10732,"operator":"===","left":{"type":"Identifier","start":10720,"end":10724,"name":"type"},"right":{"type":"Literal","start":10729,"end":10732,"value":"*","raw":"'*'"}},"id":null}]},"right":{"type":"Identifier","start":10738,"end":10747,"name":"undefined"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10759,"end":10959,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10759,"end":10779,"name":"isContentTypeAllowed"},"value":{"type":"FunctionExpression","start":10779,"end":10959,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":10780,"end":10788,"name":"mimetype"}],"body":{"type":"BlockStatement","start":10790,"end":10959,"body":[{"type":"IfStatement","start":10800,"end":10871,"test":{"type":"CallExpression","start":10804,"end":10833,"optional":false,"callee":{"type":"MemberExpression","start":10804,"end":10831,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10804,"end":10808},"property":{"type":"Identifier","start":10809,"end":10831,"name":"allContentTypesAllowed"}},"arguments":[]},"consequent":{"type":"BlockStatement","start":10835,"end":10871,"body":[{"type":"ReturnStatement","start":10849,"end":10861,"argument":{"type":"Literal","start":10856,"end":10860,"value":true,"raw":"true"}}]},"alternate":null},{"type":"ReturnStatement","start":10880,"end":10953,"argument":{"type":"BinaryExpression","start":10887,"end":10952,"operator":"!==","left":{"type":"CallExpression","start":10887,"end":10938,"optional":false,"callee":{"type":"MemberExpression","start":10887,"end":10909,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":10887,"end":10904,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":10887,"end":10891},"property":{"type":"Identifier","start":10892,"end":10904,"name":"contentTypes"}},"property":{"type":"Identifier","start":10905,"end":10909,"name":"find"}},"arguments":[{"type":"ArrowFunctionExpression","start":10910,"end":10937,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":10911,"end":10915,"name":"type"}],"body":{"type":"BinaryExpression","start":10920,"end":10937,"operator":"===","left":{"type":"Identifier","start":10920,"end":10924,"name":"type"},"right":{"type":"Identifier","start":10929,"end":10937,"name":"mimetype"}},"id":null}]},"right":{"type":"Identifier","start":10943,"end":10952,"name":"undefined"}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":10964,"end":11112,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":10964,"end":10981,"name":"isFileSizeAllowed"},"value":{"type":"FunctionExpression","start":10981,"end":11112,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":10982,"end":10990,"name":"fileSize"}],"body":{"type":"BlockStatement","start":10992,"end":11112,"body":[{"type":"IfStatement","start":11002,"end":11061,"test":{"type":"UnaryExpression","start":11006,"end":11023,"operator":"!","argument":{"type":"MemberExpression","start":11007,"end":11023,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":11007,"end":11011},"property":{"type":"Identifier","start":11012,"end":11023,"name":"maxFileSize"}},"prefix":true},"consequent":{"type":"BlockStatement","start":11025,"end":11061,"body":[{"type":"ReturnStatement","start":11039,"end":11051,"argument":{"type":"Literal","start":11046,"end":11050,"value":true,"raw":"true"}}]},"alternate":null},{"type":"ReturnStatement","start":11070,"end":11106,"argument":{"type":"BinaryExpression","start":11077,"end":11105,"operator":"<=","left":{"type":"Identifier","start":11077,"end":11085,"name":"fileSize"},"right":{"type":"MemberExpression","start":11089,"end":11105,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":11089,"end":11093},"property":{"type":"Identifier","start":11094,"end":11105,"name":"maxFileSize"}}}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":11117,"end":11867,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":11117,"end":11131,"name":"makeUploadFile"},"value":{"type":"FunctionExpression","start":11131,"end":11867,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":11132,"end":11136,"name":"file"},{"type":"Identifier","start":11138,"end":11143,"name":"index"}],"body":{"type":"BlockStatement","start":11145,"end":11867,"body":[{"type":"ReturnStatement","start":11155,"end":11861,"argument":{"type":"ObjectExpression","start":11162,"end":11860,"properties":[{"type":"Property","start":11176,"end":11192,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11176,"end":11185,"name":"fileIndex"},"value":{"type":"Identifier","start":11187,"end":11192,"name":"index"},"kind":"init"},{"type":"Property","start":11206,"end":11227,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11206,"end":11208,"name":"id"},"value":{"type":"CallExpression","start":11210,"end":11227,"optional":false,"callee":{"type":"MemberExpression","start":11210,"end":11225,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":11210,"end":11214},"property":{"type":"Identifier","start":11215,"end":11225,"name":"generateId"}},"arguments":[]},"kind":"init"},{"type":"Property","start":11241,"end":11256,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11241,"end":11245,"name":"name"},"value":{"type":"MemberExpression","start":11247,"end":11256,"computed":false,"optional":false,"object":{"type":"Identifier","start":11247,"end":11251,"name":"file"},"property":{"type":"Identifier","start":11252,"end":11256,"name":"name"}},"kind":"init"},{"type":"Property","start":11270,"end":11285,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11270,"end":11274,"name":"size"},"value":{"type":"MemberExpression","start":11276,"end":11285,"computed":false,"optional":false,"object":{"type":"Identifier","start":11276,"end":11280,"name":"file"},"property":{"type":"Identifier","start":11281,"end":11285,"name":"size"}},"kind":"init"},{"type":"Property","start":11299,"end":11314,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11299,"end":11303,"name":"type"},"value":{"type":"MemberExpression","start":11305,"end":11314,"computed":false,"optional":false,"object":{"type":"Identifier","start":11305,"end":11309,"name":"file"},"property":{"type":"Identifier","start":11310,"end":11314,"name":"type"}},"kind":"init"},{"type":"Property","start":11328,"end":11348,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11328,"end":11332,"name":"form"},"value":{"type":"NewExpression","start":11334,"end":11348,"callee":{"type":"Identifier","start":11338,"end":11346,"name":"FormData"},"arguments":[]},"kind":"init"},{"type":"Property","start":11362,"end":11733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11362,"end":11370,"name":"progress"},"value":{"type":"ObjectExpression","start":11372,"end":11733,"properties":[{"type":"Property","start":11390,"end":11416,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11390,"end":11396,"name":"status"},"value":{"type":"MemberExpression","start":11398,"end":11416,"computed":false,"optional":false,"object":{"type":"Identifier","start":11398,"end":11410,"name":"UploadStatus"},"property":{"type":"Identifier","start":11411,"end":11416,"name":"Queue"}},"kind":"init"},{"type":"Property","start":11434,"end":11719,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11434,"end":11438,"name":"data"},"value":{"type":"ObjectExpression","start":11440,"end":11719,"properties":[{"type":"Property","start":11462,"end":11475,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11462,"end":11472,"name":"percentage"},"value":{"type":"Literal","start":11474,"end":11475,"raw":"0","value":0},"kind":"init"},{"type":"Property","start":11497,"end":11505,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11497,"end":11502,"name":"speed"},"value":{"type":"Literal","start":11504,"end":11505,"raw":"0","value":0},"kind":"init"},{"type":"Property","start":11527,"end":11562,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11527,"end":11537,"name":"speedHuman"},"value":{"type":"TemplateLiteral","start":11539,"end":11562,"quasis":[{"type":"TemplateElement","start":11540,"end":11540,"tail":false,"value":{"cooked":"","raw":""}},{"type":"TemplateElement","start":11559,"end":11561,"tail":true,"value":{"cooked":"/s","raw":"/s"}}],"expressions":[{"type":"CallExpression","start":11542,"end":11558,"optional":false,"callee":{"type":"Identifier","start":11542,"end":11555,"name":"humanizeBytes"},"arguments":[{"type":"Literal","start":11556,"end":11557,"raw":"0","value":0}]}]},"kind":"init"},{"type":"Property","start":11584,"end":11599,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11584,"end":11593,"name":"startTime"},"value":{"type":"Literal","start":11595,"end":11599,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":11621,"end":11634,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11621,"end":11628,"name":"endTime"},"value":{"type":"Literal","start":11630,"end":11634,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":11656,"end":11665,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11656,"end":11659,"name":"eta"},"value":{"type":"Literal","start":11661,"end":11665,"raw":"null","value":null},"kind":"init"},{"type":"Property","start":11687,"end":11701,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11687,"end":11695,"name":"etaHuman"},"value":{"type":"Literal","start":11697,"end":11701,"raw":"null","value":null},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":11747,"end":11792,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11747,"end":11763,"name":"lastModifiedDate"},"value":{"type":"NewExpression","start":11765,"end":11792,"callee":{"type":"Identifier","start":11769,"end":11773,"name":"Date"},"arguments":[{"type":"MemberExpression","start":11774,"end":11791,"computed":false,"optional":false,"object":{"type":"Identifier","start":11774,"end":11778,"name":"file"},"property":{"type":"Identifier","start":11779,"end":11791,"name":"lastModified"}}]},"kind":"init"},{"type":"Property","start":11806,"end":11820,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11806,"end":11809,"name":"sub"},"value":{"type":"Identifier","start":11811,"end":11820,"name":"undefined"},"kind":"init"},{"type":"Property","start":11834,"end":11850,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11834,"end":11844,"name":"nativeFile"},"value":{"type":"Identifier","start":11846,"end":11850,"name":"file"},"kind":"init"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":11872,"end":12203,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":11872,"end":11892,"name":"parseResponseHeaders"},"value":{"type":"FunctionExpression","start":11892,"end":12203,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":11893,"end":11904,"name":"httpHeaders"}],"body":{"type":"BlockStatement","start":11906,"end":12203,"body":[{"type":"IfStatement","start":11916,"end":11965,"test":{"type":"UnaryExpression","start":11920,"end":11932,"operator":"!","argument":{"type":"Identifier","start":11921,"end":11932,"name":"httpHeaders"},"prefix":true},"consequent":{"type":"BlockStatement","start":11934,"end":11965,"body":[{"type":"ReturnStatement","start":11948,"end":11955,"argument":null}]},"alternate":null},{"type":"ReturnStatement","start":11974,"end":12197,"argument":{"type":"CallExpression","start":11981,"end":12196,"optional":false,"callee":{"type":"MemberExpression","start":11981,"end":12113,"computed":false,"optional":false,"object":{"type":"CallExpression","start":11981,"end":12093,"optional":false,"callee":{"type":"MemberExpression","start":11981,"end":12080,"computed":false,"optional":false,"object":{"type":"CallExpression","start":11981,"end":12060,"optional":false,"callee":{"type":"MemberExpression","start":11981,"end":12034,"computed":false,"optional":false,"object":{"type":"CallExpression","start":11981,"end":12017,"optional":false,"callee":{"type":"MemberExpression","start":11981,"end":12011,"computed":false,"optional":false,"object":{"type":"Identifier","start":11981,"end":11992,"name":"httpHeaders"},"property":{"type":"Identifier","start":12006,"end":12011,"name":"split"}},"arguments":[{"type":"Literal","start":12012,"end":12016,"value":"\n","raw":"'\\n'"}]},"property":{"type":"Identifier","start":12031,"end":12034,"name":"map"}},"arguments":[{"type":"ArrowFunctionExpression","start":12035,"end":12059,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":12036,"end":12037,"name":"x"}],"body":{"type":"CallExpression","start":12042,"end":12059,"optional":false,"callee":{"type":"MemberExpression","start":12042,"end":12049,"computed":false,"optional":false,"object":{"type":"Identifier","start":12042,"end":12043,"name":"x"},"property":{"type":"Identifier","start":12044,"end":12049,"name":"split"}},"arguments":[{"type":"Literal","start":12050,"end":12055,"raw":"/: */","regex":{"flags":"","pattern":": *"},"value":{}},{"type":"Literal","start":12057,"end":12058,"raw":"2","value":2}]},"id":null}]},"property":{"type":"Identifier","start":12074,"end":12080,"name":"filter"}},"arguments":[{"type":"ArrowFunctionExpression","start":12081,"end":12092,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":12082,"end":12083,"name":"x"}],"body":{"type":"MemberExpression","start":12088,"end":12092,"computed":true,"optional":false,"object":{"type":"Identifier","start":12088,"end":12089,"name":"x"},"property":{"type":"Literal","start":12090,"end":12091,"raw":"0","value":0}},"id":null}]},"property":{"type":"Identifier","start":12107,"end":12113,"name":"reduce"}},"arguments":[{"type":"ArrowFunctionExpression","start":12114,"end":12191,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":12115,"end":12118,"name":"acc"},{"type":"Identifier","start":12120,"end":12121,"name":"x"}],"body":{"type":"BlockStatement","start":12126,"end":12191,"body":[{"type":"ExpressionStatement","start":12140,"end":12157,"expression":{"type":"AssignmentExpression","start":12140,"end":12156,"operator":"=","left":{"type":"MemberExpression","start":12140,"end":12149,"computed":true,"optional":false,"object":{"type":"Identifier","start":12140,"end":12143,"name":"acc"},"property":{"type":"MemberExpression","start":12144,"end":12148,"computed":true,"optional":false,"object":{"type":"Identifier","start":12144,"end":12145,"name":"x"},"property":{"type":"Literal","start":12146,"end":12147,"raw":"0","value":0}}},"right":{"type":"MemberExpression","start":12152,"end":12156,"computed":true,"optional":false,"object":{"type":"Identifier","start":12152,"end":12153,"name":"x"},"property":{"type":"Literal","start":12154,"end":12155,"raw":"1","value":1}}}},{"type":"ReturnStatement","start":12170,"end":12181,"argument":{"type":"Identifier","start":12177,"end":12180,"name":"acc"}}]},"id":null},{"type":"ObjectExpression","start":12193,"end":12195,"properties":[]}]}}]},"expression":false},"kind":"method"}]}}}],"_rollupRemoved":[{"end":43892,"start":12206,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { EventEmitter } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { mergeMap, finalize } from 'rxjs/operators';\nimport { UploadStatus } from './interfaces';\nexport function humanizeBytes(bytes) {\n    if (bytes === 0) {\n        return '0 Byte';\n    }\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\nexport class NgUploaderService {\n    queue;\n    serviceEvents;\n    uploadScheduler;\n    subs;\n    contentTypes;\n    maxUploads;\n    maxFileSize;\n    constructor(concurrency = Number.POSITIVE_INFINITY, contentTypes = ['*'], maxUploads = Number.POSITIVE_INFINITY, maxFileSize = Number.POSITIVE_INFINITY) {\n        this.queue = [];\n        this.serviceEvents = new EventEmitter();\n        this.uploadScheduler = new Subject();\n        this.subs = [];\n        this.contentTypes = contentTypes;\n        this.maxUploads = maxUploads;\n        this.maxFileSize = maxFileSize;\n        this.uploadScheduler\n            .pipe(mergeMap(upload => this.startUpload(upload), concurrency))\n            .subscribe(uploadOutput => this.serviceEvents.emit(uploadOutput));\n    }\n    handleFiles(incomingFiles) {\n        const allowedIncomingFiles = [].reduce.call(incomingFiles, (acc, checkFile, i) => {\n            const futureQueueLength = acc.length + this.queue.length + 1;\n            if (this.isContentTypeAllowed(checkFile.type) &&\n                futureQueueLength <= this.maxUploads &&\n                this.isFileSizeAllowed(checkFile.size)) {\n                acc = acc.concat(checkFile);\n            }\n            else {\n                const rejectedFile = this.makeUploadFile(checkFile, i);\n                this.serviceEvents.emit({ type: 'rejected', file: rejectedFile });\n            }\n            return acc;\n        }, []);\n        this.queue.push(...[].map.call(allowedIncomingFiles, (file, i) => {\n            const uploadFile = this.makeUploadFile(file, i);\n            this.serviceEvents.emit({ type: 'addedToQueue', file: uploadFile });\n            return uploadFile;\n        }));\n        this.serviceEvents.emit({ type: 'allAddedToQueue' });\n    }\n    initInputEvents(input) {\n        return input.subscribe((event) => {\n            switch (event.type) {\n                case 'uploadFile':\n                    const uploadFileIndex = this.queue.findIndex(file => file === event.file);\n                    if (uploadFileIndex !== -1 && event.file) {\n                        this.uploadScheduler.next({ file: this.queue[uploadFileIndex], event: event });\n                    }\n                    break;\n                case 'uploadAll':\n                    const files = this.queue.filter(file => file.progress.status === UploadStatus.Queue);\n                    files.forEach(file => this.uploadScheduler.next({ file: file, event: event }));\n                    break;\n                case 'cancel':\n                    const id = event.id || null;\n                    if (!id) {\n                        return;\n                    }\n                    const subs = this.subs.filter(sub => sub.id === id);\n                    subs.forEach(sub => {\n                        if (sub.sub) {\n                            sub.sub.unsubscribe();\n                            const fileIndex = this.queue.findIndex(file => file.id === id);\n                            if (fileIndex !== -1) {\n                                this.queue[fileIndex].progress.status = UploadStatus.Cancelled;\n                                this.serviceEvents.emit({ type: 'cancelled', file: this.queue[fileIndex] });\n                            }\n                        }\n                    });\n                    break;\n                case 'cancelAll':\n                    this.subs.forEach(sub => {\n                        if (sub.sub) {\n                            sub.sub.unsubscribe();\n                        }\n                        const file = this.queue.find(uploadFile => uploadFile.id === sub.id);\n                        if (file) {\n                            file.progress.status = UploadStatus.Cancelled;\n                            this.serviceEvents.emit({ type: 'cancelled', file: file });\n                        }\n                    });\n                    break;\n                case 'remove':\n                    if (!event.id) {\n                        return;\n                    }\n                    const i = this.queue.findIndex(file => file.id === event.id);\n                    if (i !== -1) {\n                        const file = this.queue[i];\n                        this.queue.splice(i, 1);\n                        this.serviceEvents.emit({ type: 'removed', file: file });\n                    }\n                    break;\n                case 'removeAll':\n                    if (this.queue.length) {\n                        this.queue = [];\n                        this.serviceEvents.emit({ type: 'removedAll' });\n                    }\n                    break;\n            }\n        });\n    }\n    startUpload(upload) {\n        return new Observable(observer => {\n            const sub = this.uploadFile(upload.file, upload.event)\n                .pipe(finalize(() => {\n                if (!observer.closed) {\n                    observer.complete();\n                }\n            }))\n                .subscribe(output => {\n                observer.next(output);\n            }, err => {\n                observer.error(err);\n                observer.complete();\n            }, () => {\n                observer.complete();\n            });\n            this.subs.push({ id: upload.file.id, sub: sub });\n        });\n    }\n    uploadFile(file, event) {\n        return new Observable(observer => {\n            const url = event.url || '';\n            const method = event.method || 'POST';\n            const data = event.data || {};\n            const headers = event.headers || {};\n            const xhr = new XMLHttpRequest();\n            const time = new Date().getTime();\n            let progressStartTime = (file.progress.data && file.progress.data.startTime) || time;\n            let speed = 0;\n            let eta = null;\n            xhr.upload.addEventListener('progress', (e) => {\n                if (e.lengthComputable) {\n                    const percentage = Math.round((e.loaded * 100) / e.total);\n                    const diff = new Date().getTime() - time;\n                    speed = Math.round((e.loaded / diff) * 1000);\n                    progressStartTime = (file.progress.data && file.progress.data.startTime) || new Date().getTime();\n                    eta = Math.ceil((e.total - e.loaded) / speed);\n                    file.progress = {\n                        status: UploadStatus.Uploading,\n                        data: {\n                            percentage: percentage,\n                            speed: speed,\n                            speedHuman: `${humanizeBytes(speed)}/s`,\n                            startTime: progressStartTime,\n                            endTime: null,\n                            eta: eta,\n                            etaHuman: this.secondsToHuman(eta)\n                        }\n                    };\n                    observer.next({ type: 'uploading', file: file });\n                }\n            }, false);\n            xhr.upload.addEventListener('error', (e) => {\n                observer.error(e);\n                observer.complete();\n            });\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    const speedAverage = Math.round((file.size / (new Date().getTime() - progressStartTime)) * 1000);\n                    file.progress = {\n                        status: UploadStatus.Done,\n                        data: {\n                            percentage: 100,\n                            speed: speedAverage,\n                            speedHuman: `${humanizeBytes(speedAverage)}/s`,\n                            startTime: progressStartTime,\n                            endTime: new Date().getTime(),\n                            eta: eta,\n                            etaHuman: this.secondsToHuman(eta || 0)\n                        }\n                    };\n                    file.responseStatus = xhr.status;\n                    try {\n                        file.response = JSON.parse(xhr.response);\n                    }\n                    catch (e) {\n                        file.response = xhr.response;\n                    }\n                    file.responseHeaders = this.parseResponseHeaders(xhr.getAllResponseHeaders());\n                    observer.next({ type: 'done', file: file });\n                    observer.complete();\n                }\n            };\n            xhr.open(method, url, true);\n            xhr.withCredentials = event.withCredentials;\n            try {\n                const uploadFile = file.nativeFile;\n                const uploadIndex = this.queue.findIndex(outFile => outFile.nativeFile === uploadFile);\n                if (this.queue[uploadIndex].progress.status === UploadStatus.Cancelled) {\n                    observer.complete();\n                }\n                Object.keys(headers).forEach(key => xhr.setRequestHeader(key, headers[key]));\n                let bodyToSend;\n                if (event.includeWebKitFormBoundary !== false) {\n                    Object.keys(data).forEach(key => file.form.append(key, data[key]));\n                    file.form.append(event.fieldName || 'file', uploadFile, uploadFile.name);\n                    bodyToSend = file.form;\n                }\n                else {\n                    bodyToSend = uploadFile;\n                }\n                this.serviceEvents.emit({ type: 'start', file: file });\n                xhr.send(bodyToSend);\n            }\n            catch (e) {\n                observer.complete();\n            }\n            return () => {\n                xhr.abort();\n            };\n        });\n    }\n    secondsToHuman(sec) {\n        return new Date(sec * 1000).toISOString().substr(11, 8);\n    }\n    generateId() {\n        return Math.random().toString(36).substring(7);\n    }\n    setContentTypes(contentTypes) {\n        if (typeof contentTypes !== 'undefined' && contentTypes instanceof Array) {\n            if (contentTypes.find((type) => type === '*') !== undefined) {\n                this.contentTypes = ['*'];\n            }\n            else {\n                this.contentTypes = contentTypes;\n            }\n            return;\n        }\n        this.contentTypes = ['*'];\n    }\n    allContentTypesAllowed() {\n        return this.contentTypes.find((type) => type === '*') !== undefined;\n    }\n    isContentTypeAllowed(mimetype) {\n        if (this.allContentTypesAllowed()) {\n            return true;\n        }\n        return this.contentTypes.find((type) => type === mimetype) !== undefined;\n    }\n    isFileSizeAllowed(fileSize) {\n        if (!this.maxFileSize) {\n            return true;\n        }\n        return fileSize <= this.maxFileSize;\n    }\n    makeUploadFile(file, index) {\n        return {\n            fileIndex: index,\n            id: this.generateId(),\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            form: new FormData(),\n            progress: {\n                status: UploadStatus.Queue,\n                data: {\n                    percentage: 0,\n                    speed: 0,\n                    speedHuman: `${humanizeBytes(0)}/s`,\n                    startTime: null,\n                    endTime: null,\n                    eta: null,\n                    etaHuman: null\n                }\n            },\n            lastModifiedDate: new Date(file.lastModified),\n            sub: undefined,\n            nativeFile: file\n        };\n    }\n    parseResponseHeaders(httpHeaders) {\n        if (!httpHeaders) {\n            return;\n        }\n        return httpHeaders\n            .split('\\n')\n            .map((x) => x.split(/: */, 2))\n            .filter((x) => x[0])\n            .reduce((acc, x) => {\n            acc[x[0]] = x[1];\n            return acc;\n        }, {});\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLmNsYXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9saWIvbmd4LXVwbG9hZGVyLmNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDN0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQWdCLE1BQU0sTUFBTSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEQsT0FBTyxFQUF5QyxZQUFZLEVBQVksTUFBTSxjQUFjLENBQUM7QUFFN0YsTUFBTSxVQUFVLGFBQWEsQ0FBQyxLQUFhO0lBQ3pDLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2hCLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDZixNQUFNLEtBQUssR0FBYSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEUsTUFBTSxDQUFDLEdBQVcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUU1RCxPQUFPLFVBQVUsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUUsQ0FBQztBQUVELE1BQU0sT0FBTyxpQkFBaUI7SUFDNUIsS0FBSyxDQUFlO0lBQ3BCLGFBQWEsQ0FBNkI7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bUI7UUFDOUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2pCLE9BQU87UUFDVCxDQUFDO1FBRUQsT0FBTyxXQUFXO2FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQzthQUNYLEdBQUcsQ0FBQyxDQUFDLENBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDckMsTUFBTSxDQUFDLENBQUMsQ0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0IsTUFBTSxDQUFDLENBQUMsR0FBOEIsRUFBRSxDQUFXLEVBQUUsRUFBRTtZQUN0RCxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE9BQU8sR0FBRyxDQUFDO1FBQ2IsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1lcmdlTWFwLCBmaW5hbGl6ZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFVwbG9hZEZpbGUsIFVwbG9hZE91dHB1dCwgVXBsb2FkSW5wdXQsIFVwbG9hZFN0YXR1cywgQmxvYkZpbGUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHVtYW5pemVCeXRlcyhieXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGJ5dGVzID09PSAwKSB7XG4gICAgcmV0dXJuICcwIEJ5dGUnO1xuICB9XG5cbiAgY29uc3QgayA9IDEwMjQ7XG4gIGNvbnN0IHNpemVzOiBzdHJpbmdbXSA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInXTtcbiAgY29uc3QgaTogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7XG5cbiAgcmV0dXJuIHBhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoMikpICsgJyAnICsgc2l6ZXNbaV07XG59XG5cbmV4cG9ydCBjbGFzcyBOZ1VwbG9hZGVyU2VydmljZSB7XG4gIHF1ZXVlOiBVcGxvYWRGaWxlW107XG4gIHNlcnZpY2VFdmVudHM6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuICB1cGxvYWRTY2hlZHVsZXI6IFN1YmplY3Q8eyBmaWxlOiBVcGxvYWRGaWxlOyBldmVudDogVXBsb2FkSW5wdXQgfT47XG4gIHN1YnM6IHsgaWQ6IHN0cmluZzsgc3ViOiBTdWJzY3JpcHRpb24gfVtdO1xuICBjb250ZW50VHlwZXM6IHN0cmluZ1tdO1xuICBtYXhVcGxvYWRzOiBudW1iZXI7XG4gIG1heEZpbGVTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uY3VycmVuY3k6IG51bWJlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBjb250ZW50VHlwZXM6IHN0cmluZ1tdID0gWycqJ10sXG4gICAgbWF4VXBsb2FkczogbnVtYmVyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIG1heEZpbGVTaXplOiBudW1iZXIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgKSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXI8VXBsb2FkT3V0cHV0PigpO1xuICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICB0aGlzLmNvbnRlbnRUeXBlcyA9IGNvbnRlbnRUeXBlcztcbiAgICB0aGlzLm1heFVwbG9hZHMgPSBtYXhVcGxvYWRzO1xuICAgIHRoaXMubWF4RmlsZVNpemUgPSBtYXhGaWxlU2l6ZTtcblxuICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyXG4gICAgICAucGlwZShtZXJnZU1hcCh1cGxvYWQgPT4gdGhpcy5zdGFydFVwbG9hZCh1cGxvYWQpLCBjb25jdXJyZW5jeSkpXG4gICAgICAuc3Vic2NyaWJlKHVwbG9hZE91dHB1dCA9PiB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh1cGxvYWRPdXRwdXQpKTtcbiAgfVxuXG4gIGhhbmRsZUZpbGVzKGluY29taW5nRmlsZXM6IEZpbGVMaXN0KTogdm9pZCB7XG4gICAgY29uc3QgYWxsb3dlZEluY29taW5nRmlsZXM6IEZpbGVbXSA9IFtdLnJlZHVjZS5jYWxsKFxuICAgICAgaW5jb21pbmdGaWxlcyxcbiAgICAgIChhY2M6IEZpbGVbXSwgY2hlY2tGaWxlOiBGaWxlLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgZnV0dXJlUXVldWVMZW5ndGggPSBhY2MubGVuZ3RoICsgdGhpcy5xdWV1ZS5sZW5ndGggKyAxO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnRUeXBlQWxsb3dlZChjaGVja0ZpbGUudHlwZSkgJiZcbiAgICAgICAgICBmdXR1cmVRdWV1ZUxlbmd0aCA8PSB0aGlzLm1heFVwbG9hZHMgJiZcbiAgICAgICAgICB0aGlzLmlzRmlsZVNpemVBbGxvd2VkKGNoZWNrRmlsZS5zaXplKVxuICAgICAgICApIHtcbiAgICAgICAgICBhY2MgPSBhY2MuY29uY2F0KGNoZWNrRmlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVqZWN0ZWRGaWxlOiBVcGxvYWRGaWxlID0gdGhpcy5tYWtlVXBsb2FkRmlsZShjaGVja0ZpbGUsIGkpO1xuICAgICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ3JlamVjdGVkJywgZmlsZTogcmVqZWN0ZWRGaWxlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICBbXVxuICAgICk7XG5cbiAgICB0aGlzLnF1ZXVlLnB1c2goXG4gICAgICAuLi5bXS5tYXAuY2FsbChhbGxvd2VkSW5jb21pbmdGaWxlcywgKGZpbGU6IEZpbGUsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1cGxvYWRGaWxlOiBVcGxvYWRGaWxlID0gdGhpcy5tYWtlVXBsb2FkRmlsZShmaWxlLCBpKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAnYWRkZWRUb1F1ZXVlJywgZmlsZTogdXBsb2FkRmlsZSB9KTtcbiAgICAgICAgcmV0dXJuIHVwbG9hZEZpbGU7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh7IHR5cGU6ICdhbGxBZGRlZFRvUXVldWUnIH0pO1xuICB9XG5cbiAgaW5pdElucHV0RXZlbnRzKGlucHV0OiBFdmVudEVtaXR0ZXI8VXBsb2FkSW5wdXQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic2NyaWJlKChldmVudDogVXBsb2FkSW5wdXQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd1cGxvYWRGaWxlJzpcbiAgICAgICAgICBjb25zdCB1cGxvYWRGaWxlSW5kZXggPSB0aGlzLnF1ZXVlLmZpbmRJbmRleChmaWxlID0+IGZpbGUgPT09IGV2ZW50LmZpbGUpO1xuICAgICAgICAgIGlmICh1cGxvYWRGaWxlSW5kZXggIT09IC0xICYmIGV2ZW50LmZpbGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyLm5leHQoeyBmaWxlOiB0aGlzLnF1ZXVlW3VwbG9hZEZpbGVJbmRleF0sIGV2ZW50OiBldmVudCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VwbG9hZEFsbCc6XG4gICAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLnF1ZXVlLmZpbHRlcihmaWxlID0+IGZpbGUucHJvZ3Jlc3Muc3RhdHVzID09PSBVcGxvYWRTdGF0dXMuUXVldWUpO1xuICAgICAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB0aGlzLnVwbG9hZFNjaGVkdWxlci5uZXh0KHsgZmlsZTogZmlsZSwgZXZlbnQ6IGV2ZW50IH0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2FuY2VsJzpcbiAgICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmlkIHx8IG51bGw7XG4gICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJzID0gdGhpcy5zdWJzLmZpbHRlcihzdWIgPT4gc3ViLmlkID09PSBpZCk7XG4gICAgICAgICAgc3Vicy5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICAgICAgICBpZiAoc3ViLnN1Yikge1xuICAgICAgICAgICAgICBzdWIuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbGVJbmRleCA9IHRoaXMucXVldWUuZmluZEluZGV4KGZpbGUgPT4gZmlsZS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgICBpZiAoZmlsZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVbZmlsZUluZGV4XS5wcm9ncmVzcy5zdGF0dXMgPSBVcGxvYWRTdGF0dXMuQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ2NhbmNlbGxlZCcsIGZpbGU6IHRoaXMucXVldWVbZmlsZUluZGV4XSB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjYW5jZWxBbGwnOlxuICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICAgICAgICBpZiAoc3ViLnN1Yikge1xuICAgICAgICAgICAgICBzdWIuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnF1ZXVlLmZpbmQodXBsb2FkRmlsZSA9PiB1cGxvYWRGaWxlLmlkID09PSBzdWIuaWQpO1xuICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgZmlsZS5wcm9ncmVzcy5zdGF0dXMgPSBVcGxvYWRTdGF0dXMuQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh7IHR5cGU6ICdjYW5jZWxsZWQnLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgIGlmICghZXZlbnQuaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpID0gdGhpcy5xdWV1ZS5maW5kSW5kZXgoZmlsZSA9PiBmaWxlLmlkID09PSBldmVudC5pZCk7XG4gICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5xdWV1ZVtpXTtcbiAgICAgICAgICAgIHRoaXMucXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAncmVtb3ZlZCcsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZW1vdmVBbGwnOlxuICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAncmVtb3ZlZEFsbCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRVcGxvYWQodXBsb2FkOiB7IGZpbGU6IFVwbG9hZEZpbGU7IGV2ZW50OiBVcGxvYWRJbnB1dCB9KTogT2JzZXJ2YWJsZTxVcGxvYWRPdXRwdXQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgY29uc3Qgc3ViID0gdGhpcy51cGxvYWRGaWxlKHVwbG9hZC5maWxlLCB1cGxvYWQuZXZlbnQpXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghb2JzZXJ2ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgIG91dHB1dCA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KG91dHB1dCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgdGhpcy5zdWJzLnB1c2goeyBpZDogdXBsb2FkLmZpbGUuaWQsIHN1Yjogc3ViIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdXBsb2FkRmlsZShmaWxlOiBVcGxvYWRGaWxlLCBldmVudDogVXBsb2FkSW5wdXQpOiBPYnNlcnZhYmxlPFVwbG9hZE91dHB1dD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgICBjb25zdCB1cmwgPSBldmVudC51cmwgfHwgJyc7XG4gICAgICBjb25zdCBtZXRob2QgPSBldmVudC5tZXRob2QgfHwgJ1BPU1QnO1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgfHwge307XG4gICAgICBjb25zdCBoZWFkZXJzID0gZXZlbnQuaGVhZGVycyB8fCB7fTtcblxuICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICBjb25zdCB0aW1lOiBudW1iZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGxldCBwcm9ncmVzc1N0YXJ0VGltZTogbnVtYmVyID0gKGZpbGUucHJvZ3Jlc3MuZGF0YSAmJiBmaWxlLnByb2dyZXNzLmRhdGEuc3RhcnRUaW1lKSB8fCB0aW1lO1xuICAgICAgbGV0IHNwZWVkID0gMDtcbiAgICAgIGxldCBldGE6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdwcm9ncmVzcycsXG4gICAgICAgIChlOiBQcm9ncmVzc0V2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKGUubG9hZGVkICogMTAwKSAvIGUudG90YWwpO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGltZTtcbiAgICAgICAgICAgIHNwZWVkID0gTWF0aC5yb3VuZCgoZS5sb2FkZWQgLyBkaWZmKSAqIDEwMDApO1xuICAgICAgICAgICAgcHJvZ3Jlc3NTdGFydFRpbWUgPSAoZmlsZS5wcm9ncmVzcy5kYXRhICYmIGZpbGUucHJvZ3Jlc3MuZGF0YS5zdGFydFRpbWUpIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgZXRhID0gTWF0aC5jZWlsKChlLnRvdGFsIC0gZS5sb2FkZWQpIC8gc3BlZWQpO1xuXG4gICAgICAgICAgICBmaWxlLnByb2dyZXNzID0ge1xuICAgICAgICAgICAgICBzdGF0dXM6IFVwbG9hZFN0YXR1cy5VcGxvYWRpbmcsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBwZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgICAgICAgICBzcGVlZEh1bWFuOiBgJHtodW1hbml6ZUJ5dGVzKHNwZWVkKX0vc2AsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBwcm9ncmVzc1N0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBlbmRUaW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIGV0YTogZXRhLFxuICAgICAgICAgICAgICAgIGV0YUh1bWFuOiB0aGlzLnNlY29uZHNUb0h1bWFuKGV0YSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7IHR5cGU6ICd1cGxvYWRpbmcnLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG5cbiAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgY29uc3Qgc3BlZWRBdmVyYWdlID0gTWF0aC5yb3VuZCgoZmlsZS5zaXplIC8gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gcHJvZ3Jlc3NTdGFydFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgIGZpbGUucHJvZ3Jlc3MgPSB7XG4gICAgICAgICAgICBzdGF0dXM6IFVwbG9hZFN0YXR1cy5Eb25lLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgICAgIHNwZWVkOiBzcGVlZEF2ZXJhZ2UsXG4gICAgICAgICAgICAgIHNwZWVkSHVtYW46IGAke2h1bWFuaXplQnl0ZXMoc3BlZWRBdmVyYWdlKX0vc2AsXG4gICAgICAgICAgICAgIHN0YXJ0VGltZTogcHJvZ3Jlc3NTdGFydFRpbWUsXG4gICAgICAgICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICBldGE6IGV0YSxcbiAgICAgICAgICAgICAgZXRhSHVtYW46IHRoaXMuc2Vjb25kc1RvSHVtYW4oZXRhIHx8IDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZpbGUucmVzcG9uc2VTdGF0dXMgPSB4aHIuc3RhdHVzO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbGUucmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZmlsZS5yZXNwb25zZSA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWxlLnJlc3BvbnNlSGVhZGVycyA9IHRoaXMucGFyc2VSZXNwb25zZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcblxuICAgICAgICAgIG9ic2VydmVyLm5leHQoeyB0eXBlOiAnZG9uZScsIGZpbGU6IGZpbGUgfSk7XG5cbiAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZXZlbnQud2l0aENyZWRlbnRpYWxzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGxvYWRGaWxlID0gPEJsb2JGaWxlPmZpbGUubmF0aXZlRmlsZTtcbiAgICAgICAgY29uc3QgdXBsb2FkSW5kZXggPSB0aGlzLnF1ZXVlLmZpbmRJbmRleChvdXRGaWxlID0+IG91dEZpbGUubmF0aXZlRmlsZSA9PT0gdXBsb2FkRmlsZSk7XG5cbiAgICAgICAgaWYgKHRoaXMucXVldWVbdXBsb2FkSW5kZXhdLnByb2dyZXNzLnN0YXR1cyA9PT0gVXBsb2FkU3RhdHVzLkNhbmNlbGxlZCkge1xuICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGtleSA9PiB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSkpO1xuXG4gICAgICAgIGxldCBib2R5VG9TZW5kOiBGb3JtRGF0YSB8IEJsb2JGaWxlO1xuXG4gICAgICAgIGlmIChldmVudC5pbmNsdWRlV2ViS2l0Rm9ybUJvdW5kYXJ5ICE9PSBmYWxzZSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goa2V5ID0+IGZpbGUuZm9ybS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pKTtcbiAgICAgICAgICBmaWxlLmZvcm0uYXBwZW5kKGV2ZW50LmZpZWxkTmFtZSB8fCAnZmlsZScsIHVwbG9hZEZpbGUsIHVwbG9hZEZpbGUubmFtZSk7XG4gICAgICAgICAgYm9keVRvU2VuZCA9IGZpbGUuZm9ybTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5VG9TZW5kID0gdXBsb2FkRmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ3N0YXJ0JywgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgeGhyLnNlbmQoYm9keVRvU2VuZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlY29uZHNUb0h1bWFuKHNlYzogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDgpO1xuICB9XG5cbiAgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG4gIH1cblxuICBzZXRDb250ZW50VHlwZXMoY29udGVudFR5cGVzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgY29udGVudFR5cGVzICE9PSAndW5kZWZpbmVkJyAmJiBjb250ZW50VHlwZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlcy5maW5kKCh0eXBlOiBzdHJpbmcpID0+IHR5cGUgPT09ICcqJykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlcyA9IFsnKiddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZXMgPSBjb250ZW50VHlwZXM7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29udGVudFR5cGVzID0gWycqJ107XG4gIH1cblxuICBhbGxDb250ZW50VHlwZXNBbGxvd2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRUeXBlcy5maW5kKCh0eXBlOiBzdHJpbmcpID0+IHR5cGUgPT09ICcqJykgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzQ29udGVudFR5cGVBbGxvd2VkKG1pbWV0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5hbGxDb250ZW50VHlwZXNBbGxvd2VkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250ZW50VHlwZXMuZmluZCgodHlwZTogc3RyaW5nKSA9PiB0eXBlID09PSBtaW1ldHlwZSkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzRmlsZVNpemVBbGxvd2VkKGZpbGVTaXplOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubWF4RmlsZVNpemUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZVNpemUgPD0gdGhpcy5tYXhGaWxlU2l6ZTtcbiAgfVxuXG4gIG1ha2VVcGxvYWRGaWxlKGZpbGU6IEZpbGUsIGluZGV4OiBudW1iZXIpOiBVcGxvYWRGaWxlIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZUluZGV4OiBpbmRleCxcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgIGZvcm06IG5ldyBGb3JtRGF0YSgpLFxuICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgc3RhdHVzOiBVcGxvYWRTdGF0dXMuUXVldWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICAgIHNwZWVkOiAwLFxuICAgICAgICAgIHNwZWVkSHVtYW46IGAke2h1bWFuaXplQnl0ZXMoMCl9L3NgLFxuICAgICAgICAgIHN0YXJ0VGltZTogbnVsbCxcbiAgICAgICAgICBlbmRUaW1lOiBudWxsLFxuICAgICAgICAgIGV0YTogbnVsbCxcbiAgICAgICAgICBldGFIdW1hbjogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogbmV3IERhdGUoZmlsZS5sYXN0TW9kaWZpZWQpLFxuICAgICAgc3ViOiB1bmRlZmluZWQsXG4gICAgICBuYXRpdmVGaWxlOiBmaWxlXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VSZXNwb25zZUhlYWRlcnMoaHR0cEhlYWRlcnM6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICAgIGlmICghaHR0cEhlYWRlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gaHR0cEhlYWRlcnNcbiAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgIC5tYXAoKHg6IHN0cmluZykgPT4geC5zcGxpdCgvOiAqLywgMikpXG4gICAgICAuZmlsdGVyKCh4OiBzdHJpbmdbXSkgPT4geFswXSlcbiAgICAgIC5yZWR1Y2UoKGFjYzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSwgeDogc3RyaW5nW10pID0+IHtcbiAgICAgICAgYWNjW3hbMF1dID0geFsxXTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgfVxufVxuIl19","customTransformCache":false,"dependencies":["@angular/core","rxjs","rxjs/operators","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/interfaces.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { EventEmitter } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { mergeMap, finalize } from 'rxjs/operators';\nimport { UploadStatus } from './interfaces';\nexport function humanizeBytes(bytes) {\n    if (bytes === 0) {\n        return '0 Byte';\n    }\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\nexport class NgUploaderService {\n    queue;\n    serviceEvents;\n    uploadScheduler;\n    subs;\n    contentTypes;\n    maxUploads;\n    maxFileSize;\n    constructor(concurrency = Number.POSITIVE_INFINITY, contentTypes = ['*'], maxUploads = Number.POSITIVE_INFINITY, maxFileSize = Number.POSITIVE_INFINITY) {\n        this.queue = [];\n        this.serviceEvents = new EventEmitter();\n        this.uploadScheduler = new Subject();\n        this.subs = [];\n        this.contentTypes = contentTypes;\n        this.maxUploads = maxUploads;\n        this.maxFileSize = maxFileSize;\n        this.uploadScheduler\n            .pipe(mergeMap(upload => this.startUpload(upload), concurrency))\n            .subscribe(uploadOutput => this.serviceEvents.emit(uploadOutput));\n    }\n    handleFiles(incomingFiles) {\n        const allowedIncomingFiles = [].reduce.call(incomingFiles, (acc, checkFile, i) => {\n            const futureQueueLength = acc.length + this.queue.length + 1;\n            if (this.isContentTypeAllowed(checkFile.type) &&\n                futureQueueLength <= this.maxUploads &&\n                this.isFileSizeAllowed(checkFile.size)) {\n                acc = acc.concat(checkFile);\n            }\n            else {\n                const rejectedFile = this.makeUploadFile(checkFile, i);\n                this.serviceEvents.emit({ type: 'rejected', file: rejectedFile });\n            }\n            return acc;\n        }, []);\n        this.queue.push(...[].map.call(allowedIncomingFiles, (file, i) => {\n            const uploadFile = this.makeUploadFile(file, i);\n            this.serviceEvents.emit({ type: 'addedToQueue', file: uploadFile });\n            return uploadFile;\n        }));\n        this.serviceEvents.emit({ type: 'allAddedToQueue' });\n    }\n    initInputEvents(input) {\n        return input.subscribe((event) => {\n            switch (event.type) {\n                case 'uploadFile':\n                    const uploadFileIndex = this.queue.findIndex(file => file === event.file);\n                    if (uploadFileIndex !== -1 && event.file) {\n                        this.uploadScheduler.next({ file: this.queue[uploadFileIndex], event: event });\n                    }\n                    break;\n                case 'uploadAll':\n                    const files = this.queue.filter(file => file.progress.status === UploadStatus.Queue);\n                    files.forEach(file => this.uploadScheduler.next({ file: file, event: event }));\n                    break;\n                case 'cancel':\n                    const id = event.id || null;\n                    if (!id) {\n                        return;\n                    }\n                    const subs = this.subs.filter(sub => sub.id === id);\n                    subs.forEach(sub => {\n                        if (sub.sub) {\n                            sub.sub.unsubscribe();\n                            const fileIndex = this.queue.findIndex(file => file.id === id);\n                            if (fileIndex !== -1) {\n                                this.queue[fileIndex].progress.status = UploadStatus.Cancelled;\n                                this.serviceEvents.emit({ type: 'cancelled', file: this.queue[fileIndex] });\n                            }\n                        }\n                    });\n                    break;\n                case 'cancelAll':\n                    this.subs.forEach(sub => {\n                        if (sub.sub) {\n                            sub.sub.unsubscribe();\n                        }\n                        const file = this.queue.find(uploadFile => uploadFile.id === sub.id);\n                        if (file) {\n                            file.progress.status = UploadStatus.Cancelled;\n                            this.serviceEvents.emit({ type: 'cancelled', file: file });\n                        }\n                    });\n                    break;\n                case 'remove':\n                    if (!event.id) {\n                        return;\n                    }\n                    const i = this.queue.findIndex(file => file.id === event.id);\n                    if (i !== -1) {\n                        const file = this.queue[i];\n                        this.queue.splice(i, 1);\n                        this.serviceEvents.emit({ type: 'removed', file: file });\n                    }\n                    break;\n                case 'removeAll':\n                    if (this.queue.length) {\n                        this.queue = [];\n                        this.serviceEvents.emit({ type: 'removedAll' });\n                    }\n                    break;\n            }\n        });\n    }\n    startUpload(upload) {\n        return new Observable(observer => {\n            const sub = this.uploadFile(upload.file, upload.event)\n                .pipe(finalize(() => {\n                if (!observer.closed) {\n                    observer.complete();\n                }\n            }))\n                .subscribe(output => {\n                observer.next(output);\n            }, err => {\n                observer.error(err);\n                observer.complete();\n            }, () => {\n                observer.complete();\n            });\n            this.subs.push({ id: upload.file.id, sub: sub });\n        });\n    }\n    uploadFile(file, event) {\n        return new Observable(observer => {\n            const url = event.url || '';\n            const method = event.method || 'POST';\n            const data = event.data || {};\n            const headers = event.headers || {};\n            const xhr = new XMLHttpRequest();\n            const time = new Date().getTime();\n            let progressStartTime = (file.progress.data && file.progress.data.startTime) || time;\n            let speed = 0;\n            let eta = null;\n            xhr.upload.addEventListener('progress', (e) => {\n                if (e.lengthComputable) {\n                    const percentage = Math.round((e.loaded * 100) / e.total);\n                    const diff = new Date().getTime() - time;\n                    speed = Math.round((e.loaded / diff) * 1000);\n                    progressStartTime = (file.progress.data && file.progress.data.startTime) || new Date().getTime();\n                    eta = Math.ceil((e.total - e.loaded) / speed);\n                    file.progress = {\n                        status: UploadStatus.Uploading,\n                        data: {\n                            percentage: percentage,\n                            speed: speed,\n                            speedHuman: `${humanizeBytes(speed)}/s`,\n                            startTime: progressStartTime,\n                            endTime: null,\n                            eta: eta,\n                            etaHuman: this.secondsToHuman(eta)\n                        }\n                    };\n                    observer.next({ type: 'uploading', file: file });\n                }\n            }, false);\n            xhr.upload.addEventListener('error', (e) => {\n                observer.error(e);\n                observer.complete();\n            });\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    const speedAverage = Math.round((file.size / (new Date().getTime() - progressStartTime)) * 1000);\n                    file.progress = {\n                        status: UploadStatus.Done,\n                        data: {\n                            percentage: 100,\n                            speed: speedAverage,\n                            speedHuman: `${humanizeBytes(speedAverage)}/s`,\n                            startTime: progressStartTime,\n                            endTime: new Date().getTime(),\n                            eta: eta,\n                            etaHuman: this.secondsToHuman(eta || 0)\n                        }\n                    };\n                    file.responseStatus = xhr.status;\n                    try {\n                        file.response = JSON.parse(xhr.response);\n                    }\n                    catch (e) {\n                        file.response = xhr.response;\n                    }\n                    file.responseHeaders = this.parseResponseHeaders(xhr.getAllResponseHeaders());\n                    observer.next({ type: 'done', file: file });\n                    observer.complete();\n                }\n            };\n            xhr.open(method, url, true);\n            xhr.withCredentials = event.withCredentials;\n            try {\n                const uploadFile = file.nativeFile;\n                const uploadIndex = this.queue.findIndex(outFile => outFile.nativeFile === uploadFile);\n                if (this.queue[uploadIndex].progress.status === UploadStatus.Cancelled) {\n                    observer.complete();\n                }\n                Object.keys(headers).forEach(key => xhr.setRequestHeader(key, headers[key]));\n                let bodyToSend;\n                if (event.includeWebKitFormBoundary !== false) {\n                    Object.keys(data).forEach(key => file.form.append(key, data[key]));\n                    file.form.append(event.fieldName || 'file', uploadFile, uploadFile.name);\n                    bodyToSend = file.form;\n                }\n                else {\n                    bodyToSend = uploadFile;\n                }\n                this.serviceEvents.emit({ type: 'start', file: file });\n                xhr.send(bodyToSend);\n            }\n            catch (e) {\n                observer.complete();\n            }\n            return () => {\n                xhr.abort();\n            };\n        });\n    }\n    secondsToHuman(sec) {\n        return new Date(sec * 1000).toISOString().substr(11, 8);\n    }\n    generateId() {\n        return Math.random().toString(36).substring(7);\n    }\n    setContentTypes(contentTypes) {\n        if (typeof contentTypes !== 'undefined' && contentTypes instanceof Array) {\n            if (contentTypes.find((type) => type === '*') !== undefined) {\n                this.contentTypes = ['*'];\n            }\n            else {\n                this.contentTypes = contentTypes;\n            }\n            return;\n        }\n        this.contentTypes = ['*'];\n    }\n    allContentTypesAllowed() {\n        return this.contentTypes.find((type) => type === '*') !== undefined;\n    }\n    isContentTypeAllowed(mimetype) {\n        if (this.allContentTypesAllowed()) {\n            return true;\n        }\n        return this.contentTypes.find((type) => type === mimetype) !== undefined;\n    }\n    isFileSizeAllowed(fileSize) {\n        if (!this.maxFileSize) {\n            return true;\n        }\n        return fileSize <= this.maxFileSize;\n    }\n    makeUploadFile(file, index) {\n        return {\n            fileIndex: index,\n            id: this.generateId(),\n            name: file.name,\n            size: file.size,\n            type: file.type,\n            form: new FormData(),\n            progress: {\n                status: UploadStatus.Queue,\n                data: {\n                    percentage: 0,\n                    speed: 0,\n                    speedHuman: `${humanizeBytes(0)}/s`,\n                    startTime: null,\n                    endTime: null,\n                    eta: null,\n                    etaHuman: null\n                }\n            },\n            lastModifiedDate: new Date(file.lastModified),\n            sub: undefined,\n            nativeFile: file\n        };\n    }\n    parseResponseHeaders(httpHeaders) {\n        if (!httpHeaders) {\n            return;\n        }\n        return httpHeaders\n            .split('\\n')\n            .map((x) => x.split(/: */, 2))\n            .filter((x) => x[0])\n            .reduce((acc, x) => {\n            acc[x[0]] = x[1];\n            return acc;\n        }, {});\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLmNsYXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9saWIvbmd4LXVwbG9hZGVyLmNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDN0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQWdCLE1BQU0sTUFBTSxDQUFDO0FBQ3pELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDcEQsT0FBTyxFQUF5QyxZQUFZLEVBQVksTUFBTSxjQUFjLENBQUM7QUFFN0YsTUFBTSxVQUFVLGFBQWEsQ0FBQyxLQUFhO0lBQ3pDLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2hCLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDZixNQUFNLEtBQUssR0FBYSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEUsTUFBTSxDQUFDLEdBQVcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUU1RCxPQUFPLFVBQVUsQ0FBQyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUUsQ0FBQztBQUVELE1BQU0sT0FBTyxpQkFBaUI7SUFDNUIsS0FBSyxDQUFlO0lBQ3BCLGFBQWEsQ0FBNkI7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bUI7UUFDOUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2pCLE9BQU87UUFDVCxDQUFDO1FBRUQsT0FBTyxXQUFXO2FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQzthQUNYLEdBQUcsQ0FBQyxDQUFDLENBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDckMsTUFBTSxDQUFDLENBQUMsQ0FBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0IsTUFBTSxDQUFDLENBQUMsR0FBOEIsRUFBRSxDQUFXLEVBQUUsRUFBRTtZQUN0RCxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLE9BQU8sR0FBRyxDQUFDO1FBQ2IsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1lcmdlTWFwLCBmaW5hbGl6ZSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFVwbG9hZEZpbGUsIFVwbG9hZE91dHB1dCwgVXBsb2FkSW5wdXQsIFVwbG9hZFN0YXR1cywgQmxvYkZpbGUgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaHVtYW5pemVCeXRlcyhieXRlczogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGJ5dGVzID09PSAwKSB7XG4gICAgcmV0dXJuICcwIEJ5dGUnO1xuICB9XG5cbiAgY29uc3QgayA9IDEwMjQ7XG4gIGNvbnN0IHNpemVzOiBzdHJpbmdbXSA9IFsnQnl0ZXMnLCAnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInXTtcbiAgY29uc3QgaTogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSk7XG5cbiAgcmV0dXJuIHBhcnNlRmxvYXQoKGJ5dGVzIC8gTWF0aC5wb3coaywgaSkpLnRvRml4ZWQoMikpICsgJyAnICsgc2l6ZXNbaV07XG59XG5cbmV4cG9ydCBjbGFzcyBOZ1VwbG9hZGVyU2VydmljZSB7XG4gIHF1ZXVlOiBVcGxvYWRGaWxlW107XG4gIHNlcnZpY2VFdmVudHM6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuICB1cGxvYWRTY2hlZHVsZXI6IFN1YmplY3Q8eyBmaWxlOiBVcGxvYWRGaWxlOyBldmVudDogVXBsb2FkSW5wdXQgfT47XG4gIHN1YnM6IHsgaWQ6IHN0cmluZzsgc3ViOiBTdWJzY3JpcHRpb24gfVtdO1xuICBjb250ZW50VHlwZXM6IHN0cmluZ1tdO1xuICBtYXhVcGxvYWRzOiBudW1iZXI7XG4gIG1heEZpbGVTaXplOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uY3VycmVuY3k6IG51bWJlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBjb250ZW50VHlwZXM6IHN0cmluZ1tdID0gWycqJ10sXG4gICAgbWF4VXBsb2FkczogbnVtYmVyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIG1heEZpbGVTaXplOiBudW1iZXIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgKSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXI8VXBsb2FkT3V0cHV0PigpO1xuICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICB0aGlzLmNvbnRlbnRUeXBlcyA9IGNvbnRlbnRUeXBlcztcbiAgICB0aGlzLm1heFVwbG9hZHMgPSBtYXhVcGxvYWRzO1xuICAgIHRoaXMubWF4RmlsZVNpemUgPSBtYXhGaWxlU2l6ZTtcblxuICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyXG4gICAgICAucGlwZShtZXJnZU1hcCh1cGxvYWQgPT4gdGhpcy5zdGFydFVwbG9hZCh1cGxvYWQpLCBjb25jdXJyZW5jeSkpXG4gICAgICAuc3Vic2NyaWJlKHVwbG9hZE91dHB1dCA9PiB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh1cGxvYWRPdXRwdXQpKTtcbiAgfVxuXG4gIGhhbmRsZUZpbGVzKGluY29taW5nRmlsZXM6IEZpbGVMaXN0KTogdm9pZCB7XG4gICAgY29uc3QgYWxsb3dlZEluY29taW5nRmlsZXM6IEZpbGVbXSA9IFtdLnJlZHVjZS5jYWxsKFxuICAgICAgaW5jb21pbmdGaWxlcyxcbiAgICAgIChhY2M6IEZpbGVbXSwgY2hlY2tGaWxlOiBGaWxlLCBpOiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgZnV0dXJlUXVldWVMZW5ndGggPSBhY2MubGVuZ3RoICsgdGhpcy5xdWV1ZS5sZW5ndGggKyAxO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5pc0NvbnRlbnRUeXBlQWxsb3dlZChjaGVja0ZpbGUudHlwZSkgJiZcbiAgICAgICAgICBmdXR1cmVRdWV1ZUxlbmd0aCA8PSB0aGlzLm1heFVwbG9hZHMgJiZcbiAgICAgICAgICB0aGlzLmlzRmlsZVNpemVBbGxvd2VkKGNoZWNrRmlsZS5zaXplKVxuICAgICAgICApIHtcbiAgICAgICAgICBhY2MgPSBhY2MuY29uY2F0KGNoZWNrRmlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVqZWN0ZWRGaWxlOiBVcGxvYWRGaWxlID0gdGhpcy5tYWtlVXBsb2FkRmlsZShjaGVja0ZpbGUsIGkpO1xuICAgICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ3JlamVjdGVkJywgZmlsZTogcmVqZWN0ZWRGaWxlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICBbXVxuICAgICk7XG5cbiAgICB0aGlzLnF1ZXVlLnB1c2goXG4gICAgICAuLi5bXS5tYXAuY2FsbChhbGxvd2VkSW5jb21pbmdGaWxlcywgKGZpbGU6IEZpbGUsIGk6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCB1cGxvYWRGaWxlOiBVcGxvYWRGaWxlID0gdGhpcy5tYWtlVXBsb2FkRmlsZShmaWxlLCBpKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAnYWRkZWRUb1F1ZXVlJywgZmlsZTogdXBsb2FkRmlsZSB9KTtcbiAgICAgICAgcmV0dXJuIHVwbG9hZEZpbGU7XG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh7IHR5cGU6ICdhbGxBZGRlZFRvUXVldWUnIH0pO1xuICB9XG5cbiAgaW5pdElucHV0RXZlbnRzKGlucHV0OiBFdmVudEVtaXR0ZXI8VXBsb2FkSW5wdXQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gaW5wdXQuc3Vic2NyaWJlKChldmVudDogVXBsb2FkSW5wdXQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd1cGxvYWRGaWxlJzpcbiAgICAgICAgICBjb25zdCB1cGxvYWRGaWxlSW5kZXggPSB0aGlzLnF1ZXVlLmZpbmRJbmRleChmaWxlID0+IGZpbGUgPT09IGV2ZW50LmZpbGUpO1xuICAgICAgICAgIGlmICh1cGxvYWRGaWxlSW5kZXggIT09IC0xICYmIGV2ZW50LmZpbGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkU2NoZWR1bGVyLm5leHQoeyBmaWxlOiB0aGlzLnF1ZXVlW3VwbG9hZEZpbGVJbmRleF0sIGV2ZW50OiBldmVudCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3VwbG9hZEFsbCc6XG4gICAgICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLnF1ZXVlLmZpbHRlcihmaWxlID0+IGZpbGUucHJvZ3Jlc3Muc3RhdHVzID09PSBVcGxvYWRTdGF0dXMuUXVldWUpO1xuICAgICAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB0aGlzLnVwbG9hZFNjaGVkdWxlci5uZXh0KHsgZmlsZTogZmlsZSwgZXZlbnQ6IGV2ZW50IH0pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2FuY2VsJzpcbiAgICAgICAgICBjb25zdCBpZCA9IGV2ZW50LmlkIHx8IG51bGw7XG4gICAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJzID0gdGhpcy5zdWJzLmZpbHRlcihzdWIgPT4gc3ViLmlkID09PSBpZCk7XG4gICAgICAgICAgc3Vicy5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICAgICAgICBpZiAoc3ViLnN1Yikge1xuICAgICAgICAgICAgICBzdWIuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbGVJbmRleCA9IHRoaXMucXVldWUuZmluZEluZGV4KGZpbGUgPT4gZmlsZS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgICBpZiAoZmlsZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVbZmlsZUluZGV4XS5wcm9ncmVzcy5zdGF0dXMgPSBVcGxvYWRTdGF0dXMuQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ2NhbmNlbGxlZCcsIGZpbGU6IHRoaXMucXVldWVbZmlsZUluZGV4XSB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjYW5jZWxBbGwnOlxuICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICAgICAgICBpZiAoc3ViLnN1Yikge1xuICAgICAgICAgICAgICBzdWIuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnF1ZXVlLmZpbmQodXBsb2FkRmlsZSA9PiB1cGxvYWRGaWxlLmlkID09PSBzdWIuaWQpO1xuICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgZmlsZS5wcm9ncmVzcy5zdGF0dXMgPSBVcGxvYWRTdGF0dXMuQ2FuY2VsbGVkO1xuICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VFdmVudHMuZW1pdCh7IHR5cGU6ICdjYW5jZWxsZWQnLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZW1vdmUnOlxuICAgICAgICAgIGlmICghZXZlbnQuaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBpID0gdGhpcy5xdWV1ZS5maW5kSW5kZXgoZmlsZSA9PiBmaWxlLmlkID09PSBldmVudC5pZCk7XG4gICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gdGhpcy5xdWV1ZVtpXTtcbiAgICAgICAgICAgIHRoaXMucXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAncmVtb3ZlZCcsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZW1vdmVBbGwnOlxuICAgICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzLmVtaXQoeyB0eXBlOiAncmVtb3ZlZEFsbCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRVcGxvYWQodXBsb2FkOiB7IGZpbGU6IFVwbG9hZEZpbGU7IGV2ZW50OiBVcGxvYWRJbnB1dCB9KTogT2JzZXJ2YWJsZTxVcGxvYWRPdXRwdXQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgY29uc3Qgc3ViID0gdGhpcy51cGxvYWRGaWxlKHVwbG9hZC5maWxlLCB1cGxvYWQuZXZlbnQpXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghb2JzZXJ2ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgIG91dHB1dCA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KG91dHB1dCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgdGhpcy5zdWJzLnB1c2goeyBpZDogdXBsb2FkLmZpbGUuaWQsIHN1Yjogc3ViIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgdXBsb2FkRmlsZShmaWxlOiBVcGxvYWRGaWxlLCBldmVudDogVXBsb2FkSW5wdXQpOiBPYnNlcnZhYmxlPFVwbG9hZE91dHB1dD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgICBjb25zdCB1cmwgPSBldmVudC51cmwgfHwgJyc7XG4gICAgICBjb25zdCBtZXRob2QgPSBldmVudC5tZXRob2QgfHwgJ1BPU1QnO1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGEgfHwge307XG4gICAgICBjb25zdCBoZWFkZXJzID0gZXZlbnQuaGVhZGVycyB8fCB7fTtcblxuICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICBjb25zdCB0aW1lOiBudW1iZXIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIGxldCBwcm9ncmVzc1N0YXJ0VGltZTogbnVtYmVyID0gKGZpbGUucHJvZ3Jlc3MuZGF0YSAmJiBmaWxlLnByb2dyZXNzLmRhdGEuc3RhcnRUaW1lKSB8fCB0aW1lO1xuICAgICAgbGV0IHNwZWVkID0gMDtcbiAgICAgIGxldCBldGE6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdwcm9ncmVzcycsXG4gICAgICAgIChlOiBQcm9ncmVzc0V2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGUubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoKGUubG9hZGVkICogMTAwKSAvIGUudG90YWwpO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGltZTtcbiAgICAgICAgICAgIHNwZWVkID0gTWF0aC5yb3VuZCgoZS5sb2FkZWQgLyBkaWZmKSAqIDEwMDApO1xuICAgICAgICAgICAgcHJvZ3Jlc3NTdGFydFRpbWUgPSAoZmlsZS5wcm9ncmVzcy5kYXRhICYmIGZpbGUucHJvZ3Jlc3MuZGF0YS5zdGFydFRpbWUpIHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgZXRhID0gTWF0aC5jZWlsKChlLnRvdGFsIC0gZS5sb2FkZWQpIC8gc3BlZWQpO1xuXG4gICAgICAgICAgICBmaWxlLnByb2dyZXNzID0ge1xuICAgICAgICAgICAgICBzdGF0dXM6IFVwbG9hZFN0YXR1cy5VcGxvYWRpbmcsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiBwZXJjZW50YWdlLFxuICAgICAgICAgICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgICAgICAgICBzcGVlZEh1bWFuOiBgJHtodW1hbml6ZUJ5dGVzKHNwZWVkKX0vc2AsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBwcm9ncmVzc1N0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBlbmRUaW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIGV0YTogZXRhLFxuICAgICAgICAgICAgICAgIGV0YUh1bWFuOiB0aGlzLnNlY29uZHNUb0h1bWFuKGV0YSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh7IHR5cGU6ICd1cGxvYWRpbmcnLCBmaWxlOiBmaWxlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG5cbiAgICAgIHhoci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FKSB7XG4gICAgICAgICAgY29uc3Qgc3BlZWRBdmVyYWdlID0gTWF0aC5yb3VuZCgoZmlsZS5zaXplIC8gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gcHJvZ3Jlc3NTdGFydFRpbWUpKSAqIDEwMDApO1xuICAgICAgICAgIGZpbGUucHJvZ3Jlc3MgPSB7XG4gICAgICAgICAgICBzdGF0dXM6IFVwbG9hZFN0YXR1cy5Eb25lLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXG4gICAgICAgICAgICAgIHNwZWVkOiBzcGVlZEF2ZXJhZ2UsXG4gICAgICAgICAgICAgIHNwZWVkSHVtYW46IGAke2h1bWFuaXplQnl0ZXMoc3BlZWRBdmVyYWdlKX0vc2AsXG4gICAgICAgICAgICAgIHN0YXJ0VGltZTogcHJvZ3Jlc3NTdGFydFRpbWUsXG4gICAgICAgICAgICAgIGVuZFRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICBldGE6IGV0YSxcbiAgICAgICAgICAgICAgZXRhSHVtYW46IHRoaXMuc2Vjb25kc1RvSHVtYW4oZXRhIHx8IDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZpbGUucmVzcG9uc2VTdGF0dXMgPSB4aHIuc3RhdHVzO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZpbGUucmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZmlsZS5yZXNwb25zZSA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmaWxlLnJlc3BvbnNlSGVhZGVycyA9IHRoaXMucGFyc2VSZXNwb25zZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTtcblxuICAgICAgICAgIG9ic2VydmVyLm5leHQoeyB0eXBlOiAnZG9uZScsIGZpbGU6IGZpbGUgfSk7XG5cbiAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZXZlbnQud2l0aENyZWRlbnRpYWxzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGxvYWRGaWxlID0gPEJsb2JGaWxlPmZpbGUubmF0aXZlRmlsZTtcbiAgICAgICAgY29uc3QgdXBsb2FkSW5kZXggPSB0aGlzLnF1ZXVlLmZpbmRJbmRleChvdXRGaWxlID0+IG91dEZpbGUubmF0aXZlRmlsZSA9PT0gdXBsb2FkRmlsZSk7XG5cbiAgICAgICAgaWYgKHRoaXMucXVldWVbdXBsb2FkSW5kZXhdLnByb2dyZXNzLnN0YXR1cyA9PT0gVXBsb2FkU3RhdHVzLkNhbmNlbGxlZCkge1xuICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGtleSA9PiB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSkpO1xuXG4gICAgICAgIGxldCBib2R5VG9TZW5kOiBGb3JtRGF0YSB8IEJsb2JGaWxlO1xuXG4gICAgICAgIGlmIChldmVudC5pbmNsdWRlV2ViS2l0Rm9ybUJvdW5kYXJ5ICE9PSBmYWxzZSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goa2V5ID0+IGZpbGUuZm9ybS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pKTtcbiAgICAgICAgICBmaWxlLmZvcm0uYXBwZW5kKGV2ZW50LmZpZWxkTmFtZSB8fCAnZmlsZScsIHVwbG9hZEZpbGUsIHVwbG9hZEZpbGUubmFtZSk7XG4gICAgICAgICAgYm9keVRvU2VuZCA9IGZpbGUuZm9ybTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5VG9TZW5kID0gdXBsb2FkRmlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VydmljZUV2ZW50cy5lbWl0KHsgdHlwZTogJ3N0YXJ0JywgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgeGhyLnNlbmQoYm9keVRvU2VuZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlY29uZHNUb0h1bWFuKHNlYzogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gbmV3IERhdGUoc2VjICogMTAwMCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMTEsIDgpO1xuICB9XG5cbiAgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNyk7XG4gIH1cblxuICBzZXRDb250ZW50VHlwZXMoY29udGVudFR5cGVzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgY29udGVudFR5cGVzICE9PSAndW5kZWZpbmVkJyAmJiBjb250ZW50VHlwZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlcy5maW5kKCh0eXBlOiBzdHJpbmcpID0+IHR5cGUgPT09ICcqJykgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlcyA9IFsnKiddO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZXMgPSBjb250ZW50VHlwZXM7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY29udGVudFR5cGVzID0gWycqJ107XG4gIH1cblxuICBhbGxDb250ZW50VHlwZXNBbGxvd2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRUeXBlcy5maW5kKCh0eXBlOiBzdHJpbmcpID0+IHR5cGUgPT09ICcqJykgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzQ29udGVudFR5cGVBbGxvd2VkKG1pbWV0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5hbGxDb250ZW50VHlwZXNBbGxvd2VkKCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250ZW50VHlwZXMuZmluZCgodHlwZTogc3RyaW5nKSA9PiB0eXBlID09PSBtaW1ldHlwZSkgIT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlzRmlsZVNpemVBbGxvd2VkKGZpbGVTaXplOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMubWF4RmlsZVNpemUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZVNpemUgPD0gdGhpcy5tYXhGaWxlU2l6ZTtcbiAgfVxuXG4gIG1ha2VVcGxvYWRGaWxlKGZpbGU6IEZpbGUsIGluZGV4OiBudW1iZXIpOiBVcGxvYWRGaWxlIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsZUluZGV4OiBpbmRleCxcbiAgICAgIGlkOiB0aGlzLmdlbmVyYXRlSWQoKSxcbiAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgIHR5cGU6IGZpbGUudHlwZSxcbiAgICAgIGZvcm06IG5ldyBGb3JtRGF0YSgpLFxuICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgc3RhdHVzOiBVcGxvYWRTdGF0dXMuUXVldWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBwZXJjZW50YWdlOiAwLFxuICAgICAgICAgIHNwZWVkOiAwLFxuICAgICAgICAgIHNwZWVkSHVtYW46IGAke2h1bWFuaXplQnl0ZXMoMCl9L3NgLFxuICAgICAgICAgIHN0YXJ0VGltZTogbnVsbCxcbiAgICAgICAgICBlbmRUaW1lOiBudWxsLFxuICAgICAgICAgIGV0YTogbnVsbCxcbiAgICAgICAgICBldGFIdW1hbjogbnVsbFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogbmV3IERhdGUoZmlsZS5sYXN0TW9kaWZpZWQpLFxuICAgICAgc3ViOiB1bmRlZmluZWQsXG4gICAgICBuYXRpdmVGaWxlOiBmaWxlXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VSZXNwb25zZUhlYWRlcnMoaHR0cEhlYWRlcnM6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0ge1xuICAgIGlmICghaHR0cEhlYWRlcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gaHR0cEhlYWRlcnNcbiAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgIC5tYXAoKHg6IHN0cmluZykgPT4geC5zcGxpdCgvOiAqLywgMikpXG4gICAgICAuZmlsdGVyKCh4OiBzdHJpbmdbXSkgPT4geFswXSlcbiAgICAgIC5yZWR1Y2UoKGFjYzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSwgeDogc3RyaW5nW10pID0+IHtcbiAgICAgICAgYWNjW3hbMF1dID0geFsxXTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sIHt9KTtcbiAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"ngx-uploader.class.js","sourceRoot":"","sources":["../../../../projects/ngx-uploader/src/lib/ngx-uploader.class.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[21,0,0,21],[23,0,0,23],[29,0,0,29],[44,0,0,44],[45,0,0,45]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[19,0,1,19],[21,0,1,21],[28,0,1,28],[30,0,1,44],[36,0,1,50],[42,0,1,56],[43,0,1,57]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[17,0,2,17],[19,0,2,19],[27,0,2,27],[29,0,2,29],[35,0,2,35],[51,0,2,51],[52,0,2,52]],[[0,0,3,0],[7,0,3,7],[9,0,3,48],[21,0,3,60],[23,0,3,72],[29,0,3,78],[43,0,3,92],[44,0,3,93]],[[0,0,5,0],[6,0,5,6],[16,0,5,16],[29,0,5,29],[30,0,5,30],[35,0,5,43]],[[4,0,6,2],[8,0,6,6],[13,0,6,11],[18,0,6,16],[19,0,6,17],[21,0,6,19],[22,0,6,20]],[[8,0,7,4],[15,0,7,11],[23,0,7,19],[24,0,7,20]],[[4,0,8,2],[5,0,8,3]],[[4,0,10,2],[10,0,10,8],[11,0,10,9],[14,0,10,12],[18,0,10,16],[19,0,10,17]],[[4,0,11,2],[10,0,11,8],[15,0,11,13],[18,0,11,26],[19,0,11,27],[26,0,11,34],[28,0,11,36],[32,0,11,40],[34,0,11,42],[38,0,11,46],[40,0,11,48],[44,0,11,52],[46,0,11,54],[50,0,11,58],[52,0,11,60],[56,0,11,64],[57,0,11,65],[58,0,11,66]],[[4,0,12,2],[10,0,12,8],[11,0,12,9],[14,0,12,20],[18,0,12,24],[19,0,12,25],[24,0,12,30],[25,0,12,31],[29,0,12,35],[30,0,12,36],[33,0,12,39],[34,0,12,40],[39,0,12,45],[40,0,12,46],[43,0,12,49],[47,0,12,53],[48,0,12,54],[51,0,12,57],[52,0,12,58],[53,0,12,59],[54,0,12,60],[55,0,12,61],[56,0,12,62]],[[4,0,14,2],[11,0,14,9],[21,0,14,19],[22,0,14,20],[23,0,14,21],[28,0,14,26],[31,0,14,29],[35,0,14,33],[36,0,14,34],[39,0,14,37],[40,0,14,38],[41,0,14,39],[43,0,14,41],[44,0,14,42],[45,0,14,43],[46,0,14,44],[47,0,14,45],[54,0,14,52],[55,0,14,53],[56,0,14,54],[57,0,14,55],[58,0,14,56],[61,0,14,59],[64,0,14,62],[67,0,14,65],[72,0,14,70],[73,0,14,71],[74,0,14,72],[75,0,14,73],[76,0,14,74]],[[0,0,15,0],[1,0,15,1]],[[0,0,17,0],[6,0,17,6],[13,0,17,13],[30,0,17,30]],[[4,0,18,2],[9,0,18,7],[10,0,18,22]],[[4,0,19,2],[17,0,19,15],[18,0,19,44]],[[4,0,20,2],[19,0,20,17],[20,0,20,69]],[[4,0,21,2],[8,0,21,6],[9,0,21,44]],[[4,0,22,2],[16,0,22,14],[17,0,22,25]],[[4,0,23,2],[14,0,23,12],[15,0,23,21]],[[4,0,24,2],[15,0,24,13],[16,0,24,22]],[[4,0,26,2],[16,0,27,4],[30,0,27,26],[36,0,27,32],[37,0,27,33],[54,0,27,50],[56,0,28,4],[71,0,28,29],[72,0,28,30],[75,0,28,33],[76,0,28,34],[78,0,29,4],[91,0,29,25],[97,0,29,31],[98,0,29,32],[115,0,29,49],[117,0,30,4],[131,0,30,26],[137,0,30,32],[138,0,30,33],[155,0,30,50]],[[8,0,32,4],[12,0,32,8],[13,0,32,9],[18,0,32,14],[21,0,32,17],[23,0,32,19],[24,0,32,20]],[[8,0,33,4],[12,0,33,8],[13,0,33,9],[26,0,33,22],[29,0,33,25],[33,0,33,29],[45,0,33,41],[47,0,33,57],[48,0,33,58]],[[8,0,34,4],[12,0,34,8],[13,0,34,9],[28,0,34,24],[31,0,34,27],[35,0,34,31],[42,0,34,38],[44,0,34,40],[45,0,34,41]],[[8,0,35,4],[12,0,35,8],[13,0,35,9],[17,0,35,13],[20,0,35,16],[22,0,35,18],[23,0,35,19]],[[8,0,36,4],[12,0,36,8],[13,0,36,9],[25,0,36,21],[28,0,36,24],[40,0,36,36],[41,0,36,37]],[[8,0,37,4],[12,0,37,8],[13,0,37,9],[23,0,37,19],[26,0,37,22],[36,0,37,32],[37,0,37,33]],[[8,0,38,4],[12,0,38,8],[13,0,38,9],[24,0,38,20],[27,0,38,23],[38,0,38,34],[39,0,38,35]],[[8,0,40,4],[12,0,40,8],[13,0,40,9],[28,0,40,24]],[[13,0,41,7],[17,0,41,11],[18,0,41,12],[26,0,41,20],[27,0,41,21],[33,0,41,27],[34,0,41,28],[36,0,41,30],[37,0,41,31],[41,0,41,35],[42,0,41,36],[53,0,41,47],[54,0,41,48],[60,0,41,54],[61,0,41,55],[63,0,41,57],[74,0,41,68],[75,0,41,69],[76,0,41,70]],[[13,0,42,7],[22,0,42,16],[23,0,42,17],[35,0,42,29],[36,0,42,30],[38,0,42,32],[39,0,42,33],[43,0,42,37],[44,0,42,38],[57,0,42,51],[58,0,42,52],[62,0,42,56],[63,0,42,57],[75,0,42,69],[76,0,42,70],[77,0,42,71],[78,0,42,72]],[[4,0,43,2],[5,0,43,3]],[[4,0,45,2],[15,0,45,13],[16,0,45,14],[29,0,45,37]],[[8,0,46,4],[14,0,46,10],[34,0,46,30],[37,0,46,41],[39,0,46,43],[40,0,46,44],[46,0,46,50],[47,0,46,51],[51,0,46,55],[52,0,47,6],[65,0,47,19],[67,0,48,6],[68,0,48,7],[71,0,48,18],[73,0,48,20],[82,0,48,35],[84,0,48,37],[85,0,48,46],[87,0,48,48],[89,0,48,50]],[[12,0,49,8],[18,0,49,14],[35,0,49,31],[38,0,49,34],[41,0,49,37],[42,0,49,38],[48,0,49,44],[51,0,49,47],[55,0,49,51],[56,0,49,52],[61,0,49,57],[62,0,49,58],[68,0,49,64],[71,0,49,67],[72,0,49,68],[73,0,49,69]],[[12,0,50,8],[16,0,51,10],[20,0,51,14],[21,0,51,15],[41,0,51,35],[42,0,51,36],[51,0,51,45],[52,0,51,46],[56,0,51,50],[57,0,51,51]],[[16,0,52,10],[33,0,52,27],[37,0,52,31],[41,0,52,35],[42,0,52,36],[52,0,52,46]],[[16,0,53,10],[20,0,53,14],[21,0,53,15],[38,0,53,32],[39,0,53,33],[48,0,53,42],[49,0,53,43],[53,0,53,47],[54,0,53,48],[56,0,54,10],[57,0,54,11]],[[16,0,55,10],[19,0,55,13],[22,0,55,16],[25,0,55,19],[26,0,55,20],[32,0,55,26],[33,0,55,27],[42,0,55,36],[43,0,55,37],[44,0,55,38]],[[12,0,56,8],[13,0,56,9]],[[17,0,56,15],[18,0,56,16]],[[16,0,57,10],[22,0,57,16],[34,0,57,28],[37,0,57,43],[41,0,57,47],[42,0,57,48],[56,0,57,62],[57,0,57,63],[66,0,57,72],[68,0,57,74],[69,0,57,75],[70,0,57,76],[71,0,57,77]],[[16,0,58,10],[20,0,58,14],[21,0,58,15],[34,0,58,28],[35,0,58,29],[39,0,58,33],[40,0,58,34],[42,0,58,36],[46,0,58,40],[48,0,58,42],[58,0,58,52],[60,0,58,54],[64,0,58,58],[66,0,58,60],[78,0,58,72],[80,0,58,74],[81,0,58,75],[82,0,58,76]],[[12,0,59,8],[13,0,59,9]],[[12,0,61,8],[19,0,61,15],[22,0,61,18],[23,0,61,19]],[[8,0,62,6],[9,0,62,7],[11,0,63,6],[13,0,63,8],[14,0,64,5],[15,0,64,6]],[[8,0,66,4],[12,0,66,8],[13,0,66,9],[18,0,66,14],[19,0,66,15],[23,0,66,19],[24,0,67,6],[27,0,67,9],[29,0,67,11],[30,0,67,12],[33,0,67,15],[34,0,67,16],[38,0,67,20],[39,0,67,21],[59,0,67,41],[61,0,67,43],[62,0,67,44],[66,0,67,54],[68,0,67,56],[69,0,67,65],[71,0,67,67],[73,0,67,69]],[[12,0,68,8],[18,0,68,14],[28,0,68,24],[31,0,68,39],[35,0,68,43],[36,0,68,44],[50,0,68,58],[51,0,68,59],[55,0,68,63],[57,0,68,65],[58,0,68,66],[59,0,68,67],[60,0,68,68]],[[12,0,69,8],[16,0,69,12],[17,0,69,13],[30,0,69,26],[31,0,69,27],[35,0,69,31],[36,0,69,32],[38,0,69,34],[42,0,69,38],[44,0,69,40],[58,0,69,54],[60,0,69,56],[64,0,69,60],[66,0,69,62],[76,0,69,72],[78,0,69,74],[79,0,69,75],[80,0,69,76]],[[12,0,70,8],[19,0,70,15],[29,0,70,25],[30,0,70,26]],[[8,0,71,6],[9,0,71,7],[10,0,71,8],[11,0,72,5],[12,0,72,6]],[[8,0,74,4],[12,0,74,8],[13,0,74,9],[26,0,74,22],[27,0,74,23],[31,0,74,27],[32,0,74,28],[34,0,74,30],[38,0,74,34],[40,0,74,36],[57,0,74,53],[59,0,74,55],[60,0,74,56],[61,0,74,57]],[[4,0,75,2],[5,0,75,3]],[[4,0,77,2],[19,0,77,17],[20,0,77,18],[25,0,77,50]],[[8,0,78,4],[15,0,78,11],[20,0,78,16],[21,0,78,17],[30,0,78,26],[31,0,78,27],[32,0,78,28],[37,0,78,46],[39,0,78,48],[41,0,78,50]],[[12,0,79,6],[20,0,79,14],[25,0,79,19],[26,0,79,20],[30,0,79,24],[32,0,79,26],[33,0,79,27]],[[16,0,80,8],[21,0,80,13],[33,0,80,25]],[[20,0,81,10],[26,0,81,16],[41,0,81,31],[44,0,81,34],[48,0,81,38],[49,0,81,39],[54,0,81,44],[55,0,81,45],[64,0,81,54],[65,0,81,55],[69,0,81,59],[70,0,81,60],[72,0,81,62],[73,0,81,63],[77,0,81,67],[82,0,81,72],[87,0,81,77],[88,0,81,78],[92,0,81,82],[93,0,81,83],[94,0,81,84]],[[20,0,82,10],[24,0,82,14],[39,0,82,29],[44,0,82,34],[45,0,82,35],[46,0,82,36],[50,0,82,40],[55,0,82,45],[56,0,82,46],[60,0,82,50],[62,0,82,52],[63,0,82,53]],[[24,0,83,12],[28,0,83,16],[29,0,83,17],[44,0,83,32],[45,0,83,33],[49,0,83,37],[50,0,83,38],[52,0,83,40],[56,0,83,44],[58,0,83,46],[62,0,83,50],[63,0,83,51],[68,0,83,56],[69,0,83,57],[84,0,83,72],[85,0,83,73],[87,0,83,75],[92,0,83,80],[94,0,83,82],[99,0,83,87],[101,0,83,89],[102,0,83,90],[103,0,83,91]],[[20,0,84,10],[21,0,84,11]],[[20,0,85,10],[26,0,85,16]],[[16,0,86,8],[21,0,86,13],[32,0,86,24]],[[20,0,87,10],[26,0,87,16],[31,0,87,21],[34,0,87,24],[38,0,87,28],[39,0,87,29],[44,0,87,34],[45,0,87,35],[51,0,87,41],[52,0,87,42],[56,0,87,46],[57,0,87,47],[59,0,87,49],[60,0,87,50],[64,0,87,54],[65,0,87,55],[73,0,87,63],[74,0,87,64],[80,0,87,70],[85,0,87,75],[97,0,87,87],[98,0,87,88],[103,0,87,93],[104,0,87,94],[105,0,87,95]],[[20,0,88,10],[25,0,88,15],[26,0,88,16],[33,0,88,23],[34,0,88,24],[38,0,88,28],[39,0,88,29],[41,0,88,31],[42,0,88,32],[46,0,88,36],[47,0,88,37],[62,0,88,52],[63,0,88,53],[67,0,88,57],[68,0,88,58],[70,0,88,60],[74,0,88,64],[76,0,88,66],[80,0,88,70],[82,0,88,72],[87,0,88,77],[89,0,88,79],[94,0,88,84],[96,0,88,86],[97,0,88,87],[98,0,88,88],[99,0,88,89]],[[20,0,89,10],[26,0,89,16]],[[16,0,90,8],[21,0,90,13],[29,0,90,21]],[[20,0,91,10],[26,0,91,16],[28,0,91,18],[31,0,91,21],[36,0,91,26],[37,0,91,27],[39,0,91,29],[43,0,91,33],[47,0,91,37],[48,0,91,38]],[[20,0,92,10],[24,0,92,14],[25,0,92,15],[27,0,92,17],[29,0,92,19],[30,0,92,20]],[[24,0,93,12],[31,0,93,19]],[[20,0,94,10],[21,0,94,11]],[[20,0,95,10],[26,0,95,16],[30,0,95,20],[33,0,95,23],[37,0,95,27],[38,0,95,28],[42,0,95,32],[43,0,95,33],[49,0,95,39],[50,0,95,40],[53,0,95,43],[54,0,95,44],[56,0,95,46],[57,0,95,47],[60,0,95,50],[61,0,95,51],[63,0,95,53],[68,0,95,58],[70,0,95,60],[71,0,95,61],[72,0,95,62]],[[20,0,96,10],[24,0,96,14],[25,0,96,15],[32,0,96,22],[33,0,96,23],[36,0,96,26],[37,0,96,27],[39,0,96,29]],[[24,0,97,12],[28,0,97,16],[31,0,97,19],[32,0,97,20],[35,0,97,23],[37,0,97,25],[38,0,97,26]],[[28,0,98,14],[31,0,98,17],[32,0,98,18],[35,0,98,21],[36,0,98,22],[47,0,98,33],[49,0,98,35],[50,0,98,36]],[[28,0,99,14],[34,0,99,20],[43,0,99,29],[46,0,99,32],[50,0,99,36],[51,0,99,37],[56,0,99,42],[57,0,99,43],[66,0,99,52],[67,0,99,53],[71,0,99,57],[72,0,99,58],[74,0,99,60],[75,0,99,61],[79,0,99,65],[80,0,99,66],[82,0,99,68],[87,0,99,73],[89,0,99,75],[90,0,99,76],[91,0,99,77]],[[28,0,100,14],[32,0,100,18],[41,0,100,27],[46,0,100,32],[47,0,100,33],[48,0,100,34],[50,0,100,36],[51,0,100,37]],[[32,0,101,16],[36,0,101,20],[37,0,101,21],[42,0,101,26],[43,0,101,27],[52,0,101,36],[53,0,101,37],[54,0,101,38],[62,0,101,46],[63,0,101,47],[69,0,101,53],[72,0,101,56],[84,0,101,68],[85,0,101,69],[94,0,101,78],[95,0,101,79]],[[32,0,102,16],[36,0,102,20],[37,0,102,21],[50,0,102,34],[51,0,102,35],[55,0,102,39],[56,0,102,40],[58,0,102,42],[62,0,102,46],[64,0,102,48],[75,0,102,59],[77,0,102,61],[81,0,102,65],[83,0,102,67],[87,0,102,71],[88,0,102,72],[93,0,102,77],[94,0,102,78],[103,0,102,87],[104,0,102,88],[106,0,102,90],[107,0,102,91],[108,0,102,92]],[[28,0,103,14],[29,0,103,15]],[[24,0,104,12],[25,0,104,13]],[[20,0,105,10],[21,0,105,11],[22,0,105,12],[23,0,105,13]],[[20,0,106,10],[26,0,106,16]],[[16,0,107,8],[21,0,107,13],[32,0,107,24]],[[20,0,108,10],[24,0,108,14],[25,0,108,15],[29,0,108,19],[30,0,108,20],[37,0,108,27],[38,0,108,28],[41,0,108,31],[42,0,108,32],[44,0,108,34]],[[24,0,109,12],[28,0,109,16],[31,0,109,19],[32,0,109,20],[35,0,109,23],[37,0,109,25],[38,0,109,26]],[[28,0,110,14],[31,0,110,17],[32,0,110,18],[35,0,110,21],[36,0,110,22],[47,0,110,33],[49,0,110,35],[50,0,110,36]],[[24,0,111,12],[25,0,111,13]],[[24,0,113,12],[30,0,113,18],[34,0,113,22],[37,0,113,25],[41,0,113,29],[42,0,113,30],[47,0,113,35],[48,0,113,36],[52,0,113,40],[53,0,113,41],[63,0,113,51],[64,0,113,52],[66,0,113,54],[67,0,113,55],[77,0,113,65],[78,0,113,66],[80,0,113,68],[85,0,113,73],[88,0,113,76],[89,0,113,77],[91,0,113,79],[92,0,113,80],[93,0,113,81]],[[24,0,114,12],[28,0,114,16],[32,0,114,20],[34,0,114,22],[35,0,114,23]],[[28,0,115,14],[32,0,115,18],[33,0,115,19],[41,0,115,27],[42,0,115,28],[48,0,115,34],[51,0,115,37],[63,0,115,49],[64,0,115,50],[73,0,115,59],[74,0,115,60]],[[28,0,116,14],[32,0,116,18],[33,0,116,19],[46,0,116,32],[47,0,116,33],[51,0,116,37],[52,0,116,38],[54,0,116,40],[58,0,116,44],[60,0,116,46],[71,0,116,57],[73,0,116,59],[77,0,116,63],[79,0,116,65],[83,0,116,69],[85,0,116,71],[86,0,116,72],[87,0,116,73]],[[24,0,117,12],[25,0,117,13]],[[20,0,118,10],[21,0,118,11],[22,0,118,12],[23,0,118,13]],[[20,0,119,10],[26,0,119,16]],[[16,0,120,8],[21,0,120,13],[29,0,120,21]],[[20,0,121,10],[24,0,121,14],[25,0,121,15],[30,0,121,20],[31,0,121,21],[33,0,121,23],[35,0,121,25],[36,0,121,26]],[[24,0,122,12],[31,0,122,19]],[[20,0,123,10],[21,0,123,11]],[[20,0,125,10],[26,0,125,16],[27,0,125,17],[30,0,125,20],[34,0,125,24],[35,0,125,25],[40,0,125,30],[41,0,125,31],[50,0,125,40],[51,0,125,41],[55,0,125,45],[56,0,125,46],[58,0,125,48],[59,0,125,49],[63,0,125,53],[64,0,125,54],[66,0,125,56],[71,0,125,61],[76,0,125,66],[77,0,125,67],[79,0,125,69],[80,0,125,70],[81,0,125,71]],[[20,0,126,10],[24,0,126,14],[25,0,126,15],[30,0,126,20],[31,0,126,21],[32,0,126,22],[34,0,126,24],[35,0,126,25]],[[24,0,127,12],[30,0,127,18],[34,0,127,22],[37,0,127,25],[41,0,127,29],[42,0,127,30],[47,0,127,35],[48,0,127,36],[49,0,127,37],[50,0,127,38],[51,0,127,39]],[[24,0,128,12],[28,0,128,16],[29,0,128,17],[34,0,128,22],[35,0,128,23],[41,0,128,29],[42,0,128,30],[43,0,128,31],[45,0,128,33],[46,0,128,34],[47,0,128,35],[48,0,128,36]],[[24,0,129,12],[28,0,129,16],[29,0,129,17],[42,0,129,30],[43,0,129,31],[47,0,129,35],[48,0,129,36],[50,0,129,38],[54,0,129,42],[56,0,129,44],[65,0,129,53],[67,0,129,55],[71,0,129,59],[73,0,129,61],[77,0,129,65],[79,0,129,67],[80,0,129,68],[81,0,129,69]],[[20,0,130,10],[21,0,130,11]],[[20,0,131,10],[26,0,131,16]],[[16,0,132,8],[21,0,132,13],[32,0,132,24]],[[20,0,133,10],[24,0,133,14],[28,0,133,18],[29,0,133,19],[34,0,133,24],[35,0,133,25],[41,0,133,31],[43,0,133,33],[44,0,133,34]],[[24,0,134,12],[28,0,134,16],[29,0,134,17],[34,0,134,22],[37,0,134,25],[39,0,134,27],[40,0,134,28]],[[24,0,135,12],[28,0,135,16],[29,0,135,17],[42,0,135,30],[43,0,135,31],[47,0,135,35],[48,0,135,36],[50,0,135,38],[54,0,135,42],[56,0,135,44],[68,0,135,56],[70,0,135,58],[71,0,135,59],[72,0,135,60]],[[20,0,136,10],[21,0,136,11]],[[20,0,137,10],[26,0,137,16]],[[12,0,138,6],[13,0,138,7]],[[8,0,139,4],[9,0,139,5],[10,0,139,6],[11,0,139,7]],[[4,0,140,2],[5,0,140,3]],[[4,0,142,2],[15,0,142,13],[16,0,142,14],[22,0,142,62]],[[8,0,143,4],[15,0,143,11],[19,0,143,15],[29,0,143,25],[30,0,143,26],[38,0,143,34],[39,0,143,35],[41,0,143,37]],[[12,0,144,6],[18,0,144,12],[21,0,144,15],[24,0,144,18],[28,0,144,22],[29,0,144,23],[39,0,144,33],[40,0,144,34],[46,0,144,40],[47,0,144,41],[51,0,144,45],[53,0,144,47],[59,0,144,53],[60,0,144,54],[65,0,144,59],[66,0,144,60]],[[17,0,145,9],[21,0,145,13],[22,0,146,10],[30,0,146,18],[31,0,146,19],[34,0,146,22],[36,0,146,24]],[[16,0,147,12],[20,0,147,16],[21,0,147,17],[29,0,147,25],[30,0,147,26],[36,0,147,32],[38,0,147,34],[39,0,147,35]],[[20,0,148,14],[28,0,148,22],[29,0,148,23],[37,0,148,31],[39,0,148,33],[40,0,148,34]],[[16,0,149,12],[17,0,149,13]],[[12,0,150,10],[13,0,150,11],[14,0,150,12],[15,0,151,9]],[[17,0,152,9],[26,0,152,18],[27,0,153,10],[33,0,153,16],[34,0,153,17],[36,0,153,19]],[[16,0,154,12],[24,0,154,20],[25,0,154,21],[29,0,154,25],[30,0,154,26],[36,0,154,32],[37,0,154,33],[38,0,154,34]],[[12,0,155,10],[13,0,155,11],[15,0,156,10],[18,0,156,13],[19,0,156,14],[21,0,156,16]],[[16,0,157,12],[24,0,157,20],[25,0,157,21],[30,0,157,26],[31,0,157,27],[34,0,157,30],[35,0,157,31],[36,0,157,32]],[[16,0,158,12],[24,0,158,20],[25,0,158,21],[33,0,158,29],[35,0,158,31],[36,0,158,32]],[[12,0,159,10],[13,0,159,11],[15,0,160,10],[18,0,160,13],[20,0,160,15]],[[16,0,161,12],[24,0,161,20],[25,0,161,21],[33,0,161,29],[35,0,161,31],[36,0,161,32]],[[12,0,162,10],[13,0,162,11],[14,0,163,9],[15,0,163,10]],[[12,0,165,6],[16,0,165,10],[17,0,165,11],[21,0,165,15],[22,0,165,16],[26,0,165,20],[27,0,165,21],[29,0,165,23],[31,0,165,25],[33,0,165,27],[39,0,165,33],[40,0,165,34],[44,0,165,38],[45,0,165,39],[47,0,165,41],[49,0,165,43],[52,0,165,46],[54,0,165,48],[57,0,165,51],[59,0,165,53],[60,0,165,54],[61,0,165,55]],[[8,0,166,4],[9,0,166,5],[10,0,166,6],[11,0,166,7]],[[4,0,167,2],[5,0,167,3]],[[4,0,169,2],[14,0,169,12],[15,0,169,13],[19,0,169,29],[21,0,169,31],[26,0,169,49]],[[8,0,170,4],[15,0,170,11],[19,0,170,15],[29,0,170,25],[30,0,170,26],[38,0,170,34],[39,0,170,35],[41,0,170,37]],[[12,0,171,6],[18,0,171,12],[21,0,171,15],[24,0,171,18],[29,0,171,23],[30,0,171,24],[33,0,171,27],[37,0,171,31],[39,0,171,33],[40,0,171,34]],[[12,0,172,6],[18,0,172,12],[24,0,172,18],[27,0,172,21],[32,0,172,26],[33,0,172,27],[39,0,172,33],[43,0,172,37],[49,0,172,43],[50,0,172,44]],[[12,0,173,6],[18,0,173,12],[22,0,173,16],[25,0,173,19],[30,0,173,24],[31,0,173,25],[35,0,173,29],[39,0,173,33],[41,0,173,35],[42,0,173,36]],[[12,0,174,6],[18,0,174,12],[25,0,174,19],[28,0,174,22],[33,0,174,27],[34,0,174,28],[41,0,174,35],[45,0,174,39],[47,0,174,41],[48,0,174,42]],[[12,0,176,6],[18,0,176,12],[21,0,176,15],[24,0,176,18],[28,0,176,22],[42,0,176,36],[44,0,176,38],[45,0,176,39]],[[12,0,177,6],[18,0,177,12],[22,0,177,16],[25,0,177,27],[29,0,177,31],[33,0,177,35],[35,0,177,37],[36,0,177,38],[43,0,177,45],[45,0,177,47],[46,0,177,48]],[[12,0,178,6],[16,0,178,10],[33,0,178,27],[36,0,178,38],[37,0,178,39],[41,0,178,43],[42,0,178,44],[50,0,178,52],[51,0,178,53],[55,0,178,57],[59,0,178,61],[63,0,178,65],[64,0,178,66],[72,0,178,74],[73,0,178,75],[77,0,178,79],[78,0,178,80],[87,0,178,89],[88,0,178,90],[92,0,178,94],[96,0,178,98],[97,0,178,99]],[[12,0,179,6],[16,0,179,10],[21,0,179,15],[24,0,179,18],[25,0,179,19],[26,0,179,20]],[[12,0,180,6],[16,0,180,10],[19,0,180,13],[22,0,180,31],[26,0,180,35],[27,0,180,36]],[[12,0,182,6],[15,0,182,9],[16,0,182,10],[22,0,182,16],[23,0,182,17],[39,0,182,33],[40,0,183,8],[50,0,183,18],[52,0,184,8],[53,0,184,9],[54,0,184,25],[56,0,184,27],[58,0,184,29]],[[16,0,185,10],[20,0,185,14],[21,0,185,15],[22,0,185,16],[38,0,185,32],[40,0,185,34],[41,0,185,35]],[[20,0,186,12],[26,0,186,18],[36,0,186,28],[39,0,186,31],[43,0,186,35],[44,0,186,36],[49,0,186,41],[50,0,186,42],[51,0,186,43],[52,0,186,44],[53,0,186,45],[59,0,186,51],[62,0,186,54],[65,0,186,57],[66,0,186,58],[69,0,186,61],[70,0,186,62],[71,0,186,63],[76,0,186,68],[77,0,186,69],[78,0,186,70]],[[20,0,187,12],[26,0,187,18],[30,0,187,22],[33,0,187,25],[37,0,187,29],[41,0,187,33],[43,0,187,35],[44,0,187,36],[51,0,187,43],[53,0,187,45],[56,0,187,48],[60,0,187,52],[61,0,187,53]],[[20,0,188,12],[25,0,188,17],[28,0,188,20],[32,0,188,24],[33,0,188,25],[38,0,188,30],[39,0,188,31],[40,0,188,32],[41,0,188,33],[42,0,188,34],[48,0,188,40],[51,0,188,43],[55,0,188,47],[56,0,188,48],[59,0,188,51],[63,0,188,55],[64,0,188,56],[65,0,188,57]],[[20,0,189,12],[37,0,189,29],[40,0,189,32],[41,0,189,33],[45,0,189,37],[46,0,189,38],[54,0,189,46],[55,0,189,47],[59,0,189,51],[63,0,189,55],[67,0,189,59],[68,0,189,60],[76,0,189,68],[77,0,189,69],[81,0,189,73],[82,0,189,74],[91,0,189,83],[92,0,189,84],[96,0,189,88],[100,0,189,92],[104,0,189,96],[106,0,189,98],[107,0,189,99],[114,0,189,106],[116,0,189,108],[117,0,189,109]],[[20,0,190,12],[23,0,190,15],[26,0,190,18],[30,0,190,22],[31,0,190,23],[35,0,190,27],[36,0,190,28],[37,0,190,29],[38,0,190,30],[39,0,190,31],[44,0,190,36],[47,0,190,39],[48,0,190,40],[49,0,190,41],[55,0,190,47],[56,0,190,48],[59,0,190,51],[64,0,190,56],[65,0,190,57],[66,0,190,58]],[[20,0,192,12],[24,0,192,16],[25,0,192,17],[33,0,192,25],[36,0,192,28]],[[24,0,193,14],[30,0,193,20],[32,0,193,22],[44,0,193,34],[45,0,193,35],[54,0,193,44]],[[24,0,194,14],[28,0,194,18],[30,0,194,20]],[[28,0,195,16],[38,0,195,26],[40,0,195,28],[50,0,195,38]],[[28,0,196,16],[33,0,196,21],[35,0,196,23],[40,0,196,28]],[[28,0,197,16],[38,0,197,26],[40,0,197,28],[43,0,197,31],[56,0,197,44],[57,0,197,45],[62,0,197,50],[63,0,197,51],[67,0,197,55]],[[28,0,198,16],[37,0,198,25],[39,0,198,27],[56,0,198,44]],[[28,0,199,16],[35,0,199,23],[37,0,199,25],[41,0,199,29]],[[28,0,200,16],[31,0,200,19],[33,0,200,21],[36,0,200,24]],[[28,0,201,16],[36,0,201,24],[38,0,201,26],[42,0,201,30],[43,0,201,31],[57,0,201,45],[58,0,201,46],[61,0,201,49],[62,0,201,50]],[[25,0,202,15]],[[21,0,203,13],[22,0,203,14]],[[20,0,205,12],[28,0,205,20],[29,0,205,21],[33,0,205,25],[34,0,205,26],[36,0,205,28],[40,0,205,32],[42,0,205,34],[53,0,205,45],[55,0,205,47],[59,0,205,51],[61,0,205,53],[65,0,205,57],[67,0,205,59],[68,0,205,60],[69,0,205,61]],[[16,0,206,10],[17,0,206,11]],[[12,0,207,8],[13,0,207,9],[15,0,208,8],[20,0,208,13],[21,0,209,7],[22,0,209,8]],[[12,0,211,6],[15,0,211,9],[16,0,211,10],[22,0,211,16],[23,0,211,17],[39,0,211,33],[40,0,211,34],[47,0,211,41],[49,0,211,43],[50,0,211,44],[51,0,211,52],[53,0,211,54],[55,0,211,56]],[[16,0,212,8],[24,0,212,16],[25,0,212,17],[30,0,212,22],[31,0,212,23],[32,0,212,24],[33,0,212,25],[34,0,212,26]],[[16,0,213,8],[24,0,213,16],[25,0,213,17],[33,0,213,25],[35,0,213,27],[36,0,213,28]],[[12,0,214,6],[13,0,214,7],[14,0,214,8],[15,0,214,9]],[[12,0,216,6],[15,0,216,9],[16,0,216,10],[34,0,216,28],[37,0,216,31],[40,0,216,34],[42,0,216,36]],[[16,0,217,8],[20,0,217,12],[23,0,217,15],[24,0,217,16],[34,0,217,26],[39,0,217,31],[53,0,217,45],[54,0,217,46],[58,0,217,50],[60,0,217,52],[61,0,217,53]],[[20,0,218,10],[26,0,218,16],[38,0,218,28],[41,0,218,31],[45,0,218,35],[46,0,218,36],[51,0,218,41],[52,0,218,42],[53,0,218,43],[57,0,218,47],[58,0,218,48],[62,0,218,52],[65,0,218,55],[66,0,218,56],[70,0,218,60],[74,0,218,64],[76,0,218,66],[77,0,218,67],[84,0,218,74],[86,0,218,76],[89,0,218,79],[106,0,218,96],[107,0,218,97],[108,0,218,98],[111,0,218,101],[115,0,218,105],[116,0,218,106],[117,0,218,107]],[[20,0,219,10],[24,0,219,14],[25,0,219,15],[33,0,219,23],[36,0,219,26]],[[24,0,220,12],[30,0,220,18],[32,0,220,20],[44,0,220,32],[45,0,220,33],[49,0,220,37]],[[24,0,221,12],[28,0,221,16],[30,0,221,18]],[[28,0,222,14],[38,0,222,24],[40,0,222,26],[43,0,222,29]],[[28,0,223,14],[33,0,223,19],[35,0,223,21],[47,0,223,33]],[[28,0,224,14],[38,0,224,24],[40,0,224,26],[43,0,224,29],[56,0,224,42],[57,0,224,43],[69,0,224,55],[70,0,224,56],[74,0,224,60]],[[28,0,225,14],[37,0,225,23],[39,0,225,25],[56,0,225,42]],[[28,0,226,14],[35,0,226,21],[37,0,226,23],[41,0,226,27],[45,0,226,31],[47,0,226,33],[48,0,226,34],[55,0,226,41],[57,0,226,43]],[[28,0,227,14],[31,0,227,17],[33,0,227,19],[36,0,227,22]],[[28,0,228,14],[36,0,228,22],[38,0,228,24],[42,0,228,28],[43,0,228,29],[57,0,228,43],[58,0,228,44],[61,0,228,47],[65,0,228,51],[66,0,228,52],[67,0,228,53]],[[25,0,229,13]],[[21,0,230,11],[22,0,230,12]],[[20,0,232,10],[24,0,232,14],[25,0,232,15],[39,0,232,29],[42,0,232,32],[45,0,232,35],[46,0,232,36],[52,0,232,42],[53,0,232,43]],[[20,0,234,10],[24,0,234,14],[25,0,234,15]],[[24,0,235,12],[28,0,235,16],[29,0,235,17],[37,0,235,25],[40,0,235,28],[44,0,235,32],[45,0,235,33],[50,0,235,38],[51,0,235,39],[54,0,235,42],[55,0,235,43],[63,0,235,51],[64,0,235,52],[65,0,235,53]],[[20,0,236,10],[21,0,236,11]],[[20,0,236,12],[27,0,236,19],[28,0,236,20],[30,0,236,22],[31,0,236,23]],[[24,0,237,12],[28,0,237,16],[29,0,237,17],[37,0,237,25],[40,0,237,28],[43,0,237,31],[44,0,237,32],[52,0,237,40],[53,0,237,41]],[[20,0,238,10],[21,0,238,11]],[[20,0,240,10],[24,0,240,14],[25,0,240,15],[40,0,240,30],[43,0,240,33],[47,0,240,37],[48,0,240,38],[68,0,240,58],[69,0,240,59],[72,0,240,62],[73,0,240,63],[94,0,240,84],[96,0,240,86],[97,0,240,87],[98,0,240,88]],[[20,0,242,10],[28,0,242,18],[29,0,242,19],[33,0,242,23],[34,0,242,24],[36,0,242,26],[40,0,242,30],[42,0,242,32],[48,0,242,38],[50,0,242,40],[54,0,242,44],[56,0,242,46],[60,0,242,50],[62,0,242,52],[63,0,242,53],[64,0,242,54]],[[20,0,244,10],[28,0,244,18],[29,0,244,19],[37,0,244,27],[39,0,244,29],[40,0,244,30]],[[16,0,245,8],[17,0,245,9]],[[12,0,246,6],[13,0,246,7],[14,0,246,8]],[[12,0,248,6],[15,0,248,9],[16,0,248,10],[20,0,248,14],[21,0,248,15],[27,0,248,21],[29,0,248,23],[32,0,248,26],[34,0,248,28],[38,0,248,32],[39,0,248,33],[40,0,248,34]],[[12,0,249,6],[15,0,249,9],[16,0,249,10],[31,0,249,25],[34,0,249,28],[39,0,249,33],[40,0,249,34],[55,0,249,49],[56,0,249,50]],[[12,0,251,6],[16,0,251,10],[17,0,251,11]],[[16,0,252,8],[22,0,252,14],[32,0,252,24],[35,0,252,37],[39,0,252,41],[40,0,252,42],[50,0,252,52],[51,0,252,53]],[[16,0,253,8],[22,0,253,14],[33,0,253,25],[36,0,253,28],[40,0,253,32],[41,0,253,33],[46,0,253,38],[47,0,253,39],[56,0,253,48],[57,0,253,49],[64,0,253,56],[65,0,253,57],[67,0,253,59],[68,0,253,60],[75,0,253,67],[76,0,253,68],[86,0,253,78],[91,0,253,83],[101,0,253,93],[102,0,253,94],[103,0,253,95]],[[16,0,255,8],[20,0,255,12],[24,0,255,16],[25,0,255,17],[30,0,255,22],[31,0,255,23],[42,0,255,34],[43,0,255,35],[44,0,255,36],[52,0,255,44],[53,0,255,45],[59,0,255,51],[64,0,255,56],[76,0,255,68],[77,0,255,69],[86,0,255,78],[88,0,255,80],[89,0,255,81]],[[20,0,256,10],[28,0,256,18],[29,0,256,19],[37,0,256,27],[39,0,256,29],[40,0,256,30]],[[16,0,257,8],[17,0,257,9]],[[16,0,259,8],[22,0,259,14],[23,0,259,15],[27,0,259,19],[28,0,259,20],[35,0,259,27],[36,0,259,28],[37,0,259,29],[44,0,259,36],[45,0,259,37],[48,0,259,40],[49,0,259,41],[51,0,259,43],[52,0,259,44],[55,0,259,47],[56,0,259,48],[72,0,259,64],[73,0,259,65],[76,0,259,68],[78,0,259,70],[85,0,259,77],[86,0,259,78],[89,0,259,81],[90,0,259,82],[91,0,259,83],[92,0,259,84],[93,0,259,85]],[[16,0,261,8],[20,0,261,12],[30,0,261,43],[31,0,261,44]],[[16,0,263,8],[20,0,263,12],[25,0,263,17],[26,0,263,18],[51,0,263,43],[56,0,263,48],[61,0,263,53],[63,0,263,55],[64,0,263,56]],[[20,0,264,10],[26,0,264,16],[27,0,264,17],[31,0,264,21],[32,0,264,22],[36,0,264,26],[37,0,264,27],[38,0,264,28],[45,0,264,35],[46,0,264,36],[49,0,264,39],[50,0,264,40],[52,0,264,42],[53,0,264,43],[57,0,264,47],[58,0,264,48],[62,0,264,52],[63,0,264,53],[69,0,264,59],[70,0,264,60],[73,0,264,63],[75,0,264,65],[79,0,264,69],[80,0,264,70],[83,0,264,73],[84,0,264,74],[85,0,264,75],[86,0,264,76],[87,0,264,77]],[[20,0,265,10],[24,0,265,14],[25,0,265,15],[29,0,265,19],[30,0,265,20],[36,0,265,26],[37,0,265,27],[42,0,265,32],[43,0,265,33],[52,0,265,42],[56,0,265,46],[62,0,265,52],[64,0,265,54],[74,0,265,64],[76,0,265,66],[86,0,265,76],[87,0,265,77],[91,0,265,81],[92,0,265,82],[93,0,265,83]],[[20,0,266,10],[30,0,266,20],[33,0,266,23],[37,0,266,27],[38,0,266,28],[42,0,266,32],[43,0,266,33]],[[16,0,267,8],[17,0,267,9]],[[21,0,267,15],[22,0,267,16]],[[20,0,268,10],[30,0,268,20],[33,0,268,23],[43,0,268,33],[44,0,268,34]],[[16,0,269,8],[17,0,269,9]],[[16,0,271,8],[20,0,271,12],[21,0,271,13],[34,0,271,26],[35,0,271,27],[39,0,271,31],[40,0,271,32],[42,0,271,34],[46,0,271,38],[48,0,271,40],[55,0,271,47],[57,0,271,49],[61,0,271,53],[63,0,271,55],[67,0,271,59],[69,0,271,61],[70,0,271,62],[71,0,271,63]],[[16,0,272,8],[19,0,272,11],[20,0,272,12],[24,0,272,16],[25,0,272,17],[35,0,272,27],[36,0,272,28],[37,0,272,29]],[[12,0,273,6],[13,0,273,7]],[[12,0,273,8],[19,0,273,15],[20,0,273,16],[22,0,273,18],[23,0,273,19]],[[16,0,274,8],[24,0,274,16],[25,0,274,17],[33,0,274,25],[35,0,274,27],[36,0,274,28]],[[12,0,275,6],[13,0,275,7]],[[12,0,277,6],[19,0,277,13],[22,0,277,16],[24,0,277,18]],[[16,0,278,8],[19,0,278,11],[20,0,278,12],[25,0,278,17],[27,0,278,19],[28,0,278,20]],[[12,0,279,6],[13,0,279,7],[14,0,279,8]],[[8,0,280,4],[9,0,280,5],[10,0,280,6],[11,0,280,7]],[[4,0,281,2],[5,0,281,3]],[[4,0,283,2],[18,0,283,16],[19,0,283,17],[22,0,283,28]],[[8,0,284,4],[15,0,284,11],[19,0,284,15],[23,0,284,19],[24,0,284,20],[27,0,284,23],[30,0,284,26],[34,0,284,30],[35,0,284,31],[36,0,284,32],[47,0,284,43],[49,0,284,45],[50,0,284,46],[56,0,284,52],[57,0,284,53],[59,0,284,55],[61,0,284,57],[62,0,284,58],[63,0,284,59],[64,0,284,60]],[[4,0,285,2],[5,0,285,3]],[[4,0,287,2],[14,0,287,12]],[[8,0,288,4],[15,0,288,11],[19,0,288,15],[20,0,288,16],[26,0,288,22],[28,0,288,24],[29,0,288,25],[37,0,288,33],[38,0,288,34],[40,0,288,36],[41,0,288,37],[42,0,288,38],[51,0,288,47],[52,0,288,48],[53,0,288,49],[54,0,288,50],[55,0,288,51]],[[4,0,289,2],[5,0,289,3]],[[4,0,291,2],[19,0,291,17],[20,0,291,18],[32,0,291,40]],[[8,0,292,4],[12,0,292,8],[19,0,292,15],[31,0,292,27],[36,0,292,32],[47,0,292,43],[51,0,292,47],[63,0,292,59],[75,0,292,71],[80,0,292,76],[82,0,292,78],[83,0,292,79]],[[12,0,293,6],[16,0,293,10],[28,0,293,22],[29,0,293,23],[33,0,293,27],[34,0,293,28],[35,0,293,29],[39,0,293,41],[41,0,293,43],[43,0,293,45],[44,0,293,46],[48,0,293,50],[53,0,293,55],[56,0,293,58],[57,0,293,59],[62,0,293,64],[71,0,293,73],[73,0,293,75],[74,0,293,76]],[[16,0,294,8],[20,0,294,12],[21,0,294,13],[33,0,294,25],[36,0,294,28],[37,0,294,29],[40,0,294,32],[41,0,294,33],[42,0,294,34]],[[12,0,295,6],[13,0,295,7]],[[17,0,295,13],[18,0,295,14]],[[16,0,296,8],[20,0,296,12],[21,0,296,13],[33,0,296,25],[36,0,296,28],[48,0,296,40],[49,0,296,41]],[[12,0,297,6],[13,0,297,7]],[[12,0,298,6],[19,0,298,13]],[[8,0,299,4],[9,0,299,5]],[[8,0,300,4],[12,0,300,8],[13,0,300,9],[25,0,300,21],[28,0,300,24],[29,0,300,25],[32,0,300,28],[33,0,300,29],[34,0,300,30]],[[4,0,301,2],[5,0,301,3]],[[4,0,303,2],[26,0,303,24]],[[8,0,304,4],[15,0,304,11],[19,0,304,15],[20,0,304,16],[32,0,304,28],[33,0,304,29],[37,0,304,33],[38,0,304,34],[39,0,304,35],[43,0,304,47],[45,0,304,49],[47,0,304,51],[48,0,304,52],[52,0,304,56],[57,0,304,61],[60,0,304,64],[61,0,304,65],[66,0,304,70],[75,0,304,79],[76,0,304,80]],[[4,0,305,2],[5,0,305,3]],[[4,0,307,2],[24,0,307,22],[25,0,307,23],[33,0,307,39]],[[8,0,308,4],[12,0,308,8],[16,0,308,12],[17,0,308,13],[39,0,308,35],[41,0,308,37],[43,0,308,39],[44,0,308,40]],[[12,0,309,6],[19,0,309,13],[23,0,309,17],[24,0,309,18]],[[8,0,310,4],[9,0,310,5]],[[8,0,311,4],[15,0,311,11],[19,0,311,15],[20,0,311,16],[32,0,311,28],[33,0,311,29],[37,0,311,33],[38,0,311,34],[39,0,311,35],[43,0,311,47],[45,0,311,49],[47,0,311,51],[48,0,311,52],[52,0,311,56],[57,0,311,61],[65,0,311,69],[66,0,311,70],[71,0,311,75],[80,0,311,84],[81,0,311,85]],[[4,0,312,2],[5,0,312,3]],[[4,0,314,2],[21,0,314,19],[22,0,314,20],[30,0,314,36]],[[8,0,315,4],[12,0,315,8],[13,0,315,9],[17,0,315,13],[18,0,315,14],[29,0,315,25],[31,0,315,27],[32,0,315,28]],[[12,0,316,6],[19,0,316,13],[23,0,316,17],[24,0,316,18]],[[8,0,317,4],[9,0,317,5]],[[8,0,318,4],[15,0,318,11],[23,0,318,19],[27,0,318,23],[31,0,318,27],[32,0,318,28],[43,0,318,39],[44,0,318,40]],[[4,0,319,2],[5,0,319,3]],[[4,0,321,2],[18,0,321,16],[19,0,321,17],[23,0,321,27],[25,0,321,29],[30,0,321,42]],[[8,0,322,4],[15,0,322,11]],[[12,0,323,6],[21,0,323,15],[23,0,323,17],[28,0,323,22]],[[12,0,324,6],[14,0,324,8],[16,0,324,10],[20,0,324,14],[21,0,324,15],[31,0,324,25],[33,0,324,27]],[[12,0,325,6],[16,0,325,10],[18,0,325,12],[22,0,325,16],[23,0,325,17],[27,0,325,21]],[[12,0,326,6],[16,0,326,10],[18,0,326,12],[22,0,326,16],[23,0,326,17],[27,0,326,21]],[[12,0,327,6],[16,0,327,10],[18,0,327,12],[22,0,327,16],[23,0,327,17],[27,0,327,21]],[[12,0,328,6],[16,0,328,10],[18,0,328,12],[22,0,328,16],[30,0,328,24],[32,0,328,26]],[[12,0,329,6],[20,0,329,14],[22,0,329,16]],[[16,0,330,8],[22,0,330,14],[24,0,330,16],[36,0,330,28],[37,0,330,29],[42,0,330,34]],[[16,0,331,8],[20,0,331,12],[22,0,331,14]],[[20,0,332,10],[30,0,332,20],[32,0,332,22],[33,0,332,23]],[[20,0,333,10],[25,0,333,15],[27,0,333,17],[28,0,333,18]],[[20,0,334,10],[30,0,334,20],[32,0,334,22],[35,0,334,25],[48,0,334,38],[49,0,334,39],[50,0,334,40],[51,0,334,41],[55,0,334,45]],[[20,0,335,10],[29,0,335,19],[31,0,335,21],[35,0,335,25]],[[20,0,336,10],[27,0,336,17],[29,0,336,19],[33,0,336,23]],[[20,0,337,10],[23,0,337,13],[25,0,337,15],[29,0,337,19]],[[20,0,338,10],[28,0,338,18],[30,0,338,20],[34,0,338,24]],[[17,0,339,9]],[[13,0,340,7]],[[12,0,341,6],[28,0,341,22],[30,0,341,24],[34,0,341,28],[38,0,341,32],[39,0,341,33],[43,0,341,37],[44,0,341,38],[56,0,341,50],[57,0,341,51]],[[12,0,342,6],[15,0,342,9],[17,0,342,11],[26,0,342,20]],[[12,0,343,6],[22,0,343,16],[24,0,343,18],[28,0,343,22]],[[9,0,344,5],[10,0,344,6]],[[4,0,345,2],[5,0,345,3]],[[4,0,347,10],[24,0,347,30],[25,0,347,31],[36,0,347,50]],[[8,0,348,4],[12,0,348,8],[13,0,348,9],[24,0,348,20],[26,0,348,22],[27,0,348,23]],[[12,0,349,6],[19,0,349,13]],[[8,0,350,4],[9,0,350,5]],[[8,0,352,4],[15,0,352,11],[26,0,352,22]],[[13,0,353,7],[18,0,353,12],[19,0,353,13],[23,0,353,17],[24,0,353,18]],[[13,0,354,7],[16,0,354,10],[17,0,354,11],[18,0,354,12],[19,0,354,21],[21,0,354,23],[23,0,354,25],[24,0,354,26],[25,0,354,27],[26,0,354,28],[31,0,354,33],[32,0,354,34],[37,0,354,39],[39,0,354,41],[40,0,354,42],[41,0,354,43],[42,0,354,44]],[[13,0,355,7],[19,0,355,13],[20,0,355,14],[21,0,355,15],[22,0,355,26],[24,0,355,28],[26,0,355,30],[27,0,355,31],[28,0,355,32],[29,0,355,33],[30,0,355,34],[31,0,355,35],[32,0,355,36]],[[13,0,356,7],[19,0,356,13],[20,0,356,14],[21,0,356,15],[24,0,356,45],[26,0,356,47],[27,0,356,58],[29,0,356,60],[31,0,356,62]],[[12,0,357,8],[15,0,357,11],[16,0,357,12],[17,0,357,13],[18,0,357,14],[19,0,357,15],[20,0,357,16],[21,0,357,17],[24,0,357,20],[25,0,357,21],[26,0,357,22],[27,0,357,23],[28,0,357,24],[29,0,357,25]],[[12,0,358,8],[19,0,358,15],[22,0,358,18],[23,0,358,19]],[[8,0,359,6],[9,0,359,7],[11,0,359,9],[13,0,359,11],[14,0,359,12],[15,0,359,13]],[[4,0,360,2],[5,0,360,3]],[[1,0,361,1]]],"sourcesContent":["import { EventEmitter } from '@angular/core';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { mergeMap, finalize } from 'rxjs/operators';\nimport { UploadFile, UploadOutput, UploadInput, UploadStatus, BlobFile } from './interfaces';\n\nexport function humanizeBytes(bytes: number): string {\n  if (bytes === 0) {\n    return '0 Byte';\n  }\n\n  const k = 1024;\n  const sizes: string[] = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n  const i: number = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\n\nexport class NgUploaderService {\n  queue: UploadFile[];\n  serviceEvents: EventEmitter<UploadOutput>;\n  uploadScheduler: Subject<{ file: UploadFile; event: UploadInput }>;\n  subs: { id: string; sub: Subscription }[];\n  contentTypes: string[];\n  maxUploads: number;\n  maxFileSize: number;\n\n  constructor(\n    concurrency: number = Number.POSITIVE_INFINITY,\n    contentTypes: string[] = ['*'],\n    maxUploads: number = Number.POSITIVE_INFINITY,\n    maxFileSize: number = Number.POSITIVE_INFINITY\n  ) {\n    this.queue = [];\n    this.serviceEvents = new EventEmitter<UploadOutput>();\n    this.uploadScheduler = new Subject();\n    this.subs = [];\n    this.contentTypes = contentTypes;\n    this.maxUploads = maxUploads;\n    this.maxFileSize = maxFileSize;\n\n    this.uploadScheduler\n      .pipe(mergeMap(upload => this.startUpload(upload), concurrency))\n      .subscribe(uploadOutput => this.serviceEvents.emit(uploadOutput));\n  }\n\n  handleFiles(incomingFiles: FileList): void {\n    const allowedIncomingFiles: File[] = [].reduce.call(\n      incomingFiles,\n      (acc: File[], checkFile: File, i: number) => {\n        const futureQueueLength = acc.length + this.queue.length + 1;\n        if (\n          this.isContentTypeAllowed(checkFile.type) &&\n          futureQueueLength <= this.maxUploads &&\n          this.isFileSizeAllowed(checkFile.size)\n        ) {\n          acc = acc.concat(checkFile);\n        } else {\n          const rejectedFile: UploadFile = this.makeUploadFile(checkFile, i);\n          this.serviceEvents.emit({ type: 'rejected', file: rejectedFile });\n        }\n\n        return acc;\n      },\n      []\n    );\n\n    this.queue.push(\n      ...[].map.call(allowedIncomingFiles, (file: File, i: number) => {\n        const uploadFile: UploadFile = this.makeUploadFile(file, i);\n        this.serviceEvents.emit({ type: 'addedToQueue', file: uploadFile });\n        return uploadFile;\n      })\n    );\n\n    this.serviceEvents.emit({ type: 'allAddedToQueue' });\n  }\n\n  initInputEvents(input: EventEmitter<UploadInput>): Subscription {\n    return input.subscribe((event: UploadInput) => {\n      switch (event.type) {\n        case 'uploadFile':\n          const uploadFileIndex = this.queue.findIndex(file => file === event.file);\n          if (uploadFileIndex !== -1 && event.file) {\n            this.uploadScheduler.next({ file: this.queue[uploadFileIndex], event: event });\n          }\n          break;\n        case 'uploadAll':\n          const files = this.queue.filter(file => file.progress.status === UploadStatus.Queue);\n          files.forEach(file => this.uploadScheduler.next({ file: file, event: event }));\n          break;\n        case 'cancel':\n          const id = event.id || null;\n          if (!id) {\n            return;\n          }\n          const subs = this.subs.filter(sub => sub.id === id);\n          subs.forEach(sub => {\n            if (sub.sub) {\n              sub.sub.unsubscribe();\n              const fileIndex = this.queue.findIndex(file => file.id === id);\n              if (fileIndex !== -1) {\n                this.queue[fileIndex].progress.status = UploadStatus.Cancelled;\n                this.serviceEvents.emit({ type: 'cancelled', file: this.queue[fileIndex] });\n              }\n            }\n          });\n          break;\n        case 'cancelAll':\n          this.subs.forEach(sub => {\n            if (sub.sub) {\n              sub.sub.unsubscribe();\n            }\n\n            const file = this.queue.find(uploadFile => uploadFile.id === sub.id);\n            if (file) {\n              file.progress.status = UploadStatus.Cancelled;\n              this.serviceEvents.emit({ type: 'cancelled', file: file });\n            }\n          });\n          break;\n        case 'remove':\n          if (!event.id) {\n            return;\n          }\n\n          const i = this.queue.findIndex(file => file.id === event.id);\n          if (i !== -1) {\n            const file = this.queue[i];\n            this.queue.splice(i, 1);\n            this.serviceEvents.emit({ type: 'removed', file: file });\n          }\n          break;\n        case 'removeAll':\n          if (this.queue.length) {\n            this.queue = [];\n            this.serviceEvents.emit({ type: 'removedAll' });\n          }\n          break;\n      }\n    });\n  }\n\n  startUpload(upload: { file: UploadFile; event: UploadInput }): Observable<UploadOutput> {\n    return new Observable(observer => {\n      const sub = this.uploadFile(upload.file, upload.event)\n        .pipe(\n          finalize(() => {\n            if (!observer.closed) {\n              observer.complete();\n            }\n          })\n        )\n        .subscribe(\n          output => {\n            observer.next(output);\n          },\n          err => {\n            observer.error(err);\n            observer.complete();\n          },\n          () => {\n            observer.complete();\n          }\n        );\n\n      this.subs.push({ id: upload.file.id, sub: sub });\n    });\n  }\n\n  uploadFile(file: UploadFile, event: UploadInput): Observable<UploadOutput> {\n    return new Observable(observer => {\n      const url = event.url || '';\n      const method = event.method || 'POST';\n      const data = event.data || {};\n      const headers = event.headers || {};\n\n      const xhr = new XMLHttpRequest();\n      const time: number = new Date().getTime();\n      let progressStartTime: number = (file.progress.data && file.progress.data.startTime) || time;\n      let speed = 0;\n      let eta: number | null = null;\n\n      xhr.upload.addEventListener(\n        'progress',\n        (e: ProgressEvent) => {\n          if (e.lengthComputable) {\n            const percentage = Math.round((e.loaded * 100) / e.total);\n            const diff = new Date().getTime() - time;\n            speed = Math.round((e.loaded / diff) * 1000);\n            progressStartTime = (file.progress.data && file.progress.data.startTime) || new Date().getTime();\n            eta = Math.ceil((e.total - e.loaded) / speed);\n\n            file.progress = {\n              status: UploadStatus.Uploading,\n              data: {\n                percentage: percentage,\n                speed: speed,\n                speedHuman: `${humanizeBytes(speed)}/s`,\n                startTime: progressStartTime,\n                endTime: null,\n                eta: eta,\n                etaHuman: this.secondsToHuman(eta)\n              }\n            };\n\n            observer.next({ type: 'uploading', file: file });\n          }\n        },\n        false\n      );\n\n      xhr.upload.addEventListener('error', (e: Event) => {\n        observer.error(e);\n        observer.complete();\n      });\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === XMLHttpRequest.DONE) {\n          const speedAverage = Math.round((file.size / (new Date().getTime() - progressStartTime)) * 1000);\n          file.progress = {\n            status: UploadStatus.Done,\n            data: {\n              percentage: 100,\n              speed: speedAverage,\n              speedHuman: `${humanizeBytes(speedAverage)}/s`,\n              startTime: progressStartTime,\n              endTime: new Date().getTime(),\n              eta: eta,\n              etaHuman: this.secondsToHuman(eta || 0)\n            }\n          };\n\n          file.responseStatus = xhr.status;\n\n          try {\n            file.response = JSON.parse(xhr.response);\n          } catch (e) {\n            file.response = xhr.response;\n          }\n\n          file.responseHeaders = this.parseResponseHeaders(xhr.getAllResponseHeaders());\n\n          observer.next({ type: 'done', file: file });\n\n          observer.complete();\n        }\n      };\n\n      xhr.open(method, url, true);\n      xhr.withCredentials = event.withCredentials;\n\n      try {\n        const uploadFile = <BlobFile>file.nativeFile;\n        const uploadIndex = this.queue.findIndex(outFile => outFile.nativeFile === uploadFile);\n\n        if (this.queue[uploadIndex].progress.status === UploadStatus.Cancelled) {\n          observer.complete();\n        }\n\n        Object.keys(headers).forEach(key => xhr.setRequestHeader(key, headers[key]));\n\n        let bodyToSend: FormData | BlobFile;\n\n        if (event.includeWebKitFormBoundary !== false) {\n          Object.keys(data).forEach(key => file.form.append(key, data[key]));\n          file.form.append(event.fieldName || 'file', uploadFile, uploadFile.name);\n          bodyToSend = file.form;\n        } else {\n          bodyToSend = uploadFile;\n        }\n\n        this.serviceEvents.emit({ type: 'start', file: file });\n        xhr.send(bodyToSend);\n      } catch (e) {\n        observer.complete();\n      }\n\n      return () => {\n        xhr.abort();\n      };\n    });\n  }\n\n  secondsToHuman(sec: number): string {\n    return new Date(sec * 1000).toISOString().substr(11, 8);\n  }\n\n  generateId(): string {\n    return Math.random().toString(36).substring(7);\n  }\n\n  setContentTypes(contentTypes: string[]): void {\n    if (typeof contentTypes !== 'undefined' && contentTypes instanceof Array) {\n      if (contentTypes.find((type: string) => type === '*') !== undefined) {\n        this.contentTypes = ['*'];\n      } else {\n        this.contentTypes = contentTypes;\n      }\n      return;\n    }\n    this.contentTypes = ['*'];\n  }\n\n  allContentTypesAllowed(): boolean {\n    return this.contentTypes.find((type: string) => type === '*') !== undefined;\n  }\n\n  isContentTypeAllowed(mimetype: string): boolean {\n    if (this.allContentTypesAllowed()) {\n      return true;\n    }\n    return this.contentTypes.find((type: string) => type === mimetype) !== undefined;\n  }\n\n  isFileSizeAllowed(fileSize: number): boolean {\n    if (!this.maxFileSize) {\n      return true;\n    }\n    return fileSize <= this.maxFileSize;\n  }\n\n  makeUploadFile(file: File, index: number): UploadFile {\n    return {\n      fileIndex: index,\n      id: this.generateId(),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      form: new FormData(),\n      progress: {\n        status: UploadStatus.Queue,\n        data: {\n          percentage: 0,\n          speed: 0,\n          speedHuman: `${humanizeBytes(0)}/s`,\n          startTime: null,\n          endTime: null,\n          eta: null,\n          etaHuman: null\n        }\n      },\n      lastModifiedDate: new Date(file.lastModified),\n      sub: undefined,\n      nativeFile: file\n    };\n  }\n\n  private parseResponseHeaders(httpHeaders: string): { [key: string]: string } {\n    if (!httpHeaders) {\n      return;\n    }\n\n    return httpHeaders\n      .split('\\n')\n      .map((x: string) => x.split(/: */, 2))\n      .filter((x: string[]) => x[0])\n      .reduce((acc: { [key: string]: string }, x: string[]) => {\n        acc[x[0]] = x[1];\n        return acc;\n      }, {});\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs":{"attributes":{},"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"rxjs/operators":{"attributes":{},"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./interfaces":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/interfaces.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":11520,"body":[{"type":"ImportDeclaration","start":0,"end":97,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Directive"},"local":{"type":"Identifier","start":9,"end":18,"name":"Directive"}},{"type":"ImportSpecifier","start":20,"end":30,"imported":{"type":"Identifier","start":20,"end":30,"name":"ElementRef"},"local":{"type":"Identifier","start":20,"end":30,"name":"ElementRef"}},{"type":"ImportSpecifier","start":32,"end":44,"imported":{"type":"Identifier","start":32,"end":44,"name":"EventEmitter"},"local":{"type":"Identifier","start":32,"end":44,"name":"EventEmitter"}},{"type":"ImportSpecifier","start":46,"end":51,"imported":{"type":"Identifier","start":46,"end":51,"name":"Input"},"local":{"type":"Identifier","start":46,"end":51,"name":"Input"}},{"type":"ImportSpecifier","start":53,"end":59,"imported":{"type":"Identifier","start":53,"end":59,"name":"Output"},"local":{"type":"Identifier","start":53,"end":59,"name":"Output"}},{"type":"ImportSpecifier","start":61,"end":73,"imported":{"type":"Identifier","start":61,"end":73,"name":"HostListener"},"local":{"type":"Identifier","start":61,"end":73,"name":"HostListener"}}],"source":{"type":"Literal","start":81,"end":96,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":98,"end":155,"specifiers":[{"type":"ImportSpecifier","start":107,"end":124,"imported":{"type":"Identifier","start":107,"end":124,"name":"NgUploaderService"},"local":{"type":"Identifier","start":107,"end":124,"name":"NgUploaderService"}}],"source":{"type":"Literal","start":132,"end":154,"value":"./ngx-uploader.class","raw":"'./ngx-uploader.class'"},"attributes":[]},{"type":"ImportDeclaration","start":156,"end":192,"specifiers":[{"type":"ImportNamespaceSpecifier","start":163,"end":170,"local":{"type":"Identifier","start":168,"end":170,"name":"i0"}}],"source":{"type":"Literal","start":176,"end":191,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":193,"end":3105,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":200,"end":3105,"decorators":[],"id":{"type":"Identifier","start":206,"end":225,"name":"NgFileDropDirective"},"superClass":null,"body":{"type":"ClassBody","start":226,"end":3105,"body":[{"type":"PropertyDefinition","start":232,"end":243,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":232,"end":242,"name":"elementRef"},"value":null},{"type":"PropertyDefinition","start":248,"end":256,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":248,"end":255,"name":"options"},"value":null},{"type":"PropertyDefinition","start":261,"end":273,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":261,"end":272,"name":"uploadInput"},"value":null},{"type":"PropertyDefinition","start":278,"end":291,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":278,"end":290,"name":"uploadOutput"},"value":null},{"type":"PropertyDefinition","start":296,"end":303,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":296,"end":302,"name":"upload"},"value":null},{"type":"PropertyDefinition","start":308,"end":311,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":308,"end":310,"name":"el"},"value":null},{"type":"PropertyDefinition","start":316,"end":321,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":316,"end":320,"name":"_sub"},"value":null},{"type":"MethodDefinition","start":326,"end":443,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":326,"end":337,"name":"constructor"},"value":{"type":"FunctionExpression","start":337,"end":443,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":338,"end":348,"name":"elementRef"}],"body":{"type":"BlockStatement","start":350,"end":443,"body":[{"type":"ExpressionStatement","start":360,"end":389,"expression":{"type":"AssignmentExpression","start":360,"end":388,"operator":"=","left":{"type":"MemberExpression","start":360,"end":375,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":360,"end":364},"property":{"type":"Identifier","start":365,"end":375,"name":"elementRef"}},"right":{"type":"Identifier","start":378,"end":388,"name":"elementRef"}}},{"type":"ExpressionStatement","start":398,"end":437,"expression":{"type":"AssignmentExpression","start":398,"end":436,"operator":"=","left":{"type":"MemberExpression","start":398,"end":415,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":398,"end":402},"property":{"type":"Identifier","start":403,"end":415,"name":"uploadOutput"}},"right":{"type":"NewExpression","start":418,"end":436,"callee":{"type":"Identifier","start":422,"end":434,"name":"EventEmitter"},"arguments":[]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":448,"end":1503,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":448,"end":456,"name":"ngOnInit"},"value":{"type":"FunctionExpression","start":456,"end":1503,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":459,"end":1503,"body":[{"type":"ExpressionStatement","start":469,"end":484,"expression":{"type":"AssignmentExpression","start":469,"end":483,"operator":"=","left":{"type":"MemberExpression","start":469,"end":478,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":469,"end":473},"property":{"type":"Identifier","start":474,"end":478,"name":"_sub"}},"right":{"type":"ArrayExpression","start":481,"end":483,"elements":[]}}},{"type":"VariableDeclaration","start":493,"end":582,"kind":"const","declarations":[{"type":"VariableDeclarator","start":499,"end":581,"id":{"type":"Identifier","start":499,"end":510,"name":"concurrency"},"init":{"type":"LogicalExpression","start":513,"end":581,"operator":"||","left":{"type":"LogicalExpression","start":513,"end":553,"operator":"&&","left":{"type":"MemberExpression","start":513,"end":525,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":513,"end":517},"property":{"type":"Identifier","start":518,"end":525,"name":"options"}},"right":{"type":"MemberExpression","start":529,"end":553,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":529,"end":541,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":529,"end":533},"property":{"type":"Identifier","start":534,"end":541,"name":"options"}},"property":{"type":"Identifier","start":542,"end":553,"name":"concurrency"}}},"right":{"type":"MemberExpression","start":557,"end":581,"computed":false,"optional":false,"object":{"type":"Identifier","start":557,"end":563,"name":"Number"},"property":{"type":"Identifier","start":564,"end":581,"name":"POSITIVE_INFINITY"}}}}]},{"type":"VariableDeclaration","start":591,"end":677,"kind":"const","declarations":[{"type":"VariableDeclarator","start":597,"end":676,"id":{"type":"Identifier","start":597,"end":616,"name":"allowedContentTypes"},"init":{"type":"LogicalExpression","start":619,"end":676,"operator":"||","left":{"type":"LogicalExpression","start":619,"end":667,"operator":"&&","left":{"type":"MemberExpression","start":619,"end":631,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":619,"end":623},"property":{"type":"Identifier","start":624,"end":631,"name":"options"}},"right":{"type":"MemberExpression","start":635,"end":667,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":635,"end":647,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":635,"end":639},"property":{"type":"Identifier","start":640,"end":647,"name":"options"}},"property":{"type":"Identifier","start":648,"end":667,"name":"allowedContentTypes"}}},"right":{"type":"ArrayExpression","start":671,"end":676,"elements":[{"type":"Literal","start":672,"end":675,"value":"*","raw":"'*'"}]}}}]},{"type":"VariableDeclaration","start":686,"end":773,"kind":"const","declarations":[{"type":"VariableDeclarator","start":692,"end":772,"id":{"type":"Identifier","start":692,"end":702,"name":"maxUploads"},"init":{"type":"LogicalExpression","start":705,"end":772,"operator":"||","left":{"type":"LogicalExpression","start":705,"end":744,"operator":"&&","left":{"type":"MemberExpression","start":705,"end":717,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":705,"end":709},"property":{"type":"Identifier","start":710,"end":717,"name":"options"}},"right":{"type":"MemberExpression","start":721,"end":744,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":721,"end":733,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":721,"end":725},"property":{"type":"Identifier","start":726,"end":733,"name":"options"}},"property":{"type":"Identifier","start":734,"end":744,"name":"maxUploads"}}},"right":{"type":"MemberExpression","start":748,"end":772,"computed":false,"optional":false,"object":{"type":"Identifier","start":748,"end":754,"name":"Number"},"property":{"type":"Identifier","start":755,"end":772,"name":"POSITIVE_INFINITY"}}}}]},{"type":"VariableDeclaration","start":782,"end":871,"kind":"const","declarations":[{"type":"VariableDeclarator","start":788,"end":870,"id":{"type":"Identifier","start":788,"end":799,"name":"maxFileSize"},"init":{"type":"LogicalExpression","start":802,"end":870,"operator":"||","left":{"type":"LogicalExpression","start":802,"end":842,"operator":"&&","left":{"type":"MemberExpression","start":802,"end":814,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":802,"end":806},"property":{"type":"Identifier","start":807,"end":814,"name":"options"}},"right":{"type":"MemberExpression","start":818,"end":842,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":818,"end":830,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":818,"end":822},"property":{"type":"Identifier","start":823,"end":830,"name":"options"}},"property":{"type":"Identifier","start":831,"end":842,"name":"maxFileSize"}}},"right":{"type":"MemberExpression","start":846,"end":870,"computed":false,"optional":false,"object":{"type":"Identifier","start":846,"end":852,"name":"Number"},"property":{"type":"Identifier","start":853,"end":870,"name":"POSITIVE_INFINITY"}}}}]},{"type":"ExpressionStatement","start":880,"end":975,"expression":{"type":"AssignmentExpression","start":880,"end":974,"operator":"=","left":{"type":"MemberExpression","start":880,"end":891,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":880,"end":884},"property":{"type":"Identifier","start":885,"end":891,"name":"upload"}},"right":{"type":"NewExpression","start":894,"end":974,"callee":{"type":"Identifier","start":898,"end":915,"name":"NgUploaderService"},"arguments":[{"type":"Identifier","start":916,"end":927,"name":"concurrency"},{"type":"Identifier","start":929,"end":948,"name":"allowedContentTypes"},{"type":"Identifier","start":950,"end":960,"name":"maxUploads"},{"type":"Identifier","start":962,"end":973,"name":"maxFileSize"}]}}},{"type":"ExpressionStatement","start":984,"end":1024,"expression":{"type":"AssignmentExpression","start":984,"end":1023,"operator":"=","left":{"type":"MemberExpression","start":984,"end":991,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":984,"end":988},"property":{"type":"Identifier","start":989,"end":991,"name":"el"}},"right":{"type":"MemberExpression","start":994,"end":1023,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":994,"end":1009,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":994,"end":998},"property":{"type":"Identifier","start":999,"end":1009,"name":"elementRef"}},"property":{"type":"Identifier","start":1010,"end":1023,"name":"nativeElement"}}}},{"type":"ExpressionStatement","start":1033,"end":1152,"expression":{"type":"CallExpression","start":1033,"end":1151,"optional":false,"callee":{"type":"MemberExpression","start":1033,"end":1047,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1033,"end":1042,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1033,"end":1037},"property":{"type":"Identifier","start":1038,"end":1042,"name":"_sub"}},"property":{"type":"Identifier","start":1043,"end":1047,"name":"push"}},"arguments":[{"type":"CallExpression","start":1048,"end":1150,"optional":false,"callee":{"type":"MemberExpression","start":1048,"end":1083,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1048,"end":1073,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1048,"end":1059,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1048,"end":1052},"property":{"type":"Identifier","start":1053,"end":1059,"name":"upload"}},"property":{"type":"Identifier","start":1060,"end":1073,"name":"serviceEvents"}},"property":{"type":"Identifier","start":1074,"end":1083,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":1084,"end":1149,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1085,"end":1090,"name":"event"}],"body":{"type":"BlockStatement","start":1095,"end":1149,"body":[{"type":"ExpressionStatement","start":1109,"end":1139,"expression":{"type":"CallExpression","start":1109,"end":1138,"optional":false,"callee":{"type":"MemberExpression","start":1109,"end":1131,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1109,"end":1126,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1109,"end":1113},"property":{"type":"Identifier","start":1114,"end":1126,"name":"uploadOutput"}},"property":{"type":"Identifier","start":1127,"end":1131,"name":"emit"}},"arguments":[{"type":"Identifier","start":1132,"end":1137,"name":"event"}]}}]},"id":null}]}]}},{"type":"IfStatement","start":1161,"end":1293,"test":{"type":"BinaryExpression","start":1165,"end":1205,"operator":"instanceof","left":{"type":"MemberExpression","start":1165,"end":1181,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1165,"end":1169},"property":{"type":"Identifier","start":1170,"end":1181,"name":"uploadInput"}},"right":{"type":"Identifier","start":1193,"end":1205,"name":"EventEmitter"}},"consequent":{"type":"BlockStatement","start":1207,"end":1293,"body":[{"type":"ExpressionStatement","start":1221,"end":1283,"expression":{"type":"CallExpression","start":1221,"end":1282,"optional":false,"callee":{"type":"MemberExpression","start":1221,"end":1235,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1221,"end":1230,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1221,"end":1225},"property":{"type":"Identifier","start":1226,"end":1230,"name":"_sub"}},"property":{"type":"Identifier","start":1231,"end":1235,"name":"push"}},"arguments":[{"type":"CallExpression","start":1236,"end":1281,"optional":false,"callee":{"type":"MemberExpression","start":1236,"end":1263,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1236,"end":1247,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1236,"end":1240},"property":{"type":"Identifier","start":1241,"end":1247,"name":"upload"}},"property":{"type":"Identifier","start":1248,"end":1263,"name":"initInputEvents"}},"arguments":[{"type":"MemberExpression","start":1264,"end":1280,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1264,"end":1268},"property":{"type":"Identifier","start":1269,"end":1280,"name":"uploadInput"}}]}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1302,"end":1358,"expression":{"type":"CallExpression","start":1302,"end":1357,"optional":false,"callee":{"type":"MemberExpression","start":1302,"end":1326,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1302,"end":1309,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1302,"end":1306},"property":{"type":"Identifier","start":1307,"end":1309,"name":"el"}},"property":{"type":"Identifier","start":1310,"end":1326,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":1327,"end":1333,"value":"drop","raw":"'drop'"},{"type":"MemberExpression","start":1335,"end":1349,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1335,"end":1339},"property":{"type":"Identifier","start":1340,"end":1349,"name":"stopEvent"}},{"type":"Literal","start":1351,"end":1356,"value":false,"raw":"false"}]}},{"type":"ExpressionStatement","start":1367,"end":1428,"expression":{"type":"CallExpression","start":1367,"end":1427,"optional":false,"callee":{"type":"MemberExpression","start":1367,"end":1391,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1367,"end":1374,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1367,"end":1371},"property":{"type":"Identifier","start":1372,"end":1374,"name":"el"}},"property":{"type":"Identifier","start":1375,"end":1391,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":1392,"end":1403,"value":"dragenter","raw":"'dragenter'"},{"type":"MemberExpression","start":1405,"end":1419,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1405,"end":1409},"property":{"type":"Identifier","start":1410,"end":1419,"name":"stopEvent"}},{"type":"Literal","start":1421,"end":1426,"value":false,"raw":"false"}]}},{"type":"ExpressionStatement","start":1437,"end":1497,"expression":{"type":"CallExpression","start":1437,"end":1496,"optional":false,"callee":{"type":"MemberExpression","start":1437,"end":1461,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1437,"end":1444,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1437,"end":1441},"property":{"type":"Identifier","start":1442,"end":1444,"name":"el"}},"property":{"type":"Identifier","start":1445,"end":1461,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":1462,"end":1472,"value":"dragover","raw":"'dragover'"},{"type":"MemberExpression","start":1474,"end":1488,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1474,"end":1478},"property":{"type":"Identifier","start":1479,"end":1488,"name":"stopEvent"}},{"type":"Literal","start":1490,"end":1495,"value":false,"raw":"false"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1508,"end":1621,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1508,"end":1519,"name":"ngOnDestroy"},"value":{"type":"FunctionExpression","start":1519,"end":1621,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1522,"end":1621,"body":[{"type":"IfStatement","start":1532,"end":1615,"test":{"type":"MemberExpression","start":1536,"end":1545,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1536,"end":1540},"property":{"type":"Identifier","start":1541,"end":1545,"name":"_sub"}},"consequent":{"type":"BlockStatement","start":1547,"end":1615,"body":[{"type":"ExpressionStatement","start":1561,"end":1605,"expression":{"type":"CallExpression","start":1561,"end":1604,"optional":false,"callee":{"type":"MemberExpression","start":1561,"end":1578,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1561,"end":1570,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1561,"end":1565},"property":{"type":"Identifier","start":1566,"end":1570,"name":"_sub"}},"property":{"type":"Identifier","start":1571,"end":1578,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":1579,"end":1603,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1579,"end":1582,"name":"sub"}],"body":{"type":"CallExpression","start":1586,"end":1603,"optional":false,"callee":{"type":"MemberExpression","start":1586,"end":1601,"computed":false,"optional":false,"object":{"type":"Identifier","start":1586,"end":1589,"name":"sub"},"property":{"type":"Identifier","start":1590,"end":1601,"name":"unsubscribe"}},"arguments":[]},"id":null}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":1626,"end":1710,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1626,"end":1635,"name":"stopEvent"},"value":{"type":"ArrowFunctionExpression","start":1638,"end":1709,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1639,"end":1640,"name":"e"}],"body":{"type":"BlockStatement","start":1645,"end":1709,"body":[{"type":"ExpressionStatement","start":1655,"end":1675,"expression":{"type":"CallExpression","start":1655,"end":1674,"optional":false,"callee":{"type":"MemberExpression","start":1655,"end":1672,"computed":false,"optional":false,"object":{"type":"Identifier","start":1655,"end":1656,"name":"e"},"property":{"type":"Identifier","start":1657,"end":1672,"name":"stopPropagation"}},"arguments":[]}},{"type":"ExpressionStatement","start":1684,"end":1703,"expression":{"type":"CallExpression","start":1684,"end":1702,"optional":false,"callee":{"type":"MemberExpression","start":1684,"end":1700,"computed":false,"optional":false,"object":{"type":"Identifier","start":1684,"end":1685,"name":"e"},"property":{"type":"Identifier","start":1686,"end":1700,"name":"preventDefault"}},"arguments":[]}}]},"id":null}},{"type":"MethodDefinition","start":1715,"end":1923,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1715,"end":1721,"name":"onDrop"},"value":{"type":"FunctionExpression","start":1721,"end":1923,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1722,"end":1723,"name":"e"}],"body":{"type":"BlockStatement","start":1725,"end":1923,"body":[{"type":"ExpressionStatement","start":1735,"end":1755,"expression":{"type":"CallExpression","start":1735,"end":1754,"optional":false,"callee":{"type":"MemberExpression","start":1735,"end":1752,"computed":false,"optional":false,"object":{"type":"Identifier","start":1735,"end":1736,"name":"e"},"property":{"type":"Identifier","start":1737,"end":1752,"name":"stopPropagation"}},"arguments":[]}},{"type":"ExpressionStatement","start":1764,"end":1783,"expression":{"type":"CallExpression","start":1764,"end":1782,"optional":false,"callee":{"type":"MemberExpression","start":1764,"end":1780,"computed":false,"optional":false,"object":{"type":"Identifier","start":1764,"end":1765,"name":"e"},"property":{"type":"Identifier","start":1766,"end":1780,"name":"preventDefault"}},"arguments":[]}},{"type":"VariableDeclaration","start":1792,"end":1823,"kind":"const","declarations":[{"type":"VariableDeclarator","start":1798,"end":1822,"id":{"type":"Identifier","start":1798,"end":1803,"name":"event"},"init":{"type":"ObjectExpression","start":1806,"end":1822,"properties":[{"type":"Property","start":1808,"end":1820,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1808,"end":1812,"name":"type"},"value":{"type":"Literal","start":1814,"end":1820,"value":"drop","raw":"'drop'"},"kind":"init"}]}}]},{"type":"ExpressionStatement","start":1832,"end":1862,"expression":{"type":"CallExpression","start":1832,"end":1861,"optional":false,"callee":{"type":"MemberExpression","start":1832,"end":1854,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1832,"end":1849,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1832,"end":1836},"property":{"type":"Identifier","start":1837,"end":1849,"name":"uploadOutput"}},"property":{"type":"Identifier","start":1850,"end":1854,"name":"emit"}},"arguments":[{"type":"Identifier","start":1855,"end":1860,"name":"event"}]}},{"type":"ExpressionStatement","start":1871,"end":1917,"expression":{"type":"CallExpression","start":1871,"end":1916,"optional":false,"callee":{"type":"MemberExpression","start":1871,"end":1894,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1871,"end":1882,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1871,"end":1875},"property":{"type":"Identifier","start":1876,"end":1882,"name":"upload"}},"property":{"type":"Identifier","start":1883,"end":1894,"name":"handleFiles"}},"arguments":[{"type":"MemberExpression","start":1895,"end":1915,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1895,"end":1909,"computed":false,"optional":false,"object":{"type":"Identifier","start":1895,"end":1896,"name":"e"},"property":{"type":"Identifier","start":1897,"end":1909,"name":"dataTransfer"}},"property":{"type":"Identifier","start":1910,"end":1915,"name":"files"}}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1928,"end":2080,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1928,"end":1938,"name":"onDragOver"},"value":{"type":"FunctionExpression","start":1938,"end":2080,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":1939,"end":1940,"name":"e"}],"body":{"type":"BlockStatement","start":1942,"end":2080,"body":[{"type":"IfStatement","start":1952,"end":1991,"test":{"type":"UnaryExpression","start":1956,"end":1958,"operator":"!","argument":{"type":"Identifier","start":1957,"end":1958,"name":"e"},"prefix":true},"consequent":{"type":"BlockStatement","start":1960,"end":1991,"body":[{"type":"ReturnStatement","start":1974,"end":1981,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":2000,"end":2035,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2006,"end":2034,"id":{"type":"Identifier","start":2006,"end":2011,"name":"event"},"init":{"type":"ObjectExpression","start":2014,"end":2034,"properties":[{"type":"Property","start":2016,"end":2032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2016,"end":2020,"name":"type"},"value":{"type":"Literal","start":2022,"end":2032,"value":"dragOver","raw":"'dragOver'"},"kind":"init"}]}}]},{"type":"ExpressionStatement","start":2044,"end":2074,"expression":{"type":"CallExpression","start":2044,"end":2073,"optional":false,"callee":{"type":"MemberExpression","start":2044,"end":2066,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2044,"end":2061,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2044,"end":2048},"property":{"type":"Identifier","start":2049,"end":2061,"name":"uploadOutput"}},"property":{"type":"Identifier","start":2062,"end":2066,"name":"emit"}},"arguments":[{"type":"Identifier","start":2067,"end":2072,"name":"event"}]}}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":2085,"end":2237,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2085,"end":2096,"name":"onDragLeave"},"value":{"type":"FunctionExpression","start":2096,"end":2237,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":2097,"end":2098,"name":"e"}],"body":{"type":"BlockStatement","start":2100,"end":2237,"body":[{"type":"IfStatement","start":2110,"end":2149,"test":{"type":"UnaryExpression","start":2114,"end":2116,"operator":"!","argument":{"type":"Identifier","start":2115,"end":2116,"name":"e"},"prefix":true},"consequent":{"type":"BlockStatement","start":2118,"end":2149,"body":[{"type":"ReturnStatement","start":2132,"end":2139,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":2158,"end":2192,"kind":"const","declarations":[{"type":"VariableDeclarator","start":2164,"end":2191,"id":{"type":"Identifier","start":2164,"end":2169,"name":"event"},"init":{"type":"ObjectExpression","start":2172,"end":2191,"properties":[{"type":"Property","start":2174,"end":2189,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2174,"end":2178,"name":"type"},"value":{"type":"Literal","start":2180,"end":2189,"value":"dragOut","raw":"'dragOut'"},"kind":"init"}]}}]},{"type":"ExpressionStatement","start":2201,"end":2231,"expression":{"type":"CallExpression","start":2201,"end":2230,"optional":false,"callee":{"type":"MemberExpression","start":2201,"end":2223,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":2201,"end":2218,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":2201,"end":2205},"property":{"type":"Identifier","start":2206,"end":2218,"name":"uploadOutput"}},"property":{"type":"Identifier","start":2219,"end":2223,"name":"emit"}},"arguments":[{"type":"Identifier","start":2224,"end":2229,"name":"event"}]}}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":2242,"end":2408,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2249,"end":2253,"name":"ɵfac"},"value":{"type":"FunctionExpression","start":2256,"end":2407,"async":false,"generator":false,"id":{"type":"Identifier","start":2265,"end":2292,"name":"NgFileDropDirective_Factory"},"params":[{"type":"Identifier","start":2293,"end":2310,"name":"__ngFactoryType__"}],"body":{"type":"BlockStatement","start":2312,"end":2407,"body":[{"type":"ReturnStatement","start":2314,"end":2405,"argument":{"type":"NewExpression","start":2321,"end":2404,"callee":{"type":"LogicalExpression","start":2326,"end":2366,"operator":"||","left":{"type":"Identifier","start":2326,"end":2343,"name":"__ngFactoryType__"},"right":{"type":"Identifier","start":2347,"end":2366,"name":"NgFileDropDirective"}},"arguments":[{"type":"CallExpression","start":2368,"end":2403,"optional":false,"callee":{"type":"MemberExpression","start":2368,"end":2388,"computed":false,"optional":false,"object":{"type":"Identifier","start":2368,"end":2370,"name":"i0"},"property":{"type":"Identifier","start":2371,"end":2388,"name":"ɵɵdirectiveInject"}},"arguments":[{"type":"MemberExpression","start":2389,"end":2402,"computed":false,"optional":false,"object":{"type":"Identifier","start":2389,"end":2391,"name":"i0"},"property":{"type":"Identifier","start":2392,"end":2402,"name":"ElementRef"}}]}]}}]},"expression":false}},{"type":"PropertyDefinition","start":2413,"end":3103,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":2420,"end":2424,"name":"ɵdir"},"value":{"type":"CallExpression","start":2441,"end":3102,"optional":false,"_rollupAnnotations":[{"end":2440,"start":2427,"type":"pure"}],"callee":{"type":"MemberExpression","start":2441,"end":2461,"computed":false,"optional":false,"object":{"type":"Identifier","start":2441,"end":2443,"name":"i0"},"property":{"type":"Identifier","start":2444,"end":2461,"name":"ɵɵdefineDirective"}},"arguments":[{"type":"ObjectExpression","start":2462,"end":3101,"properties":[{"type":"Property","start":2464,"end":2489,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2464,"end":2468,"name":"type"},"value":{"type":"Identifier","start":2470,"end":2489,"name":"NgFileDropDirective"},"kind":"init"},{"type":"Property","start":2491,"end":2526,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2491,"end":2500,"name":"selectors"},"value":{"type":"ArrayExpression","start":2502,"end":2526,"elements":[{"type":"ArrayExpression","start":2503,"end":2525,"elements":[{"type":"Literal","start":2504,"end":2506,"value":"","raw":"\"\""},{"type":"Literal","start":2508,"end":2520,"value":"ngFileDrop","raw":"\"ngFileDrop\""},{"type":"Literal","start":2522,"end":2524,"value":"","raw":"\"\""}]}]},"kind":"init"},{"type":"Property","start":2528,"end":2977,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2528,"end":2540,"name":"hostBindings"},"value":{"type":"FunctionExpression","start":2542,"end":2977,"async":false,"generator":false,"id":{"type":"Identifier","start":2551,"end":2583,"name":"NgFileDropDirective_HostBindings"},"params":[{"type":"Identifier","start":2584,"end":2586,"name":"rf"},{"type":"Identifier","start":2588,"end":2591,"name":"ctx"}],"body":{"type":"BlockStatement","start":2593,"end":2977,"body":[{"type":"IfStatement","start":2595,"end":2975,"test":{"type":"BinaryExpression","start":2599,"end":2605,"operator":"&","left":{"type":"Identifier","start":2599,"end":2601,"name":"rf"},"right":{"type":"Literal","start":2604,"end":2605,"raw":"1","value":1}},"consequent":{"type":"BlockStatement","start":2607,"end":2975,"body":[{"type":"ExpressionStatement","start":2621,"end":2965,"expression":{"type":"CallExpression","start":2621,"end":2964,"optional":false,"callee":{"type":"CallExpression","start":2621,"end":2848,"optional":false,"callee":{"type":"CallExpression","start":2621,"end":2735,"optional":false,"callee":{"type":"MemberExpression","start":2621,"end":2634,"computed":false,"optional":false,"object":{"type":"Identifier","start":2621,"end":2623,"name":"i0"},"property":{"type":"Identifier","start":2624,"end":2634,"name":"ɵɵlistener"}},"arguments":[{"type":"Literal","start":2635,"end":2641,"value":"drop","raw":"\"drop\""},{"type":"FunctionExpression","start":2643,"end":2734,"async":false,"generator":false,"id":{"type":"Identifier","start":2652,"end":2695,"name":"NgFileDropDirective_drop_HostBindingHandler"},"params":[{"type":"Identifier","start":2696,"end":2702,"name":"$event"}],"body":{"type":"BlockStatement","start":2704,"end":2734,"body":[{"type":"ReturnStatement","start":2706,"end":2732,"argument":{"type":"CallExpression","start":2713,"end":2731,"optional":false,"callee":{"type":"MemberExpression","start":2713,"end":2723,"computed":false,"optional":false,"object":{"type":"Identifier","start":2713,"end":2716,"name":"ctx"},"property":{"type":"Identifier","start":2717,"end":2723,"name":"onDrop"}},"arguments":[{"type":"Identifier","start":2724,"end":2730,"name":"$event"}]}}]},"expression":false}]},"arguments":[{"type":"Literal","start":2736,"end":2746,"value":"dragover","raw":"\"dragover\""},{"type":"FunctionExpression","start":2748,"end":2847,"async":false,"generator":false,"id":{"type":"Identifier","start":2757,"end":2804,"name":"NgFileDropDirective_dragover_HostBindingHandler"},"params":[{"type":"Identifier","start":2805,"end":2811,"name":"$event"}],"body":{"type":"BlockStatement","start":2813,"end":2847,"body":[{"type":"ReturnStatement","start":2815,"end":2845,"argument":{"type":"CallExpression","start":2822,"end":2844,"optional":false,"callee":{"type":"MemberExpression","start":2822,"end":2836,"computed":false,"optional":false,"object":{"type":"Identifier","start":2822,"end":2825,"name":"ctx"},"property":{"type":"Identifier","start":2826,"end":2836,"name":"onDragOver"}},"arguments":[{"type":"Identifier","start":2837,"end":2843,"name":"$event"}]}}]},"expression":false}]},"arguments":[{"type":"Literal","start":2849,"end":2860,"value":"dragleave","raw":"\"dragleave\""},{"type":"FunctionExpression","start":2862,"end":2963,"async":false,"generator":false,"id":{"type":"Identifier","start":2871,"end":2919,"name":"NgFileDropDirective_dragleave_HostBindingHandler"},"params":[{"type":"Identifier","start":2920,"end":2926,"name":"$event"}],"body":{"type":"BlockStatement","start":2928,"end":2963,"body":[{"type":"ReturnStatement","start":2930,"end":2961,"argument":{"type":"CallExpression","start":2937,"end":2960,"optional":false,"callee":{"type":"MemberExpression","start":2937,"end":2952,"computed":false,"optional":false,"object":{"type":"Identifier","start":2937,"end":2940,"name":"ctx"},"property":{"type":"Identifier","start":2941,"end":2952,"name":"onDragLeave"}},"arguments":[{"type":"Identifier","start":2953,"end":2959,"name":"$event"}]}}]},"expression":false}]}}]},"alternate":null}]},"expression":false},"kind":"init"},{"type":"Property","start":2979,"end":3037,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2979,"end":2985,"name":"inputs"},"value":{"type":"ObjectExpression","start":2987,"end":3037,"properties":[{"type":"Property","start":2989,"end":3007,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2989,"end":2996,"name":"options"},"value":{"type":"Literal","start":2998,"end":3007,"value":"options","raw":"\"options\""},"kind":"init"},{"type":"Property","start":3009,"end":3035,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3009,"end":3020,"name":"uploadInput"},"value":{"type":"Literal","start":3022,"end":3035,"value":"uploadInput","raw":"\"uploadInput\""},"kind":"init"}]},"kind":"init"},{"type":"Property","start":3039,"end":3080,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3039,"end":3046,"name":"outputs"},"value":{"type":"ObjectExpression","start":3048,"end":3080,"properties":[{"type":"Property","start":3050,"end":3078,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3050,"end":3062,"name":"uploadOutput"},"value":{"type":"Literal","start":3064,"end":3078,"value":"uploadOutput","raw":"\"uploadOutput\""},"kind":"init"}]},"kind":"init"},{"type":"Property","start":3082,"end":3099,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3082,"end":3092,"name":"standalone"},"value":{"type":"Literal","start":3094,"end":3099,"value":false,"raw":"false"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":3106,"end":3849,"expression":{"type":"CallExpression","start":3106,"end":3848,"optional":false,"callee":{"type":"ArrowFunctionExpression","start":3107,"end":3845,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":3113,"end":3845,"body":[{"type":"ExpressionStatement","start":3115,"end":3843,"expression":{"type":"LogicalExpression","start":3115,"end":3842,"operator":"&&","left":{"type":"LogicalExpression","start":3116,"end":3161,"operator":"||","left":{"type":"BinaryExpression","start":3116,"end":3148,"operator":"===","left":{"type":"UnaryExpression","start":3116,"end":3132,"operator":"typeof","argument":{"type":"Identifier","start":3123,"end":3132,"name":"ngDevMode"},"prefix":true},"right":{"type":"Literal","start":3137,"end":3148,"value":"undefined","raw":"\"undefined\""}},"right":{"type":"Identifier","start":3152,"end":3161,"name":"ngDevMode"}},"right":{"type":"CallExpression","start":3166,"end":3842,"optional":false,"callee":{"type":"MemberExpression","start":3166,"end":3186,"computed":false,"optional":false,"object":{"type":"Identifier","start":3166,"end":3168,"name":"i0"},"property":{"type":"Identifier","start":3169,"end":3186,"name":"ɵsetClassMetadata"}},"arguments":[{"type":"Identifier","start":3187,"end":3206,"name":"NgFileDropDirective"},{"type":"ArrayExpression","start":3208,"end":3350,"elements":[{"type":"ObjectExpression","start":3209,"end":3349,"properties":[{"type":"Property","start":3219,"end":3234,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3219,"end":3223,"name":"type"},"value":{"type":"Identifier","start":3225,"end":3234,"name":"Directive"},"kind":"init"},{"type":"Property","start":3244,"end":3343,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3244,"end":3248,"name":"args"},"value":{"type":"ArrayExpression","start":3250,"end":3343,"elements":[{"type":"ObjectExpression","start":3251,"end":3342,"properties":[{"type":"Property","start":3269,"end":3293,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3269,"end":3277,"name":"selector"},"value":{"type":"Literal","start":3279,"end":3293,"value":"[ngFileDrop]","raw":"'[ngFileDrop]'"},"kind":"init"},{"type":"Property","start":3311,"end":3328,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3311,"end":3321,"name":"standalone"},"value":{"type":"Literal","start":3323,"end":3328,"value":false,"raw":"false"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"ArrowFunctionExpression","start":3352,"end":3383,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":3358,"end":3383,"elements":[{"type":"ObjectExpression","start":3359,"end":3382,"properties":[{"type":"Property","start":3361,"end":3380,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3361,"end":3365,"name":"type"},"value":{"type":"MemberExpression","start":3367,"end":3380,"computed":false,"optional":false,"object":{"type":"Identifier","start":3367,"end":3369,"name":"i0"},"property":{"type":"Identifier","start":3370,"end":3380,"name":"ElementRef"}},"kind":"init"}]}]},"id":null},{"type":"ObjectExpression","start":3385,"end":3841,"properties":[{"type":"Property","start":3387,"end":3433,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3387,"end":3394,"name":"options"},"value":{"type":"ArrayExpression","start":3396,"end":3433,"elements":[{"type":"ObjectExpression","start":3397,"end":3432,"properties":[{"type":"Property","start":3411,"end":3422,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3411,"end":3415,"name":"type"},"value":{"type":"Identifier","start":3417,"end":3422,"name":"Input"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3435,"end":3485,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3435,"end":3446,"name":"uploadInput"},"value":{"type":"ArrayExpression","start":3448,"end":3485,"elements":[{"type":"ObjectExpression","start":3449,"end":3484,"properties":[{"type":"Property","start":3463,"end":3474,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3463,"end":3467,"name":"type"},"value":{"type":"Identifier","start":3469,"end":3474,"name":"Input"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3487,"end":3539,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3487,"end":3499,"name":"uploadOutput"},"value":{"type":"ArrayExpression","start":3501,"end":3539,"elements":[{"type":"ObjectExpression","start":3502,"end":3538,"properties":[{"type":"Property","start":3516,"end":3528,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3516,"end":3520,"name":"type"},"value":{"type":"Identifier","start":3522,"end":3528,"name":"Output"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3541,"end":3633,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3541,"end":3547,"name":"onDrop"},"value":{"type":"ArrayExpression","start":3549,"end":3633,"elements":[{"type":"ObjectExpression","start":3550,"end":3632,"properties":[{"type":"Property","start":3564,"end":3582,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3564,"end":3568,"name":"type"},"value":{"type":"Identifier","start":3570,"end":3582,"name":"HostListener"},"kind":"init"},{"type":"Property","start":3596,"end":3622,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3596,"end":3600,"name":"args"},"value":{"type":"ArrayExpression","start":3602,"end":3622,"elements":[{"type":"Literal","start":3603,"end":3609,"value":"drop","raw":"'drop'"},{"type":"ArrayExpression","start":3611,"end":3621,"elements":[{"type":"Literal","start":3612,"end":3620,"value":"$event","raw":"'$event'"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3635,"end":3735,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3635,"end":3645,"name":"onDragOver"},"value":{"type":"ArrayExpression","start":3647,"end":3735,"elements":[{"type":"ObjectExpression","start":3648,"end":3734,"properties":[{"type":"Property","start":3662,"end":3680,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3662,"end":3666,"name":"type"},"value":{"type":"Identifier","start":3668,"end":3680,"name":"HostListener"},"kind":"init"},{"type":"Property","start":3694,"end":3724,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3694,"end":3698,"name":"args"},"value":{"type":"ArrayExpression","start":3700,"end":3724,"elements":[{"type":"Literal","start":3701,"end":3711,"value":"dragover","raw":"'dragover'"},{"type":"ArrayExpression","start":3713,"end":3723,"elements":[{"type":"Literal","start":3714,"end":3722,"value":"$event","raw":"'$event'"}]}]},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":3737,"end":3839,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3737,"end":3748,"name":"onDragLeave"},"value":{"type":"ArrayExpression","start":3750,"end":3839,"elements":[{"type":"ObjectExpression","start":3751,"end":3838,"properties":[{"type":"Property","start":3765,"end":3783,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3765,"end":3769,"name":"type"},"value":{"type":"Identifier","start":3771,"end":3783,"name":"HostListener"},"kind":"init"},{"type":"Property","start":3797,"end":3828,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":3797,"end":3801,"name":"args"},"value":{"type":"ArrayExpression","start":3803,"end":3828,"elements":[{"type":"Literal","start":3804,"end":3815,"value":"dragleave","raw":"'dragleave'"},{"type":"ArrayExpression","start":3817,"end":3827,"elements":[{"type":"Literal","start":3818,"end":3826,"value":"$event","raw":"'$event'"}]}]},"kind":"init"}]}]},"kind":"init"}]}]}}}]},"id":null},"arguments":[]}}],"_rollupRemoved":[{"end":11520,"start":3850,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Directive, ElementRef, EventEmitter, Input, Output, HostListener } from '@angular/core';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport * as i0 from \"@angular/core\";\nexport class NgFileDropDirective {\n    elementRef;\n    options;\n    uploadInput;\n    uploadOutput;\n    upload;\n    el;\n    _sub;\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.uploadOutput = new EventEmitter();\n    }\n    ngOnInit() {\n        this._sub = [];\n        const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n        const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n        const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n        const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n        this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n        this.el = this.elementRef.nativeElement;\n        this._sub.push(this.upload.serviceEvents.subscribe((event) => {\n            this.uploadOutput.emit(event);\n        }));\n        if (this.uploadInput instanceof EventEmitter) {\n            this._sub.push(this.upload.initInputEvents(this.uploadInput));\n        }\n        this.el.addEventListener('drop', this.stopEvent, false);\n        this.el.addEventListener('dragenter', this.stopEvent, false);\n        this.el.addEventListener('dragover', this.stopEvent, false);\n    }\n    ngOnDestroy() {\n        if (this._sub) {\n            this._sub.forEach(sub => sub.unsubscribe());\n        }\n    }\n    stopEvent = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    onDrop(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const event = { type: 'drop' };\n        this.uploadOutput.emit(event);\n        this.upload.handleFiles(e.dataTransfer.files);\n    }\n    onDragOver(e) {\n        if (!e) {\n            return;\n        }\n        const event = { type: 'dragOver' };\n        this.uploadOutput.emit(event);\n    }\n    onDragLeave(e) {\n        if (!e) {\n            return;\n        }\n        const event = { type: 'dragOut' };\n        this.uploadOutput.emit(event);\n    }\n    static ɵfac = function NgFileDropDirective_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgFileDropDirective)(i0.ɵɵdirectiveInject(i0.ElementRef)); };\n    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: NgFileDropDirective, selectors: [[\"\", \"ngFileDrop\", \"\"]], hostBindings: function NgFileDropDirective_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"drop\", function NgFileDropDirective_drop_HostBindingHandler($event) { return ctx.onDrop($event); })(\"dragover\", function NgFileDropDirective_dragover_HostBindingHandler($event) { return ctx.onDragOver($event); })(\"dragleave\", function NgFileDropDirective_dragleave_HostBindingHandler($event) { return ctx.onDragLeave($event); });\n        } }, inputs: { options: \"options\", uploadInput: \"uploadInput\" }, outputs: { uploadOutput: \"uploadOutput\" }, standalone: false });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgFileDropDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ngFileDrop]',\n                standalone: false\n            }]\n    }], () => [{ type: i0.ElementRef }], { options: [{\n            type: Input\n        }], uploadInput: [{\n            type: Input\n        }], uploadOutput: [{\n            type: Output\n        }], onDrop: [{\n            type: HostListener,\n            args: ['drop', ['$event']]\n        }], onDragOver: [{\n            type: HostListener,\n            args: ['dragover', ['$event']]\n        }], onDragLeave: [{\n            type: HostListener,\n            args: ['dragleave', ['$event']]\n        }] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZmlsZS1kcm9wLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL25nLWZpbGUtZHJvcC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQXFCLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFPekQsTUFBTSxPQUFPLG1CQUFtQjtJQVVYO0lBVFYsT0FBTyxDQUFrQjtJQUN6QixXQUFXLENBQTRCO0lBQ3RDLFlBQVksQ0FBNkI7SUFFbkQsTUFBTSxDQUFvQjtJQUMxQixFQUFFLENBQW1CO0lBRXJCLElBQUksQ0FBaUI7SUFFckIsWUFBbUIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN2QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO0lBQ3ZELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUN6RixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3ZGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLElB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O2VBQUM7Z0JBQ1QsUUFBUSxFQUFFLGNBQWM7Z0JBQ3hCLFVBQVUsRUFBRSxLQUFLO2FBQ2xCOzJDQUVVLE9BQU87a0JBQWYsS0FBSztZQUNHLFdBQVc7a0JBQW5CLEtBQUs7WUFDSSxZQUFZO2tCQUFyQixNQUFNO1lBZ0RBLE1BQU07a0JBRFosWUFBWTttQkFBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFXekIsVUFBVTtrQkFEaEIsWUFBWTttQkFBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFXN0IsV0FBVztrQkFEakIsWUFBWTttQkFBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgT25Jbml0LCBPbkRlc3Ryb3ksIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVXBsb2FkT3V0cHV0LCBVcGxvYWRJbnB1dCwgVXBsb2FkZXJPcHRpb25zIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IE5nVXBsb2FkZXJTZXJ2aWNlIH0gZnJvbSAnLi9uZ3gtdXBsb2FkZXIuY2xhc3MnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZ0ZpbGVEcm9wXScsXG4gIHN0YW5kYWxvbmU6IGZhbHNlXG59KVxuZXhwb3J0IGNsYXNzIE5nRmlsZURyb3BEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIG9wdGlvbnM6IFVwbG9hZGVyT3B0aW9ucztcbiAgQElucHV0KCkgdXBsb2FkSW5wdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRJbnB1dD47XG4gIEBPdXRwdXQoKSB1cGxvYWRPdXRwdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuXG4gIHVwbG9hZDogTmdVcGxvYWRlclNlcnZpY2U7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIF9zdWI6IFN1YnNjcmlwdGlvbltdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG4gICAgdGhpcy51cGxvYWRPdXRwdXQgPSBuZXcgRXZlbnRFbWl0dGVyPFVwbG9hZE91dHB1dD4oKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuX3N1YiA9IFtdO1xuICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgY29uc3QgYWxsb3dlZENvbnRlbnRUeXBlcyA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWxsb3dlZENvbnRlbnRUeXBlcyB8fCBbJyonXTtcbiAgICBjb25zdCBtYXhVcGxvYWRzID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tYXhVcGxvYWRzIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBtYXhGaWxlU2l6ZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubWF4RmlsZVNpemUgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHRoaXMudXBsb2FkID0gbmV3IE5nVXBsb2FkZXJTZXJ2aWNlKGNvbmN1cnJlbmN5LCBhbGxvd2VkQ29udGVudFR5cGVzLCBtYXhVcGxvYWRzLCBtYXhGaWxlU2l6ZSk7XG5cbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG5cbiAgICB0aGlzLl9zdWIucHVzaChcbiAgICAgIHRoaXMudXBsb2FkLnNlcnZpY2VFdmVudHMuc3Vic2NyaWJlKChldmVudDogVXBsb2FkT3V0cHV0KSA9PiB7XG4gICAgICAgIHRoaXMudXBsb2FkT3V0cHV0LmVtaXQoZXZlbnQpO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgaWYgKHRoaXMudXBsb2FkSW5wdXQgaW5zdGFuY2VvZiBFdmVudEVtaXR0ZXIpIHtcbiAgICAgIHRoaXMuX3N1Yi5wdXNoKHRoaXMudXBsb2FkLmluaXRJbnB1dEV2ZW50cyh0aGlzLnVwbG9hZElucHV0KSk7XG4gICAgfVxuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5zdG9wRXZlbnQsIGZhbHNlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHRoaXMuc3RvcEV2ZW50LCBmYWxzZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuc3RvcEV2ZW50LCBmYWxzZSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICAgIGlmICh0aGlzLl9zdWIpIHtcbiAgICAgICAgdGhpcy5fc3ViLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICAgIH1cbiAgfVxuXG4gIHN0b3BFdmVudCA9IChlOiBFdmVudCkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJvcCcsIFsnJGV2ZW50J10pXG4gIHB1YmxpYyBvbkRyb3AoZTogYW55KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBldmVudDogVXBsb2FkT3V0cHV0ID0geyB0eXBlOiAnZHJvcCcgfTtcbiAgICB0aGlzLnVwbG9hZE91dHB1dC5lbWl0KGV2ZW50KTtcbiAgICB0aGlzLnVwbG9hZC5oYW5kbGVGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdkcmFnb3ZlcicsIFsnJGV2ZW50J10pXG4gIHB1YmxpYyBvbkRyYWdPdmVyKGU6IEV2ZW50KSB7XG4gICAgaWYgKCFlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQ6IFVwbG9hZE91dHB1dCA9IHsgdHlwZTogJ2RyYWdPdmVyJyB9O1xuICAgIHRoaXMudXBsb2FkT3V0cHV0LmVtaXQoZXZlbnQpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJhZ2xlYXZlJywgWyckZXZlbnQnXSlcbiAgcHVibGljIG9uRHJhZ0xlYXZlKGU6IEV2ZW50KSB7XG4gICAgaWYgKCFlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQ6IFVwbG9hZE91dHB1dCA9IHsgdHlwZTogJ2RyYWdPdXQnIH07XG4gICAgdGhpcy51cGxvYWRPdXRwdXQuZW1pdChldmVudCk7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-drop.directive.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Directive, ElementRef, EventEmitter, Input, Output, HostListener } from '@angular/core';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport * as i0 from \"@angular/core\";\nexport class NgFileDropDirective {\n    elementRef;\n    options;\n    uploadInput;\n    uploadOutput;\n    upload;\n    el;\n    _sub;\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.uploadOutput = new EventEmitter();\n    }\n    ngOnInit() {\n        this._sub = [];\n        const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n        const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n        const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n        const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n        this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n        this.el = this.elementRef.nativeElement;\n        this._sub.push(this.upload.serviceEvents.subscribe((event) => {\n            this.uploadOutput.emit(event);\n        }));\n        if (this.uploadInput instanceof EventEmitter) {\n            this._sub.push(this.upload.initInputEvents(this.uploadInput));\n        }\n        this.el.addEventListener('drop', this.stopEvent, false);\n        this.el.addEventListener('dragenter', this.stopEvent, false);\n        this.el.addEventListener('dragover', this.stopEvent, false);\n    }\n    ngOnDestroy() {\n        if (this._sub) {\n            this._sub.forEach(sub => sub.unsubscribe());\n        }\n    }\n    stopEvent = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n    };\n    onDrop(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const event = { type: 'drop' };\n        this.uploadOutput.emit(event);\n        this.upload.handleFiles(e.dataTransfer.files);\n    }\n    onDragOver(e) {\n        if (!e) {\n            return;\n        }\n        const event = { type: 'dragOver' };\n        this.uploadOutput.emit(event);\n    }\n    onDragLeave(e) {\n        if (!e) {\n            return;\n        }\n        const event = { type: 'dragOut' };\n        this.uploadOutput.emit(event);\n    }\n    static ɵfac = function NgFileDropDirective_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgFileDropDirective)(i0.ɵɵdirectiveInject(i0.ElementRef)); };\n    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: NgFileDropDirective, selectors: [[\"\", \"ngFileDrop\", \"\"]], hostBindings: function NgFileDropDirective_HostBindings(rf, ctx) { if (rf & 1) {\n            i0.ɵɵlistener(\"drop\", function NgFileDropDirective_drop_HostBindingHandler($event) { return ctx.onDrop($event); })(\"dragover\", function NgFileDropDirective_dragover_HostBindingHandler($event) { return ctx.onDragOver($event); })(\"dragleave\", function NgFileDropDirective_dragleave_HostBindingHandler($event) { return ctx.onDragLeave($event); });\n        } }, inputs: { options: \"options\", uploadInput: \"uploadInput\" }, outputs: { uploadOutput: \"uploadOutput\" }, standalone: false });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgFileDropDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ngFileDrop]',\n                standalone: false\n            }]\n    }], () => [{ type: i0.ElementRef }], { options: [{\n            type: Input\n        }], uploadInput: [{\n            type: Input\n        }], uploadOutput: [{\n            type: Output\n        }], onDrop: [{\n            type: HostListener,\n            args: ['drop', ['$event']]\n        }], onDragOver: [{\n            type: HostListener,\n            args: ['dragover', ['$event']]\n        }], onDragLeave: [{\n            type: HostListener,\n            args: ['dragleave', ['$event']]\n        }] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZmlsZS1kcm9wLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL25nLWZpbGUtZHJvcC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQXFCLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVwSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFPekQsTUFBTSxPQUFPLG1CQUFtQjtJQVVYO0lBVFYsT0FBTyxDQUFrQjtJQUN6QixXQUFXLENBQTRCO0lBQ3RDLFlBQVksQ0FBNkI7SUFFbkQsTUFBTSxDQUFvQjtJQUMxQixFQUFFLENBQW1CO0lBRXJCLElBQUksQ0FBaUI7SUFFckIsWUFBbUIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN2QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO0lBQ3ZELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUN6RixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3ZGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLElB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O2VBQUM7Z0JBQ1QsUUFBUSxFQUFFLGNBQWM7Z0JBQ3hCLFVBQVUsRUFBRSxLQUFLO2FBQ2xCOzJDQUVVLE9BQU87a0JBQWYsS0FBSztZQUNHLFdBQVc7a0JBQW5CLEtBQUs7WUFDSSxZQUFZO2tCQUFyQixNQUFNO1lBZ0RBLE1BQU07a0JBRFosWUFBWTttQkFBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFXekIsVUFBVTtrQkFEaEIsWUFBWTttQkFBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFXN0IsV0FBVztrQkFEakIsWUFBWTttQkFBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgT25Jbml0LCBPbkRlc3Ryb3ksIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVXBsb2FkT3V0cHV0LCBVcGxvYWRJbnB1dCwgVXBsb2FkZXJPcHRpb25zIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IE5nVXBsb2FkZXJTZXJ2aWNlIH0gZnJvbSAnLi9uZ3gtdXBsb2FkZXIuY2xhc3MnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1tuZ0ZpbGVEcm9wXScsXG4gIHN0YW5kYWxvbmU6IGZhbHNlXG59KVxuZXhwb3J0IGNsYXNzIE5nRmlsZURyb3BEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIG9wdGlvbnM6IFVwbG9hZGVyT3B0aW9ucztcbiAgQElucHV0KCkgdXBsb2FkSW5wdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRJbnB1dD47XG4gIEBPdXRwdXQoKSB1cGxvYWRPdXRwdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuXG4gIHVwbG9hZDogTmdVcGxvYWRlclNlcnZpY2U7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIF9zdWI6IFN1YnNjcmlwdGlvbltdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG4gICAgdGhpcy51cGxvYWRPdXRwdXQgPSBuZXcgRXZlbnRFbWl0dGVyPFVwbG9hZE91dHB1dD4oKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuX3N1YiA9IFtdO1xuICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgY29uc3QgYWxsb3dlZENvbnRlbnRUeXBlcyA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWxsb3dlZENvbnRlbnRUeXBlcyB8fCBbJyonXTtcbiAgICBjb25zdCBtYXhVcGxvYWRzID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tYXhVcGxvYWRzIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBtYXhGaWxlU2l6ZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubWF4RmlsZVNpemUgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHRoaXMudXBsb2FkID0gbmV3IE5nVXBsb2FkZXJTZXJ2aWNlKGNvbmN1cnJlbmN5LCBhbGxvd2VkQ29udGVudFR5cGVzLCBtYXhVcGxvYWRzLCBtYXhGaWxlU2l6ZSk7XG5cbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG5cbiAgICB0aGlzLl9zdWIucHVzaChcbiAgICAgIHRoaXMudXBsb2FkLnNlcnZpY2VFdmVudHMuc3Vic2NyaWJlKChldmVudDogVXBsb2FkT3V0cHV0KSA9PiB7XG4gICAgICAgIHRoaXMudXBsb2FkT3V0cHV0LmVtaXQoZXZlbnQpO1xuICAgICAgfSlcbiAgICApO1xuXG4gICAgaWYgKHRoaXMudXBsb2FkSW5wdXQgaW5zdGFuY2VvZiBFdmVudEVtaXR0ZXIpIHtcbiAgICAgIHRoaXMuX3N1Yi5wdXNoKHRoaXMudXBsb2FkLmluaXRJbnB1dEV2ZW50cyh0aGlzLnVwbG9hZElucHV0KSk7XG4gICAgfVxuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5zdG9wRXZlbnQsIGZhbHNlKTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHRoaXMuc3RvcEV2ZW50LCBmYWxzZSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuc3RvcEV2ZW50LCBmYWxzZSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICAgIGlmICh0aGlzLl9zdWIpIHtcbiAgICAgICAgdGhpcy5fc3ViLmZvckVhY2goc3ViID0+IHN1Yi51bnN1YnNjcmliZSgpKTtcbiAgICAgIH1cbiAgfVxuXG4gIHN0b3BFdmVudCA9IChlOiBFdmVudCkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJvcCcsIFsnJGV2ZW50J10pXG4gIHB1YmxpYyBvbkRyb3AoZTogYW55KSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBldmVudDogVXBsb2FkT3V0cHV0ID0geyB0eXBlOiAnZHJvcCcgfTtcbiAgICB0aGlzLnVwbG9hZE91dHB1dC5lbWl0KGV2ZW50KTtcbiAgICB0aGlzLnVwbG9hZC5oYW5kbGVGaWxlcyhlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdkcmFnb3ZlcicsIFsnJGV2ZW50J10pXG4gIHB1YmxpYyBvbkRyYWdPdmVyKGU6IEV2ZW50KSB7XG4gICAgaWYgKCFlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQ6IFVwbG9hZE91dHB1dCA9IHsgdHlwZTogJ2RyYWdPdmVyJyB9O1xuICAgIHRoaXMudXBsb2FkT3V0cHV0LmVtaXQoZXZlbnQpO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZHJhZ2xlYXZlJywgWyckZXZlbnQnXSlcbiAgcHVibGljIG9uRHJhZ0xlYXZlKGU6IEV2ZW50KSB7XG4gICAgaWYgKCFlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnQ6IFVwbG9hZE91dHB1dCA9IHsgdHlwZTogJ2RyYWdPdXQnIH07XG4gICAgdGhpcy51cGxvYWRPdXRwdXQuZW1pdChldmVudCk7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"ng-file-drop.directive.js","sourceRoot":"","sources":["../../../../projects/ngx-uploader/src/lib/ng-file-drop.directive.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,20],[30,0,0,30],[32,0,0,32],[44,0,0,44],[46,0,0,46],[51,0,0,51],[53,0,0,53],[59,0,0,59],[61,0,0,80],[73,0,0,92],[75,0,0,94],[81,0,0,100],[96,0,0,115],[97,0,0,116]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[34,0,2,34],[56,0,2,56],[57,0,2,57]],[],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[32,0,9,32]],[[4,0,19,21]],[[4,0,10,11],[11,0,10,18],[12,0,10,36]],[[4,0,11,11],[15,0,11,22],[16,0,11,50]],[[4,0,12,12],[16,0,12,24],[17,0,12,53]],[[4,0,14,2],[10,0,14,8],[11,0,14,28]],[[4,0,15,2],[6,0,15,4],[7,0,15,23]],[[4,0,17,2],[8,0,17,6],[9,0,17,23]],[[4,0,19,2],[16,0,19,21],[26,0,19,43]],[[8,0,19,21],[23,0,19,31],[26,0,19,21],[36,0,19,31],[37,0,19,43]],[[8,0,20,4],[12,0,20,8],[13,0,20,9],[25,0,20,21],[28,0,20,24],[32,0,20,28],[44,0,20,40],[46,0,20,56],[47,0,20,57]],[[4,0,21,2],[5,0,21,3]],[[4,0,23,2],[12,0,23,10]],[[8,0,24,4],[12,0,24,8],[13,0,24,9],[17,0,24,13],[20,0,24,16],[22,0,24,18],[23,0,24,19]],[[8,0,25,4],[14,0,25,10],[25,0,25,21],[28,0,25,24],[32,0,25,28],[33,0,25,29],[40,0,25,36],[44,0,25,40],[48,0,25,44],[49,0,25,45],[56,0,25,52],[57,0,25,53],[68,0,25,64],[72,0,25,68],[78,0,25,74],[79,0,25,75],[96,0,25,92],[97,0,25,93]],[[8,0,26,4],[14,0,26,10],[33,0,26,29],[36,0,26,32],[40,0,26,36],[41,0,26,37],[48,0,26,44],[52,0,26,48],[56,0,26,52],[57,0,26,53],[64,0,26,60],[65,0,26,61],[84,0,26,80],[88,0,26,84],[89,0,26,85],[92,0,26,88],[93,0,26,89],[94,0,26,90]],[[8,0,27,4],[14,0,27,10],[24,0,27,20],[27,0,27,23],[31,0,27,27],[32,0,27,28],[39,0,27,35],[43,0,27,39],[47,0,27,43],[48,0,27,44],[55,0,27,51],[56,0,27,52],[66,0,27,62],[70,0,27,66],[76,0,27,72],[77,0,27,73],[94,0,27,90],[95,0,27,91]],[[8,0,28,4],[14,0,28,10],[25,0,28,21],[28,0,28,24],[32,0,28,28],[33,0,28,29],[40,0,28,36],[44,0,28,40],[48,0,28,44],[49,0,28,45],[56,0,28,52],[57,0,28,53],[68,0,28,64],[72,0,28,68],[78,0,28,74],[79,0,28,75],[96,0,28,92],[97,0,28,93]],[[8,0,29,4],[12,0,29,8],[13,0,29,9],[19,0,29,15],[22,0,29,18],[26,0,29,22],[43,0,29,39],[44,0,29,40],[55,0,29,51],[57,0,29,53],[76,0,29,72],[78,0,29,74],[88,0,29,84],[90,0,29,86],[101,0,29,97],[102,0,29,98],[103,0,29,99]],[[8,0,31,4],[12,0,31,8],[13,0,31,9],[15,0,31,11],[18,0,31,14],[22,0,31,18],[23,0,31,19],[33,0,31,29],[34,0,31,30],[47,0,31,43],[48,0,31,44]],[[8,0,33,4],[12,0,33,8],[13,0,33,9],[17,0,33,13],[18,0,33,14],[22,0,33,18],[23,0,34,6],[27,0,34,10],[28,0,34,11],[34,0,34,17],[35,0,34,18],[48,0,34,31],[49,0,34,32],[58,0,34,41],[59,0,34,42],[60,0,34,43],[65,0,34,62],[67,0,34,64],[69,0,34,66]],[[12,0,35,8],[16,0,35,12],[17,0,35,13],[29,0,35,25],[30,0,35,26],[34,0,35,30],[35,0,35,31],[40,0,35,36],[41,0,35,37],[42,0,35,38]],[[8,0,36,6],[9,0,36,7],[10,0,36,8],[11,0,37,5],[12,0,37,6]],[[8,0,39,4],[12,0,39,8],[16,0,39,12],[17,0,39,13],[28,0,39,24],[40,0,39,36],[52,0,39,48],[54,0,39,50],[55,0,39,51]],[[12,0,40,6],[16,0,40,10],[17,0,40,11],[21,0,40,15],[22,0,40,16],[26,0,40,20],[27,0,40,21],[31,0,40,25],[32,0,40,26],[38,0,40,32],[39,0,40,33],[54,0,40,48],[55,0,40,49],[59,0,40,53],[60,0,40,54],[71,0,40,65],[72,0,40,66],[73,0,40,67],[74,0,40,68]],[[8,0,41,4],[9,0,41,5]],[[8,0,43,4],[12,0,43,8],[13,0,43,9],[15,0,43,11],[16,0,43,12],[32,0,43,28],[33,0,43,29],[39,0,43,35],[41,0,43,37],[45,0,43,41],[46,0,43,42],[55,0,43,51],[57,0,43,53],[62,0,43,58],[63,0,43,59],[64,0,43,60]],[[8,0,44,4],[12,0,44,8],[13,0,44,9],[15,0,44,11],[16,0,44,12],[32,0,44,28],[33,0,44,29],[44,0,44,40],[46,0,44,42],[50,0,44,46],[51,0,44,47],[60,0,44,56],[62,0,44,58],[67,0,44,63],[68,0,44,64],[69,0,44,65]],[[8,0,45,4],[12,0,45,8],[13,0,45,9],[15,0,45,11],[16,0,45,12],[32,0,45,28],[33,0,45,29],[43,0,45,39],[45,0,45,41],[49,0,45,45],[50,0,45,46],[59,0,45,55],[61,0,45,57],[66,0,45,62],[67,0,45,63],[68,0,45,64]],[[4,0,46,2],[5,0,46,3]],[[4,0,48,2],[15,0,48,13]],[[8,0,49,6],[12,0,49,10],[16,0,49,14],[17,0,49,15],[21,0,49,19],[23,0,49,21],[24,0,49,22]],[[12,0,50,8],[16,0,50,12],[17,0,50,13],[21,0,50,17],[22,0,50,18],[29,0,50,25],[30,0,50,26],[33,0,50,29],[34,0,50,30],[36,0,50,32],[37,0,50,33],[40,0,50,36],[41,0,50,37],[52,0,50,48],[54,0,50,50],[55,0,50,51],[56,0,50,52]],[[8,0,51,6],[9,0,51,7]],[[4,0,52,2],[5,0,52,3]],[[4,0,54,2],[13,0,54,11],[16,0,54,14],[17,0,54,15],[18,0,54,23],[20,0,54,25],[22,0,54,27]],[[8,0,55,4],[9,0,55,5],[10,0,55,6],[25,0,55,21],[27,0,55,23],[28,0,55,24]],[[8,0,56,4],[9,0,56,5],[10,0,56,6],[24,0,56,20],[26,0,56,22],[27,0,56,23]],[[4,0,57,2],[5,0,57,3],[6,0,57,3]],[[4,0,60,9],[10,0,60,15],[11,0,60,16],[12,0,60,22]],[[8,0,61,4],[9,0,61,5],[10,0,61,6],[25,0,61,21],[27,0,61,23],[28,0,61,24]],[[8,0,62,4],[9,0,62,5],[10,0,62,6],[24,0,62,20],[26,0,62,22],[27,0,62,23]],[[8,0,64,4],[14,0,64,10],[19,0,64,15],[22,0,64,32],[24,0,64,34],[28,0,64,38],[30,0,64,40],[36,0,64,46],[38,0,64,48],[39,0,64,49]],[[8,0,65,4],[12,0,65,8],[13,0,65,9],[25,0,65,21],[26,0,65,22],[30,0,65,26],[31,0,65,27],[36,0,65,32],[37,0,65,33],[38,0,65,34]],[[8,0,66,4],[12,0,66,8],[13,0,66,9],[19,0,66,15],[20,0,66,16],[31,0,66,27],[32,0,66,28],[33,0,66,29],[34,0,66,30],[46,0,66,42],[47,0,66,43],[52,0,66,48],[53,0,66,49],[54,0,66,50]],[[4,0,67,2],[5,0,67,3]],[[4,0,70,9],[14,0,70,19],[15,0,70,20],[16,0,70,28]],[[8,0,71,4],[12,0,71,8],[13,0,71,9],[14,0,71,10],[16,0,71,12],[17,0,71,13]],[[12,0,72,6],[19,0,72,13]],[[8,0,73,4],[9,0,73,5]],[[8,0,75,4],[14,0,75,10],[19,0,75,15],[22,0,75,32],[24,0,75,34],[28,0,75,38],[30,0,75,40],[40,0,75,50],[42,0,75,52],[43,0,75,53]],[[8,0,76,4],[12,0,76,8],[13,0,76,9],[25,0,76,21],[26,0,76,22],[30,0,76,26],[31,0,76,27],[36,0,76,32],[37,0,76,33],[38,0,76,34]],[[4,0,77,2],[5,0,77,3]],[[4,0,80,9],[15,0,80,20],[16,0,80,21],[17,0,80,29]],[[8,0,81,4],[12,0,81,8],[13,0,81,9],[14,0,81,10],[16,0,81,12],[17,0,81,13]],[[12,0,82,6],[19,0,82,13]],[[8,0,83,4],[9,0,83,5]],[[8,0,85,4],[14,0,85,10],[19,0,85,15],[22,0,85,32],[24,0,85,34],[28,0,85,38],[30,0,85,40],[39,0,85,49],[41,0,85,51],[42,0,85,52]],[[8,0,86,4],[12,0,86,8],[13,0,86,9],[25,0,86,21],[26,0,86,22],[30,0,86,26],[31,0,86,27],[36,0,86,32],[37,0,86,33],[38,0,86,34]],[[4,0,87,2],[5,0,87,3]],[[109,0,9,13],[128,0,9,32]],[[61,0,9,13],[80,0,9,32]],[[12,0,9,13],[104,0,9,13],[122,0,9,27],[126,0,9,32],[213,0,9,13],[235,0,9,31],[239,0,9,32],[328,0,9,13],[351,0,9,32],[355,0,9,32]],[],[],[[81,0,9,13],[100,0,9,32]],[[14,0,5,1],[23,0,5,10]],[[15,0,5,11]],[[16,0,6,2],[24,0,6,10],[26,0,6,12],[40,0,6,26]],[[16,0,7,2],[26,0,7,12],[28,0,7,14],[33,0,7,19]],[[13,0,8,1]],[[43,0,10,11],[50,0,10,18]],[[18,0,10,3],[23,0,10,8]],[[12,0,11,11],[23,0,11,22]],[[18,0,11,3],[23,0,11,8]],[[12,0,12,12],[24,0,12,24]],[[18,0,12,3],[24,0,12,9]],[[12,0,60,9],[18,0,60,15]],[[18,0,59,3],[30,0,59,15]],[[19,0,59,16],[25,0,59,22],[27,0,59,24],[28,0,59,25],[36,0,59,33],[37,0,59,34]],[[12,0,70,9],[22,0,70,19]],[[18,0,69,3],[30,0,69,15]],[[19,0,69,16],[29,0,69,26],[31,0,69,28],[32,0,69,29],[40,0,69,37],[41,0,69,38]],[[12,0,80,9],[23,0,80,20]],[[18,0,79,3],[30,0,79,15]],[[19,0,79,16],[30,0,79,27],[32,0,79,29],[33,0,79,30],[41,0,79,38],[42,0,79,39]]],"sourcesContent":["import { Directive, ElementRef, EventEmitter, Input, Output, OnInit, OnDestroy, HostListener } from '@angular/core';\nimport { UploadOutput, UploadInput, UploaderOptions } from './interfaces';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[ngFileDrop]',\n  standalone: false\n})\nexport class NgFileDropDirective implements OnInit, OnDestroy {\n  @Input() options: UploaderOptions;\n  @Input() uploadInput: EventEmitter<UploadInput>;\n  @Output() uploadOutput: EventEmitter<UploadOutput>;\n\n  upload: NgUploaderService;\n  el: HTMLInputElement;\n\n  _sub: Subscription[];\n\n  constructor(public elementRef: ElementRef) {\n    this.uploadOutput = new EventEmitter<UploadOutput>();\n  }\n\n  ngOnInit() {\n    this._sub = [];\n    const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n    const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n    const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n    const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n    this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n\n    this.el = this.elementRef.nativeElement;\n\n    this._sub.push(\n      this.upload.serviceEvents.subscribe((event: UploadOutput) => {\n        this.uploadOutput.emit(event);\n      })\n    );\n\n    if (this.uploadInput instanceof EventEmitter) {\n      this._sub.push(this.upload.initInputEvents(this.uploadInput));\n    }\n\n    this.el.addEventListener('drop', this.stopEvent, false);\n    this.el.addEventListener('dragenter', this.stopEvent, false);\n    this.el.addEventListener('dragover', this.stopEvent, false);\n  }\n\n  ngOnDestroy() {\n      if (this._sub) {\n        this._sub.forEach(sub => sub.unsubscribe());\n      }\n  }\n\n  stopEvent = (e: Event) => {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  @HostListener('drop', ['$event'])\n  public onDrop(e: any) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const event: UploadOutput = { type: 'drop' };\n    this.uploadOutput.emit(event);\n    this.upload.handleFiles(e.dataTransfer.files);\n  }\n\n  @HostListener('dragover', ['$event'])\n  public onDragOver(e: Event) {\n    if (!e) {\n      return;\n    }\n\n    const event: UploadOutput = { type: 'dragOver' };\n    this.uploadOutput.emit(event);\n  }\n\n  @HostListener('dragleave', ['$event'])\n  public onDragLeave(e: Event) {\n    if (!e) {\n      return;\n    }\n\n    const event: UploadOutput = { type: 'dragOut' };\n    this.uploadOutput.emit(event);\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./ngx-uploader.class":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":8019,"body":[{"type":"ImportDeclaration","start":0,"end":83,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"Directive"},"local":{"type":"Identifier","start":9,"end":18,"name":"Directive"}},{"type":"ImportSpecifier","start":20,"end":30,"imported":{"type":"Identifier","start":20,"end":30,"name":"ElementRef"},"local":{"type":"Identifier","start":20,"end":30,"name":"ElementRef"}},{"type":"ImportSpecifier","start":32,"end":44,"imported":{"type":"Identifier","start":32,"end":44,"name":"EventEmitter"},"local":{"type":"Identifier","start":32,"end":44,"name":"EventEmitter"}},{"type":"ImportSpecifier","start":46,"end":51,"imported":{"type":"Identifier","start":46,"end":51,"name":"Input"},"local":{"type":"Identifier","start":46,"end":51,"name":"Input"}},{"type":"ImportSpecifier","start":53,"end":59,"imported":{"type":"Identifier","start":53,"end":59,"name":"Output"},"local":{"type":"Identifier","start":53,"end":59,"name":"Output"}}],"source":{"type":"Literal","start":67,"end":82,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":84,"end":141,"specifiers":[{"type":"ImportSpecifier","start":93,"end":110,"imported":{"type":"Identifier","start":93,"end":110,"name":"NgUploaderService"},"local":{"type":"Identifier","start":93,"end":110,"name":"NgUploaderService"}}],"source":{"type":"Literal","start":118,"end":140,"value":"./ngx-uploader.class","raw":"'./ngx-uploader.class'"},"attributes":[]},{"type":"ImportDeclaration","start":142,"end":178,"specifiers":[{"type":"ImportNamespaceSpecifier","start":149,"end":156,"local":{"type":"Identifier","start":154,"end":156,"name":"i0"}}],"source":{"type":"Literal","start":162,"end":177,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":179,"end":2100,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":186,"end":2100,"decorators":[],"id":{"type":"Identifier","start":192,"end":213,"name":"NgFileSelectDirective"},"superClass":null,"body":{"type":"ClassBody","start":214,"end":2100,"body":[{"type":"PropertyDefinition","start":220,"end":231,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":220,"end":230,"name":"elementRef"},"value":null},{"type":"PropertyDefinition","start":236,"end":244,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":236,"end":243,"name":"options"},"value":null},{"type":"PropertyDefinition","start":249,"end":261,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":249,"end":260,"name":"uploadInput"},"value":null},{"type":"PropertyDefinition","start":266,"end":279,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":266,"end":278,"name":"uploadOutput"},"value":null},{"type":"PropertyDefinition","start":284,"end":291,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":284,"end":290,"name":"upload"},"value":null},{"type":"PropertyDefinition","start":296,"end":299,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":296,"end":298,"name":"el"},"value":null},{"type":"PropertyDefinition","start":304,"end":309,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":304,"end":308,"name":"_sub"},"value":null},{"type":"MethodDefinition","start":314,"end":431,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":314,"end":325,"name":"constructor"},"value":{"type":"FunctionExpression","start":325,"end":431,"async":false,"generator":false,"id":null,"params":[{"type":"Identifier","start":326,"end":336,"name":"elementRef"}],"body":{"type":"BlockStatement","start":338,"end":431,"body":[{"type":"ExpressionStatement","start":348,"end":377,"expression":{"type":"AssignmentExpression","start":348,"end":376,"operator":"=","left":{"type":"MemberExpression","start":348,"end":363,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":348,"end":352},"property":{"type":"Identifier","start":353,"end":363,"name":"elementRef"}},"right":{"type":"Identifier","start":366,"end":376,"name":"elementRef"}}},{"type":"ExpressionStatement","start":386,"end":425,"expression":{"type":"AssignmentExpression","start":386,"end":424,"operator":"=","left":{"type":"MemberExpression","start":386,"end":403,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":386,"end":390},"property":{"type":"Identifier","start":391,"end":403,"name":"uploadOutput"}},"right":{"type":"NewExpression","start":406,"end":424,"callee":{"type":"Identifier","start":410,"end":422,"name":"EventEmitter"},"arguments":[]}}}]},"expression":false},"kind":"constructor"},{"type":"MethodDefinition","start":436,"end":1357,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":436,"end":444,"name":"ngOnInit"},"value":{"type":"FunctionExpression","start":444,"end":1357,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":447,"end":1357,"body":[{"type":"ExpressionStatement","start":457,"end":472,"expression":{"type":"AssignmentExpression","start":457,"end":471,"operator":"=","left":{"type":"MemberExpression","start":457,"end":466,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":457,"end":461},"property":{"type":"Identifier","start":462,"end":466,"name":"_sub"}},"right":{"type":"ArrayExpression","start":469,"end":471,"elements":[]}}},{"type":"VariableDeclaration","start":481,"end":570,"kind":"const","declarations":[{"type":"VariableDeclarator","start":487,"end":569,"id":{"type":"Identifier","start":487,"end":498,"name":"concurrency"},"init":{"type":"LogicalExpression","start":501,"end":569,"operator":"||","left":{"type":"LogicalExpression","start":501,"end":541,"operator":"&&","left":{"type":"MemberExpression","start":501,"end":513,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":501,"end":505},"property":{"type":"Identifier","start":506,"end":513,"name":"options"}},"right":{"type":"MemberExpression","start":517,"end":541,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":517,"end":529,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":517,"end":521},"property":{"type":"Identifier","start":522,"end":529,"name":"options"}},"property":{"type":"Identifier","start":530,"end":541,"name":"concurrency"}}},"right":{"type":"MemberExpression","start":545,"end":569,"computed":false,"optional":false,"object":{"type":"Identifier","start":545,"end":551,"name":"Number"},"property":{"type":"Identifier","start":552,"end":569,"name":"POSITIVE_INFINITY"}}}}]},{"type":"VariableDeclaration","start":579,"end":665,"kind":"const","declarations":[{"type":"VariableDeclarator","start":585,"end":664,"id":{"type":"Identifier","start":585,"end":604,"name":"allowedContentTypes"},"init":{"type":"LogicalExpression","start":607,"end":664,"operator":"||","left":{"type":"LogicalExpression","start":607,"end":655,"operator":"&&","left":{"type":"MemberExpression","start":607,"end":619,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":607,"end":611},"property":{"type":"Identifier","start":612,"end":619,"name":"options"}},"right":{"type":"MemberExpression","start":623,"end":655,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":623,"end":635,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":623,"end":627},"property":{"type":"Identifier","start":628,"end":635,"name":"options"}},"property":{"type":"Identifier","start":636,"end":655,"name":"allowedContentTypes"}}},"right":{"type":"ArrayExpression","start":659,"end":664,"elements":[{"type":"Literal","start":660,"end":663,"value":"*","raw":"'*'"}]}}}]},{"type":"VariableDeclaration","start":674,"end":761,"kind":"const","declarations":[{"type":"VariableDeclarator","start":680,"end":760,"id":{"type":"Identifier","start":680,"end":690,"name":"maxUploads"},"init":{"type":"LogicalExpression","start":693,"end":760,"operator":"||","left":{"type":"LogicalExpression","start":693,"end":732,"operator":"&&","left":{"type":"MemberExpression","start":693,"end":705,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":693,"end":697},"property":{"type":"Identifier","start":698,"end":705,"name":"options"}},"right":{"type":"MemberExpression","start":709,"end":732,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":709,"end":721,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":709,"end":713},"property":{"type":"Identifier","start":714,"end":721,"name":"options"}},"property":{"type":"Identifier","start":722,"end":732,"name":"maxUploads"}}},"right":{"type":"MemberExpression","start":736,"end":760,"computed":false,"optional":false,"object":{"type":"Identifier","start":736,"end":742,"name":"Number"},"property":{"type":"Identifier","start":743,"end":760,"name":"POSITIVE_INFINITY"}}}}]},{"type":"VariableDeclaration","start":770,"end":859,"kind":"const","declarations":[{"type":"VariableDeclarator","start":776,"end":858,"id":{"type":"Identifier","start":776,"end":787,"name":"maxFileSize"},"init":{"type":"LogicalExpression","start":790,"end":858,"operator":"||","left":{"type":"LogicalExpression","start":790,"end":830,"operator":"&&","left":{"type":"MemberExpression","start":790,"end":802,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":790,"end":794},"property":{"type":"Identifier","start":795,"end":802,"name":"options"}},"right":{"type":"MemberExpression","start":806,"end":830,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":806,"end":818,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":806,"end":810},"property":{"type":"Identifier","start":811,"end":818,"name":"options"}},"property":{"type":"Identifier","start":819,"end":830,"name":"maxFileSize"}}},"right":{"type":"MemberExpression","start":834,"end":858,"computed":false,"optional":false,"object":{"type":"Identifier","start":834,"end":840,"name":"Number"},"property":{"type":"Identifier","start":841,"end":858,"name":"POSITIVE_INFINITY"}}}}]},{"type":"ExpressionStatement","start":868,"end":963,"expression":{"type":"AssignmentExpression","start":868,"end":962,"operator":"=","left":{"type":"MemberExpression","start":868,"end":879,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":868,"end":872},"property":{"type":"Identifier","start":873,"end":879,"name":"upload"}},"right":{"type":"NewExpression","start":882,"end":962,"callee":{"type":"Identifier","start":886,"end":903,"name":"NgUploaderService"},"arguments":[{"type":"Identifier","start":904,"end":915,"name":"concurrency"},{"type":"Identifier","start":917,"end":936,"name":"allowedContentTypes"},{"type":"Identifier","start":938,"end":948,"name":"maxUploads"},{"type":"Identifier","start":950,"end":961,"name":"maxFileSize"}]}}},{"type":"ExpressionStatement","start":972,"end":1012,"expression":{"type":"AssignmentExpression","start":972,"end":1011,"operator":"=","left":{"type":"MemberExpression","start":972,"end":979,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":972,"end":976},"property":{"type":"Identifier","start":977,"end":979,"name":"el"}},"right":{"type":"MemberExpression","start":982,"end":1011,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":982,"end":997,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":982,"end":986},"property":{"type":"Identifier","start":987,"end":997,"name":"elementRef"}},"property":{"type":"Identifier","start":998,"end":1011,"name":"nativeElement"}}}},{"type":"ExpressionStatement","start":1021,"end":1082,"expression":{"type":"CallExpression","start":1021,"end":1081,"optional":false,"callee":{"type":"MemberExpression","start":1021,"end":1045,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1021,"end":1028,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1021,"end":1025},"property":{"type":"Identifier","start":1026,"end":1028,"name":"el"}},"property":{"type":"Identifier","start":1029,"end":1045,"name":"addEventListener"}},"arguments":[{"type":"Literal","start":1046,"end":1054,"value":"change","raw":"'change'"},{"type":"MemberExpression","start":1056,"end":1073,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1056,"end":1060},"property":{"type":"Identifier","start":1061,"end":1073,"name":"fileListener"}},{"type":"Literal","start":1075,"end":1080,"value":false,"raw":"false"}]}},{"type":"ExpressionStatement","start":1091,"end":1210,"expression":{"type":"CallExpression","start":1091,"end":1209,"optional":false,"callee":{"type":"MemberExpression","start":1091,"end":1105,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1091,"end":1100,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1091,"end":1095},"property":{"type":"Identifier","start":1096,"end":1100,"name":"_sub"}},"property":{"type":"Identifier","start":1101,"end":1105,"name":"push"}},"arguments":[{"type":"CallExpression","start":1106,"end":1208,"optional":false,"callee":{"type":"MemberExpression","start":1106,"end":1141,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1106,"end":1131,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1106,"end":1117,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1106,"end":1110},"property":{"type":"Identifier","start":1111,"end":1117,"name":"upload"}},"property":{"type":"Identifier","start":1118,"end":1131,"name":"serviceEvents"}},"property":{"type":"Identifier","start":1132,"end":1141,"name":"subscribe"}},"arguments":[{"type":"ArrowFunctionExpression","start":1142,"end":1207,"async":false,"expression":false,"generator":false,"params":[{"type":"Identifier","start":1143,"end":1148,"name":"event"}],"body":{"type":"BlockStatement","start":1153,"end":1207,"body":[{"type":"ExpressionStatement","start":1167,"end":1197,"expression":{"type":"CallExpression","start":1167,"end":1196,"optional":false,"callee":{"type":"MemberExpression","start":1167,"end":1189,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1167,"end":1184,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1167,"end":1171},"property":{"type":"Identifier","start":1172,"end":1184,"name":"uploadOutput"}},"property":{"type":"Identifier","start":1185,"end":1189,"name":"emit"}},"arguments":[{"type":"Identifier","start":1190,"end":1195,"name":"event"}]}}]},"id":null}]}]}},{"type":"IfStatement","start":1219,"end":1351,"test":{"type":"BinaryExpression","start":1223,"end":1263,"operator":"instanceof","left":{"type":"MemberExpression","start":1223,"end":1239,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1223,"end":1227},"property":{"type":"Identifier","start":1228,"end":1239,"name":"uploadInput"}},"right":{"type":"Identifier","start":1251,"end":1263,"name":"EventEmitter"}},"consequent":{"type":"BlockStatement","start":1265,"end":1351,"body":[{"type":"ExpressionStatement","start":1279,"end":1341,"expression":{"type":"CallExpression","start":1279,"end":1340,"optional":false,"callee":{"type":"MemberExpression","start":1279,"end":1293,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1279,"end":1288,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1279,"end":1283},"property":{"type":"Identifier","start":1284,"end":1288,"name":"_sub"}},"property":{"type":"Identifier","start":1289,"end":1293,"name":"push"}},"arguments":[{"type":"CallExpression","start":1294,"end":1339,"optional":false,"callee":{"type":"MemberExpression","start":1294,"end":1321,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1294,"end":1305,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1294,"end":1298},"property":{"type":"Identifier","start":1299,"end":1305,"name":"upload"}},"property":{"type":"Identifier","start":1306,"end":1321,"name":"initInputEvents"}},"arguments":[{"type":"MemberExpression","start":1322,"end":1338,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1322,"end":1326},"property":{"type":"Identifier","start":1327,"end":1338,"name":"uploadInput"}}]}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"MethodDefinition","start":1362,"end":1550,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1362,"end":1373,"name":"ngOnDestroy"},"value":{"type":"FunctionExpression","start":1373,"end":1550,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":1376,"end":1550,"body":[{"type":"IfStatement","start":1386,"end":1544,"test":{"type":"MemberExpression","start":1390,"end":1397,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1390,"end":1394},"property":{"type":"Identifier","start":1395,"end":1397,"name":"el"}},"consequent":{"type":"BlockStatement","start":1399,"end":1544,"body":[{"type":"ExpressionStatement","start":1413,"end":1477,"expression":{"type":"CallExpression","start":1413,"end":1476,"optional":false,"callee":{"type":"MemberExpression","start":1413,"end":1440,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1413,"end":1420,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1413,"end":1417},"property":{"type":"Identifier","start":1418,"end":1420,"name":"el"}},"property":{"type":"Identifier","start":1421,"end":1440,"name":"removeEventListener"}},"arguments":[{"type":"Literal","start":1441,"end":1449,"value":"change","raw":"'change'"},{"type":"MemberExpression","start":1451,"end":1468,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1451,"end":1455},"property":{"type":"Identifier","start":1456,"end":1468,"name":"fileListener"}},{"type":"Literal","start":1470,"end":1475,"value":false,"raw":"false"}]}},{"type":"ExpressionStatement","start":1490,"end":1534,"expression":{"type":"CallExpression","start":1490,"end":1533,"optional":false,"callee":{"type":"MemberExpression","start":1490,"end":1507,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1490,"end":1499,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1490,"end":1494},"property":{"type":"Identifier","start":1495,"end":1499,"name":"_sub"}},"property":{"type":"Identifier","start":1500,"end":1507,"name":"forEach"}},"arguments":[{"type":"ArrowFunctionExpression","start":1508,"end":1532,"async":false,"expression":true,"generator":false,"params":[{"type":"Identifier","start":1508,"end":1511,"name":"sub"}],"body":{"type":"CallExpression","start":1515,"end":1532,"optional":false,"callee":{"type":"MemberExpression","start":1515,"end":1530,"computed":false,"optional":false,"object":{"type":"Identifier","start":1515,"end":1518,"name":"sub"},"property":{"type":"Identifier","start":1519,"end":1530,"name":"unsubscribe"}},"arguments":[]},"id":null}]}}]},"alternate":null}]},"expression":false},"kind":"method"},{"type":"PropertyDefinition","start":1555,"end":1675,"static":false,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1555,"end":1567,"name":"fileListener"},"value":{"type":"ArrowFunctionExpression","start":1570,"end":1674,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":1576,"end":1674,"body":[{"type":"IfStatement","start":1586,"end":1668,"test":{"type":"MemberExpression","start":1590,"end":1603,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1590,"end":1597,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1590,"end":1594},"property":{"type":"Identifier","start":1595,"end":1597,"name":"el"}},"property":{"type":"Identifier","start":1598,"end":1603,"name":"files"}},"consequent":{"type":"BlockStatement","start":1605,"end":1668,"body":[{"type":"ExpressionStatement","start":1619,"end":1658,"expression":{"type":"CallExpression","start":1619,"end":1657,"optional":false,"callee":{"type":"MemberExpression","start":1619,"end":1642,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1619,"end":1630,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1619,"end":1623},"property":{"type":"Identifier","start":1624,"end":1630,"name":"upload"}},"property":{"type":"Identifier","start":1631,"end":1642,"name":"handleFiles"}},"arguments":[{"type":"MemberExpression","start":1643,"end":1656,"computed":false,"optional":false,"object":{"type":"MemberExpression","start":1643,"end":1650,"computed":false,"optional":false,"object":{"type":"ThisExpression","start":1643,"end":1647},"property":{"type":"Identifier","start":1648,"end":1650,"name":"el"}},"property":{"type":"Identifier","start":1651,"end":1656,"name":"files"}}]}}]},"alternate":null}]},"id":null}},{"type":"PropertyDefinition","start":1680,"end":1850,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1687,"end":1691,"name":"ɵfac"},"value":{"type":"FunctionExpression","start":1694,"end":1849,"async":false,"generator":false,"id":{"type":"Identifier","start":1703,"end":1732,"name":"NgFileSelectDirective_Factory"},"params":[{"type":"Identifier","start":1733,"end":1750,"name":"__ngFactoryType__"}],"body":{"type":"BlockStatement","start":1752,"end":1849,"body":[{"type":"ReturnStatement","start":1754,"end":1847,"argument":{"type":"NewExpression","start":1761,"end":1846,"callee":{"type":"LogicalExpression","start":1766,"end":1808,"operator":"||","left":{"type":"Identifier","start":1766,"end":1783,"name":"__ngFactoryType__"},"right":{"type":"Identifier","start":1787,"end":1808,"name":"NgFileSelectDirective"}},"arguments":[{"type":"CallExpression","start":1810,"end":1845,"optional":false,"callee":{"type":"MemberExpression","start":1810,"end":1830,"computed":false,"optional":false,"object":{"type":"Identifier","start":1810,"end":1812,"name":"i0"},"property":{"type":"Identifier","start":1813,"end":1830,"name":"ɵɵdirectiveInject"}},"arguments":[{"type":"MemberExpression","start":1831,"end":1844,"computed":false,"optional":false,"object":{"type":"Identifier","start":1831,"end":1833,"name":"i0"},"property":{"type":"Identifier","start":1834,"end":1844,"name":"ElementRef"}}]}]}}]},"expression":false}},{"type":"PropertyDefinition","start":1855,"end":2098,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":1862,"end":1866,"name":"ɵdir"},"value":{"type":"CallExpression","start":1883,"end":2097,"optional":false,"_rollupAnnotations":[{"end":1882,"start":1869,"type":"pure"}],"callee":{"type":"MemberExpression","start":1883,"end":1903,"computed":false,"optional":false,"object":{"type":"Identifier","start":1883,"end":1885,"name":"i0"},"property":{"type":"Identifier","start":1886,"end":1903,"name":"ɵɵdefineDirective"}},"arguments":[{"type":"ObjectExpression","start":1904,"end":2096,"properties":[{"type":"Property","start":1906,"end":1933,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1906,"end":1910,"name":"type"},"value":{"type":"Identifier","start":1912,"end":1933,"name":"NgFileSelectDirective"},"kind":"init"},{"type":"Property","start":1935,"end":1972,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1935,"end":1944,"name":"selectors"},"value":{"type":"ArrayExpression","start":1946,"end":1972,"elements":[{"type":"ArrayExpression","start":1947,"end":1971,"elements":[{"type":"Literal","start":1948,"end":1950,"value":"","raw":"\"\""},{"type":"Literal","start":1952,"end":1966,"value":"ngFileSelect","raw":"\"ngFileSelect\""},{"type":"Literal","start":1968,"end":1970,"value":"","raw":"\"\""}]}]},"kind":"init"},{"type":"Property","start":1974,"end":2032,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1974,"end":1980,"name":"inputs"},"value":{"type":"ObjectExpression","start":1982,"end":2032,"properties":[{"type":"Property","start":1984,"end":2002,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1984,"end":1991,"name":"options"},"value":{"type":"Literal","start":1993,"end":2002,"value":"options","raw":"\"options\""},"kind":"init"},{"type":"Property","start":2004,"end":2030,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2004,"end":2015,"name":"uploadInput"},"value":{"type":"Literal","start":2017,"end":2030,"value":"uploadInput","raw":"\"uploadInput\""},"kind":"init"}]},"kind":"init"},{"type":"Property","start":2034,"end":2075,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2034,"end":2041,"name":"outputs"},"value":{"type":"ObjectExpression","start":2043,"end":2075,"properties":[{"type":"Property","start":2045,"end":2073,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2045,"end":2057,"name":"uploadOutput"},"value":{"type":"Literal","start":2059,"end":2073,"value":"uploadOutput","raw":"\"uploadOutput\""},"kind":"init"}]},"kind":"init"},{"type":"Property","start":2077,"end":2094,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2077,"end":2087,"name":"standalone"},"value":{"type":"Literal","start":2089,"end":2094,"value":false,"raw":"false"},"kind":"init"}]}]}}]}}},{"type":"ExpressionStatement","start":2101,"end":2548,"expression":{"type":"CallExpression","start":2101,"end":2547,"optional":false,"callee":{"type":"ArrowFunctionExpression","start":2102,"end":2544,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":2108,"end":2544,"body":[{"type":"ExpressionStatement","start":2110,"end":2542,"expression":{"type":"LogicalExpression","start":2110,"end":2541,"operator":"&&","left":{"type":"LogicalExpression","start":2111,"end":2156,"operator":"||","left":{"type":"BinaryExpression","start":2111,"end":2143,"operator":"===","left":{"type":"UnaryExpression","start":2111,"end":2127,"operator":"typeof","argument":{"type":"Identifier","start":2118,"end":2127,"name":"ngDevMode"},"prefix":true},"right":{"type":"Literal","start":2132,"end":2143,"value":"undefined","raw":"\"undefined\""}},"right":{"type":"Identifier","start":2147,"end":2156,"name":"ngDevMode"}},"right":{"type":"CallExpression","start":2161,"end":2541,"optional":false,"callee":{"type":"MemberExpression","start":2161,"end":2181,"computed":false,"optional":false,"object":{"type":"Identifier","start":2161,"end":2163,"name":"i0"},"property":{"type":"Identifier","start":2164,"end":2181,"name":"ɵsetClassMetadata"}},"arguments":[{"type":"Identifier","start":2182,"end":2203,"name":"NgFileSelectDirective"},{"type":"ArrayExpression","start":2205,"end":2349,"elements":[{"type":"ObjectExpression","start":2206,"end":2348,"properties":[{"type":"Property","start":2216,"end":2231,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2216,"end":2220,"name":"type"},"value":{"type":"Identifier","start":2222,"end":2231,"name":"Directive"},"kind":"init"},{"type":"Property","start":2241,"end":2342,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2241,"end":2245,"name":"args"},"value":{"type":"ArrayExpression","start":2247,"end":2342,"elements":[{"type":"ObjectExpression","start":2248,"end":2341,"properties":[{"type":"Property","start":2266,"end":2292,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2266,"end":2274,"name":"selector"},"value":{"type":"Literal","start":2276,"end":2292,"value":"[ngFileSelect]","raw":"'[ngFileSelect]'"},"kind":"init"},{"type":"Property","start":2310,"end":2327,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2310,"end":2320,"name":"standalone"},"value":{"type":"Literal","start":2322,"end":2327,"value":false,"raw":"false"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"ArrowFunctionExpression","start":2351,"end":2382,"async":false,"expression":true,"generator":false,"params":[],"body":{"type":"ArrayExpression","start":2357,"end":2382,"elements":[{"type":"ObjectExpression","start":2358,"end":2381,"properties":[{"type":"Property","start":2360,"end":2379,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2360,"end":2364,"name":"type"},"value":{"type":"MemberExpression","start":2366,"end":2379,"computed":false,"optional":false,"object":{"type":"Identifier","start":2366,"end":2368,"name":"i0"},"property":{"type":"Identifier","start":2369,"end":2379,"name":"ElementRef"}},"kind":"init"}]}]},"id":null},{"type":"ObjectExpression","start":2384,"end":2540,"properties":[{"type":"Property","start":2386,"end":2432,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2386,"end":2393,"name":"options"},"value":{"type":"ArrayExpression","start":2395,"end":2432,"elements":[{"type":"ObjectExpression","start":2396,"end":2431,"properties":[{"type":"Property","start":2410,"end":2421,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2410,"end":2414,"name":"type"},"value":{"type":"Identifier","start":2416,"end":2421,"name":"Input"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":2434,"end":2484,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2434,"end":2445,"name":"uploadInput"},"value":{"type":"ArrayExpression","start":2447,"end":2484,"elements":[{"type":"ObjectExpression","start":2448,"end":2483,"properties":[{"type":"Property","start":2462,"end":2473,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2462,"end":2466,"name":"type"},"value":{"type":"Identifier","start":2468,"end":2473,"name":"Input"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":2486,"end":2538,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2486,"end":2498,"name":"uploadOutput"},"value":{"type":"ArrayExpression","start":2500,"end":2538,"elements":[{"type":"ObjectExpression","start":2501,"end":2537,"properties":[{"type":"Property","start":2515,"end":2527,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2515,"end":2519,"name":"type"},"value":{"type":"Identifier","start":2521,"end":2527,"name":"Output"},"kind":"init"}]}]},"kind":"init"}]}]}}}]},"id":null},"arguments":[]}}],"_rollupRemoved":[{"end":8019,"start":2549,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { Directive, ElementRef, EventEmitter, Input, Output } from '@angular/core';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport * as i0 from \"@angular/core\";\nexport class NgFileSelectDirective {\n    elementRef;\n    options;\n    uploadInput;\n    uploadOutput;\n    upload;\n    el;\n    _sub;\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.uploadOutput = new EventEmitter();\n    }\n    ngOnInit() {\n        this._sub = [];\n        const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n        const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n        const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n        const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n        this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n        this.el = this.elementRef.nativeElement;\n        this.el.addEventListener('change', this.fileListener, false);\n        this._sub.push(this.upload.serviceEvents.subscribe((event) => {\n            this.uploadOutput.emit(event);\n        }));\n        if (this.uploadInput instanceof EventEmitter) {\n            this._sub.push(this.upload.initInputEvents(this.uploadInput));\n        }\n    }\n    ngOnDestroy() {\n        if (this.el) {\n            this.el.removeEventListener('change', this.fileListener, false);\n            this._sub.forEach(sub => sub.unsubscribe());\n        }\n    }\n    fileListener = () => {\n        if (this.el.files) {\n            this.upload.handleFiles(this.el.files);\n        }\n    };\n    static ɵfac = function NgFileSelectDirective_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgFileSelectDirective)(i0.ɵɵdirectiveInject(i0.ElementRef)); };\n    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: NgFileSelectDirective, selectors: [[\"\", \"ngFileSelect\", \"\"]], inputs: { options: \"options\", uploadInput: \"uploadInput\" }, outputs: { uploadOutput: \"uploadOutput\" }, standalone: false });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgFileSelectDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ngFileSelect]',\n                standalone: false\n            }]\n    }], () => [{ type: i0.ElementRef }], { options: [{\n            type: Input\n        }], uploadInput: [{\n            type: Input\n        }], uploadOutput: [{\n            type: Output\n        }] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZmlsZS1zZWxlY3QuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9saWIvbmctZmlsZS1zZWxlY3QuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFxQixNQUFNLGVBQWUsQ0FBQztBQUV0RyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFPekQsTUFBTSxPQUFPLHFCQUFxQjtJQVViO0lBVFYsT0FBTyxDQUFrQjtJQUN6QixXQUFXLENBQW9CO0lBQzlCLFlBQVksQ0FBNkI7SUFFbkQsTUFBTSxDQUFvQjtJQUMxQixFQUFFLENBQW1CO0lBRXJCLElBQUksQ0FBaUI7SUFFckIsWUFBbUIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN2QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO0lBQ3ZELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUN6RixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3ZGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3pGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRS9GLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFDeEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUU3RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FDWixJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFtQixFQUFFLEVBQUU7WUFDMUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLFdBQVcsWUFBWSxZQUFZLEVBQUUsQ0FBQztZQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDO0lBQ0gsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUM5QyxDQUFDO0lBQ0gsQ0FBQztJQUVELFlBQVksR0FBRyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUMsQ0FBQTsrR0EvQ1UscUJBQXFCOzZEQUFyQixxQkFBcUI7O2lGQUFyQixxQkFBcUI7Y0FKakMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxnQkFBZ0I7Z0JBQzFCLFVBQVUsRUFBRSxLQUFLO2FBQ2xCOzJDQUVVLE9BQU87a0JBQWYsS0FBSztZQUNHLFdBQVc7a0JBQW5CLEtBQUs7WUFDSSxZQUFZO2tCQUFyQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIE9uSW5pdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVcGxvYWRPdXRwdXQsIFVwbG9hZGVyT3B0aW9ucyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOZ1VwbG9hZGVyU2VydmljZSB9IGZyb20gJy4vbmd4LXVwbG9hZGVyLmNsYXNzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbbmdGaWxlU2VsZWN0XScsXG4gIHN0YW5kYWxvbmU6IGZhbHNlXG59KVxuZXhwb3J0IGNsYXNzIE5nRmlsZVNlbGVjdERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgb3B0aW9uczogVXBsb2FkZXJPcHRpb25zO1xuICBASW5wdXQoKSB1cGxvYWRJbnB1dDogRXZlbnRFbWl0dGVyPGFueT47XG4gIEBPdXRwdXQoKSB1cGxvYWRPdXRwdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuXG4gIHVwbG9hZDogTmdVcGxvYWRlclNlcnZpY2U7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIF9zdWI6IFN1YnNjcmlwdGlvbltdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG4gICAgdGhpcy51cGxvYWRPdXRwdXQgPSBuZXcgRXZlbnRFbWl0dGVyPFVwbG9hZE91dHB1dD4oKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuX3N1YiA9IFtdO1xuICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgY29uc3QgYWxsb3dlZENvbnRlbnRUeXBlcyA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWxsb3dlZENvbnRlbnRUeXBlcyB8fCBbJyonXTtcbiAgICBjb25zdCBtYXhVcGxvYWRzID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tYXhVcGxvYWRzIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBtYXhGaWxlU2l6ZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubWF4RmlsZVNpemUgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHRoaXMudXBsb2FkID0gbmV3IE5nVXBsb2FkZXJTZXJ2aWNlKGNvbmN1cnJlbmN5LCBhbGxvd2VkQ29udGVudFR5cGVzLCBtYXhVcGxvYWRzLCBtYXhGaWxlU2l6ZSk7XG5cbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmZpbGVMaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgdGhpcy5fc3ViLnB1c2goXG4gICAgICB0aGlzLnVwbG9hZC5zZXJ2aWNlRXZlbnRzLnN1YnNjcmliZSgoZXZlbnQ6IFVwbG9hZE91dHB1dCkgPT4ge1xuICAgICAgICB0aGlzLnVwbG9hZE91dHB1dC5lbWl0KGV2ZW50KTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnVwbG9hZElucHV0IGluc3RhbmNlb2YgRXZlbnRFbWl0dGVyKSB7XG4gICAgICB0aGlzLl9zdWIucHVzaCh0aGlzLnVwbG9hZC5pbml0SW5wdXRFdmVudHModGhpcy51cGxvYWRJbnB1dCkpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmVsKXtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5maWxlTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIHRoaXMuX3N1Yi5mb3JFYWNoKHN1YiA9PiBzdWIudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxuICB9XG5cbiAgZmlsZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmVsLmZpbGVzKSB7XG4gICAgICB0aGlzLnVwbG9hZC5oYW5kbGVGaWxlcyh0aGlzLmVsLmZpbGVzKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-select.directive.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Directive, ElementRef, EventEmitter, Input, Output } from '@angular/core';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport * as i0 from \"@angular/core\";\nexport class NgFileSelectDirective {\n    elementRef;\n    options;\n    uploadInput;\n    uploadOutput;\n    upload;\n    el;\n    _sub;\n    constructor(elementRef) {\n        this.elementRef = elementRef;\n        this.uploadOutput = new EventEmitter();\n    }\n    ngOnInit() {\n        this._sub = [];\n        const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n        const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n        const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n        const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n        this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n        this.el = this.elementRef.nativeElement;\n        this.el.addEventListener('change', this.fileListener, false);\n        this._sub.push(this.upload.serviceEvents.subscribe((event) => {\n            this.uploadOutput.emit(event);\n        }));\n        if (this.uploadInput instanceof EventEmitter) {\n            this._sub.push(this.upload.initInputEvents(this.uploadInput));\n        }\n    }\n    ngOnDestroy() {\n        if (this.el) {\n            this.el.removeEventListener('change', this.fileListener, false);\n            this._sub.forEach(sub => sub.unsubscribe());\n        }\n    }\n    fileListener = () => {\n        if (this.el.files) {\n            this.upload.handleFiles(this.el.files);\n        }\n    };\n    static ɵfac = function NgFileSelectDirective_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgFileSelectDirective)(i0.ɵɵdirectiveInject(i0.ElementRef)); };\n    static ɵdir = /*@__PURE__*/ i0.ɵɵdefineDirective({ type: NgFileSelectDirective, selectors: [[\"\", \"ngFileSelect\", \"\"]], inputs: { options: \"options\", uploadInput: \"uploadInput\" }, outputs: { uploadOutput: \"uploadOutput\" }, standalone: false });\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgFileSelectDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ngFileSelect]',\n                standalone: false\n            }]\n    }], () => [{ type: i0.ElementRef }], { options: [{\n            type: Input\n        }], uploadInput: [{\n            type: Input\n        }], uploadOutput: [{\n            type: Output\n        }] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctZmlsZS1zZWxlY3QuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9saWIvbmctZmlsZS1zZWxlY3QuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFxQixNQUFNLGVBQWUsQ0FBQztBQUV0RyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7QUFPekQsTUFBTSxPQUFPLHFCQUFxQjtJQVViO0lBVFYsT0FBTyxDQUFrQjtJQUN6QixXQUFXLENBQW9CO0lBQzlCLFlBQVksQ0FBNkI7SUFFbkQsTUFBTSxDQUFvQjtJQUMxQixFQUFFLENBQW1CO0lBRXJCLElBQUksQ0FBaUI7SUFFckIsWUFBbUIsVUFBc0I7UUFBdEIsZUFBVSxHQUFWLFVBQVUsQ0FBWTtRQUN2QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO0lBQ3ZELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUN6RixNQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3ZGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ3pGLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsbUJBQW1CLEVBQUUsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBRS9GLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFDeEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUU3RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FDWixJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFtQixFQUFFLEVBQUU7WUFDMUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLFdBQVcsWUFBWSxZQUFZLEVBQUUsQ0FBQztZQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDO0lBQ0gsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUMsQ0FBQztZQUNYLElBQUksQ0FBQyxFQUFFLENBQUMsbUJBQW1CLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUM5QyxDQUFDO0lBQ0gsQ0FBQztJQUVELFlBQVksR0FBRyxHQUFHLEVBQUU7UUFDbEIsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ2xCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUMsQ0FBQTsrR0EvQ1UscUJBQXFCOzZEQUFyQixxQkFBcUI7O2lGQUFyQixxQkFBcUI7Y0FKakMsU0FBUztlQUFDO2dCQUNULFFBQVEsRUFBRSxnQkFBZ0I7Z0JBQzFCLFVBQVUsRUFBRSxLQUFLO2FBQ2xCOzJDQUVVLE9BQU87a0JBQWYsS0FBSztZQUNHLFdBQVc7a0JBQW5CLEtBQUs7WUFDSSxZQUFZO2tCQUFyQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIE9uSW5pdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVcGxvYWRPdXRwdXQsIFVwbG9hZGVyT3B0aW9ucyB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOZ1VwbG9hZGVyU2VydmljZSB9IGZyb20gJy4vbmd4LXVwbG9hZGVyLmNsYXNzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbbmdGaWxlU2VsZWN0XScsXG4gIHN0YW5kYWxvbmU6IGZhbHNlXG59KVxuZXhwb3J0IGNsYXNzIE5nRmlsZVNlbGVjdERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgb3B0aW9uczogVXBsb2FkZXJPcHRpb25zO1xuICBASW5wdXQoKSB1cGxvYWRJbnB1dDogRXZlbnRFbWl0dGVyPGFueT47XG4gIEBPdXRwdXQoKSB1cGxvYWRPdXRwdXQ6IEV2ZW50RW1pdHRlcjxVcGxvYWRPdXRwdXQ+O1xuXG4gIHVwbG9hZDogTmdVcGxvYWRlclNlcnZpY2U7XG4gIGVsOiBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIF9zdWI6IFN1YnNjcmlwdGlvbltdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50UmVmOiBFbGVtZW50UmVmKSB7XG4gICAgdGhpcy51cGxvYWRPdXRwdXQgPSBuZXcgRXZlbnRFbWl0dGVyPFVwbG9hZE91dHB1dD4oKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuX3N1YiA9IFtdO1xuICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5jb25jdXJyZW5jeSB8fCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgY29uc3QgYWxsb3dlZENvbnRlbnRUeXBlcyA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWxsb3dlZENvbnRlbnRUeXBlcyB8fCBbJyonXTtcbiAgICBjb25zdCBtYXhVcGxvYWRzID0gdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tYXhVcGxvYWRzIHx8IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBtYXhGaWxlU2l6ZSA9IHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubWF4RmlsZVNpemUgfHwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHRoaXMudXBsb2FkID0gbmV3IE5nVXBsb2FkZXJTZXJ2aWNlKGNvbmN1cnJlbmN5LCBhbGxvd2VkQ29udGVudFR5cGVzLCBtYXhVcGxvYWRzLCBtYXhGaWxlU2l6ZSk7XG5cbiAgICB0aGlzLmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmZpbGVMaXN0ZW5lciwgZmFsc2UpO1xuXG4gICAgdGhpcy5fc3ViLnB1c2goXG4gICAgICB0aGlzLnVwbG9hZC5zZXJ2aWNlRXZlbnRzLnN1YnNjcmliZSgoZXZlbnQ6IFVwbG9hZE91dHB1dCkgPT4ge1xuICAgICAgICB0aGlzLnVwbG9hZE91dHB1dC5lbWl0KGV2ZW50KTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIGlmICh0aGlzLnVwbG9hZElucHV0IGluc3RhbmNlb2YgRXZlbnRFbWl0dGVyKSB7XG4gICAgICB0aGlzLl9zdWIucHVzaCh0aGlzLnVwbG9hZC5pbml0SW5wdXRFdmVudHModGhpcy51cGxvYWRJbnB1dCkpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmVsKXtcbiAgICAgIHRoaXMuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5maWxlTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIHRoaXMuX3N1Yi5mb3JFYWNoKHN1YiA9PiBzdWIudW5zdWJzY3JpYmUoKSk7XG4gICAgfVxuICB9XG5cbiAgZmlsZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmVsLmZpbGVzKSB7XG4gICAgICB0aGlzLnVwbG9hZC5oYW5kbGVGaWxlcyh0aGlzLmVsLmZpbGVzKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"ng-file-select.directive.js","sourceRoot":"","sources":["../../../../projects/ngx-uploader/src/lib/ng-file-select.directive.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[18,0,0,18],[20,0,0,20],[30,0,0,30],[32,0,0,32],[44,0,0,44],[46,0,0,46],[51,0,0,51],[53,0,0,53],[59,0,0,59],[61,0,0,80],[67,0,0,86],[82,0,0,101],[83,0,0,102]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[34,0,2,34],[56,0,2,56],[57,0,2,57]],[],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[34,0,9,34]],[[4,0,19,21]],[[4,0,10,11],[11,0,10,18],[12,0,10,36]],[[4,0,11,11],[15,0,11,22],[16,0,11,42]],[[4,0,12,12],[16,0,12,24],[17,0,12,53]],[[4,0,14,2],[10,0,14,8],[11,0,14,28]],[[4,0,15,2],[6,0,15,4],[7,0,15,23]],[[4,0,17,2],[8,0,17,6],[9,0,17,23]],[[4,0,19,2],[16,0,19,21],[26,0,19,43]],[[8,0,19,21],[23,0,19,31],[26,0,19,21],[36,0,19,31],[37,0,19,43]],[[8,0,20,4],[12,0,20,8],[13,0,20,9],[25,0,20,21],[28,0,20,24],[32,0,20,28],[44,0,20,40],[46,0,20,56],[47,0,20,57]],[[4,0,21,2],[5,0,21,3]],[[4,0,23,2],[12,0,23,10]],[[8,0,24,4],[12,0,24,8],[13,0,24,9],[17,0,24,13],[20,0,24,16],[22,0,24,18],[23,0,24,19]],[[8,0,25,4],[14,0,25,10],[25,0,25,21],[28,0,25,24],[32,0,25,28],[33,0,25,29],[40,0,25,36],[44,0,25,40],[48,0,25,44],[49,0,25,45],[56,0,25,52],[57,0,25,53],[68,0,25,64],[72,0,25,68],[78,0,25,74],[79,0,25,75],[96,0,25,92],[97,0,25,93]],[[8,0,26,4],[14,0,26,10],[33,0,26,29],[36,0,26,32],[40,0,26,36],[41,0,26,37],[48,0,26,44],[52,0,26,48],[56,0,26,52],[57,0,26,53],[64,0,26,60],[65,0,26,61],[84,0,26,80],[88,0,26,84],[89,0,26,85],[92,0,26,88],[93,0,26,89],[94,0,26,90]],[[8,0,27,4],[14,0,27,10],[24,0,27,20],[27,0,27,23],[31,0,27,27],[32,0,27,28],[39,0,27,35],[43,0,27,39],[47,0,27,43],[48,0,27,44],[55,0,27,51],[56,0,27,52],[66,0,27,62],[70,0,27,66],[76,0,27,72],[77,0,27,73],[94,0,27,90],[95,0,27,91]],[[8,0,28,4],[14,0,28,10],[25,0,28,21],[28,0,28,24],[32,0,28,28],[33,0,28,29],[40,0,28,36],[44,0,28,40],[48,0,28,44],[49,0,28,45],[56,0,28,52],[57,0,28,53],[68,0,28,64],[72,0,28,68],[78,0,28,74],[79,0,28,75],[96,0,28,92],[97,0,28,93]],[[8,0,29,4],[12,0,29,8],[13,0,29,9],[19,0,29,15],[22,0,29,18],[26,0,29,22],[43,0,29,39],[44,0,29,40],[55,0,29,51],[57,0,29,53],[76,0,29,72],[78,0,29,74],[88,0,29,84],[90,0,29,86],[101,0,29,97],[102,0,29,98],[103,0,29,99]],[[8,0,31,4],[12,0,31,8],[13,0,31,9],[15,0,31,11],[18,0,31,14],[22,0,31,18],[23,0,31,19],[33,0,31,29],[34,0,31,30],[47,0,31,43],[48,0,31,44]],[[8,0,32,4],[12,0,32,8],[13,0,32,9],[15,0,32,11],[16,0,32,12],[32,0,32,28],[33,0,32,29],[41,0,32,37],[43,0,32,39],[47,0,32,43],[48,0,32,44],[60,0,32,56],[62,0,32,58],[67,0,32,63],[68,0,32,64],[69,0,32,65]],[[8,0,34,4],[12,0,34,8],[13,0,34,9],[17,0,34,13],[18,0,34,14],[22,0,34,18],[23,0,35,6],[27,0,35,10],[28,0,35,11],[34,0,35,17],[35,0,35,18],[48,0,35,31],[49,0,35,32],[58,0,35,41],[59,0,35,42],[60,0,35,43],[65,0,35,62],[67,0,35,64],[69,0,35,66]],[[12,0,36,8],[16,0,36,12],[17,0,36,13],[29,0,36,25],[30,0,36,26],[34,0,36,30],[35,0,36,31],[40,0,36,36],[41,0,36,37],[42,0,36,38]],[[8,0,37,6],[9,0,37,7],[10,0,37,8],[11,0,38,5],[12,0,38,6]],[[8,0,40,4],[12,0,40,8],[16,0,40,12],[17,0,40,13],[28,0,40,24],[40,0,40,36],[52,0,40,48],[54,0,40,50],[55,0,40,51]],[[12,0,41,6],[16,0,41,10],[17,0,41,11],[21,0,41,15],[22,0,41,16],[26,0,41,20],[27,0,41,21],[31,0,41,25],[32,0,41,26],[38,0,41,32],[39,0,41,33],[54,0,41,48],[55,0,41,49],[59,0,41,53],[60,0,41,54],[71,0,41,65],[72,0,41,66],[73,0,41,67],[74,0,41,68]],[[8,0,42,4],[9,0,42,5]],[[4,0,43,2],[5,0,43,3]],[[4,0,45,2],[15,0,45,13]],[[8,0,46,4],[12,0,46,8],[16,0,46,12],[17,0,46,13],[19,0,46,15],[21,0,46,16],[22,0,46,17]],[[12,0,47,6],[16,0,47,10],[17,0,47,11],[19,0,47,13],[20,0,47,14],[39,0,47,33],[40,0,47,34],[48,0,47,42],[50,0,47,44],[54,0,47,48],[55,0,47,49],[67,0,47,61],[69,0,47,63],[74,0,47,68],[75,0,47,69],[76,0,47,70]],[[12,0,48,6],[16,0,48,10],[17,0,48,11],[21,0,48,15],[22,0,48,16],[29,0,48,23],[30,0,48,24],[33,0,48,27],[34,0,48,28],[36,0,48,30],[37,0,48,31],[40,0,48,34],[41,0,48,35],[52,0,48,46],[54,0,48,48],[55,0,48,49],[56,0,48,50]],[[8,0,49,4],[9,0,49,5]],[[4,0,50,2],[5,0,50,3]],[[4,0,52,2],[16,0,52,14],[19,0,52,17],[22,0,52,20],[24,0,52,22]],[[8,0,53,4],[12,0,53,8],[16,0,53,12],[17,0,53,13],[19,0,53,15],[20,0,53,16],[25,0,53,21],[27,0,53,23],[28,0,53,24]],[[12,0,54,6],[16,0,54,10],[17,0,54,11],[23,0,54,17],[24,0,54,18],[35,0,54,29],[36,0,54,30],[40,0,54,34],[41,0,54,35],[43,0,54,37],[44,0,54,38],[49,0,54,43],[50,0,54,44],[51,0,54,45]],[[8,0,55,4],[9,0,55,5]],[[4,0,56,2],[5,0,56,3],[6,0,56,3]],[[111,0,9,13],[132,0,9,34]],[[61,0,9,13],[82,0,9,34]],[],[[81,0,9,13],[102,0,9,34]],[[14,0,5,1],[23,0,5,10]],[[15,0,5,11]],[[16,0,6,2],[24,0,6,10],[26,0,6,12],[42,0,6,28]],[[16,0,7,2],[26,0,7,12],[28,0,7,14],[33,0,7,19]],[[13,0,8,1]],[[43,0,10,11],[50,0,10,18]],[[18,0,10,3],[23,0,10,8]],[[12,0,11,11],[23,0,11,22]],[[18,0,11,3],[23,0,11,8]],[[12,0,12,12],[24,0,12,24]],[[18,0,12,3],[24,0,12,9]]],"sourcesContent":["import { Directive, ElementRef, EventEmitter, Input, Output, OnInit, OnDestroy } from '@angular/core';\nimport { UploadOutput, UploaderOptions } from './interfaces';\nimport { NgUploaderService } from './ngx-uploader.class';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[ngFileSelect]',\n  standalone: false\n})\nexport class NgFileSelectDirective implements OnInit, OnDestroy {\n  @Input() options: UploaderOptions;\n  @Input() uploadInput: EventEmitter<any>;\n  @Output() uploadOutput: EventEmitter<UploadOutput>;\n\n  upload: NgUploaderService;\n  el: HTMLInputElement;\n\n  _sub: Subscription[];\n\n  constructor(public elementRef: ElementRef) {\n    this.uploadOutput = new EventEmitter<UploadOutput>();\n  }\n\n  ngOnInit() {\n    this._sub = [];\n    const concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n    const allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n    const maxUploads = this.options && this.options.maxUploads || Number.POSITIVE_INFINITY;\n    const maxFileSize = this.options && this.options.maxFileSize || Number.POSITIVE_INFINITY;\n    this.upload = new NgUploaderService(concurrency, allowedContentTypes, maxUploads, maxFileSize);\n\n    this.el = this.elementRef.nativeElement;\n    this.el.addEventListener('change', this.fileListener, false);\n\n    this._sub.push(\n      this.upload.serviceEvents.subscribe((event: UploadOutput) => {\n        this.uploadOutput.emit(event);\n      })\n    );\n\n    if (this.uploadInput instanceof EventEmitter) {\n      this._sub.push(this.upload.initInputEvents(this.uploadInput));\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.el){\n      this.el.removeEventListener('change', this.fileListener, false);\n      this._sub.forEach(sub => sub.unsubscribe());\n    }\n  }\n\n  fileListener = () => {\n    if (this.el.files) {\n      this.upload.handleFiles(this.el.files);\n    }\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./ngx-uploader.class":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2352,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"},"attributes":[]},{"type":"ImportDeclaration","start":42,"end":105,"specifiers":[{"type":"ImportSpecifier","start":51,"end":70,"imported":{"type":"Identifier","start":51,"end":70,"name":"NgFileDropDirective"},"local":{"type":"Identifier","start":51,"end":70,"name":"NgFileDropDirective"}}],"source":{"type":"Literal","start":78,"end":104,"value":"./ng-file-drop.directive","raw":"'./ng-file-drop.directive'"},"attributes":[]},{"type":"ImportDeclaration","start":106,"end":173,"specifiers":[{"type":"ImportSpecifier","start":115,"end":136,"imported":{"type":"Identifier","start":115,"end":136,"name":"NgFileSelectDirective"},"local":{"type":"Identifier","start":115,"end":136,"name":"NgFileSelectDirective"}}],"source":{"type":"Literal","start":144,"end":172,"value":"./ng-file-select.directive","raw":"'./ng-file-select.directive'"},"attributes":[]},{"type":"ImportDeclaration","start":174,"end":210,"specifiers":[{"type":"ImportNamespaceSpecifier","start":181,"end":188,"local":{"type":"Identifier","start":186,"end":188,"name":"i0"}}],"source":{"type":"Literal","start":194,"end":209,"value":"@angular/core","raw":"\"@angular/core\""},"attributes":[]},{"type":"ExportNamedDeclaration","start":211,"end":516,"specifiers":[],"source":null,"attributes":[],"declaration":{"type":"ClassDeclaration","start":218,"end":516,"decorators":[],"id":{"type":"Identifier","start":224,"end":241,"name":"NgxUploaderModule"},"superClass":null,"body":{"type":"ClassBody","start":242,"end":516,"body":[{"type":"PropertyDefinition","start":248,"end":375,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":255,"end":259,"name":"ɵfac"},"value":{"type":"FunctionExpression","start":262,"end":374,"async":false,"generator":false,"id":{"type":"Identifier","start":271,"end":296,"name":"NgxUploaderModule_Factory"},"params":[{"type":"Identifier","start":297,"end":314,"name":"__ngFactoryType__"}],"body":{"type":"BlockStatement","start":316,"end":374,"body":[{"type":"ReturnStatement","start":318,"end":372,"argument":{"type":"NewExpression","start":325,"end":371,"callee":{"type":"LogicalExpression","start":330,"end":368,"operator":"||","left":{"type":"Identifier","start":330,"end":347,"name":"__ngFactoryType__"},"right":{"type":"Identifier","start":351,"end":368,"name":"NgxUploaderModule"}},"arguments":[]}}]},"expression":false}},{"type":"PropertyDefinition","start":380,"end":457,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":387,"end":391,"name":"ɵmod"},"value":{"type":"CallExpression","start":408,"end":456,"optional":false,"_rollupAnnotations":[{"end":407,"start":394,"type":"pure"}],"callee":{"type":"MemberExpression","start":408,"end":427,"computed":false,"optional":false,"object":{"type":"Identifier","start":408,"end":410,"name":"i0"},"property":{"type":"Identifier","start":411,"end":427,"name":"ɵɵdefineNgModule"}},"arguments":[{"type":"ObjectExpression","start":428,"end":455,"properties":[{"type":"Property","start":430,"end":453,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":430,"end":434,"name":"type"},"value":{"type":"Identifier","start":436,"end":453,"name":"NgxUploaderModule"},"kind":"init"}]}]}},{"type":"PropertyDefinition","start":462,"end":514,"static":true,"computed":false,"decorators":[],"key":{"type":"Identifier","start":469,"end":473,"name":"ɵinj"},"value":{"type":"CallExpression","start":490,"end":513,"optional":false,"_rollupAnnotations":[{"end":489,"start":476,"type":"pure"}],"callee":{"type":"MemberExpression","start":490,"end":509,"computed":false,"optional":false,"object":{"type":"Identifier","start":490,"end":492,"name":"i0"},"property":{"type":"Identifier","start":493,"end":509,"name":"ɵɵdefineInjector"}},"arguments":[{"type":"ObjectExpression","start":510,"end":512,"properties":[]}]}}]}}},{"type":"ExpressionStatement","start":517,"end":848,"expression":{"type":"CallExpression","start":517,"end":847,"optional":false,"callee":{"type":"ArrowFunctionExpression","start":518,"end":844,"async":false,"expression":false,"generator":false,"params":[],"body":{"type":"BlockStatement","start":524,"end":844,"body":[{"type":"ExpressionStatement","start":526,"end":842,"expression":{"type":"LogicalExpression","start":526,"end":841,"operator":"&&","left":{"type":"LogicalExpression","start":527,"end":572,"operator":"||","left":{"type":"BinaryExpression","start":527,"end":559,"operator":"===","left":{"type":"UnaryExpression","start":527,"end":543,"operator":"typeof","argument":{"type":"Identifier","start":534,"end":543,"name":"ngDevMode"},"prefix":true},"right":{"type":"Literal","start":548,"end":559,"value":"undefined","raw":"\"undefined\""}},"right":{"type":"Identifier","start":563,"end":572,"name":"ngDevMode"}},"right":{"type":"CallExpression","start":577,"end":841,"optional":false,"callee":{"type":"MemberExpression","start":577,"end":597,"computed":false,"optional":false,"object":{"type":"Identifier","start":577,"end":579,"name":"i0"},"property":{"type":"Identifier","start":580,"end":597,"name":"ɵsetClassMetadata"}},"arguments":[{"type":"Identifier","start":598,"end":615,"name":"NgxUploaderModule"},{"type":"ArrayExpression","start":617,"end":828,"elements":[{"type":"ObjectExpression","start":618,"end":827,"properties":[{"type":"Property","start":628,"end":642,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":628,"end":632,"name":"type"},"value":{"type":"Identifier","start":634,"end":642,"name":"NgModule"},"kind":"init"},{"type":"Property","start":652,"end":821,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":652,"end":656,"name":"args"},"value":{"type":"ArrayExpression","start":658,"end":821,"elements":[{"type":"ObjectExpression","start":659,"end":820,"properties":[{"type":"Property","start":677,"end":735,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":677,"end":689,"name":"declarations"},"value":{"type":"ArrayExpression","start":691,"end":735,"elements":[{"type":"Identifier","start":692,"end":711,"name":"NgFileDropDirective"},{"type":"Identifier","start":713,"end":734,"name":"NgFileSelectDirective"}]},"kind":"init"},{"type":"Property","start":753,"end":806,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":753,"end":760,"name":"exports"},"value":{"type":"ArrayExpression","start":762,"end":806,"elements":[{"type":"Identifier","start":763,"end":782,"name":"NgFileDropDirective"},{"type":"Identifier","start":784,"end":805,"name":"NgFileSelectDirective"}]},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"Literal","start":830,"end":834,"raw":"null","value":null},{"type":"Literal","start":836,"end":840,"raw":"null","value":null}]}}}]},"id":null},"arguments":[]}},{"type":"ExpressionStatement","start":849,"end":1081,"expression":{"type":"CallExpression","start":849,"end":1080,"optional":false,"callee":{"type":"FunctionExpression","start":850,"end":1077,"async":false,"generator":false,"id":null,"params":[],"body":{"type":"BlockStatement","start":862,"end":1077,"body":[{"type":"ExpressionStatement","start":864,"end":1075,"expression":{"type":"LogicalExpression","start":864,"end":1074,"operator":"&&","left":{"type":"LogicalExpression","start":865,"end":910,"operator":"||","left":{"type":"BinaryExpression","start":865,"end":897,"operator":"===","left":{"type":"UnaryExpression","start":865,"end":881,"operator":"typeof","argument":{"type":"Identifier","start":872,"end":881,"name":"ngJitMode"},"prefix":true},"right":{"type":"Literal","start":886,"end":897,"value":"undefined","raw":"\"undefined\""}},"right":{"type":"Identifier","start":901,"end":910,"name":"ngJitMode"}},"right":{"type":"CallExpression","start":915,"end":1074,"optional":false,"callee":{"type":"MemberExpression","start":915,"end":936,"computed":false,"optional":false,"object":{"type":"Identifier","start":915,"end":917,"name":"i0"},"property":{"type":"Identifier","start":918,"end":936,"name":"ɵɵsetNgModuleScope"}},"arguments":[{"type":"Identifier","start":937,"end":954,"name":"NgxUploaderModule"},{"type":"ObjectExpression","start":956,"end":1073,"properties":[{"type":"Property","start":958,"end":1016,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":958,"end":970,"name":"declarations"},"value":{"type":"ArrayExpression","start":972,"end":1016,"elements":[{"type":"Identifier","start":973,"end":992,"name":"NgFileDropDirective"},{"type":"Identifier","start":994,"end":1015,"name":"NgFileSelectDirective"}]},"kind":"init"},{"type":"Property","start":1018,"end":1071,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1018,"end":1025,"name":"exports"},"value":{"type":"ArrayExpression","start":1027,"end":1071,"elements":[{"type":"Identifier","start":1028,"end":1047,"name":"NgFileDropDirective"},{"type":"Identifier","start":1049,"end":1070,"name":"NgFileSelectDirective"}]},"kind":"init"}]}]}}}]},"expression":false},"arguments":[]}}],"_rollupRemoved":[{"end":2352,"start":1082,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"import { NgModule } from '@angular/core';\nimport { NgFileDropDirective } from './ng-file-drop.directive';\nimport { NgFileSelectDirective } from './ng-file-select.directive';\nimport * as i0 from \"@angular/core\";\nexport class NgxUploaderModule {\n    static ɵfac = function NgxUploaderModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgxUploaderModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: NgxUploaderModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({});\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxUploaderModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [NgFileDropDirective, NgFileSelectDirective],\n                exports: [NgFileDropDirective, NgFileSelectDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(NgxUploaderModule, { declarations: [NgFileDropDirective, NgFileSelectDirective], exports: [NgFileDropDirective, NgFileSelectDirective] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL25neC11cGxvYWRlci5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFNbkUsTUFBTSxPQUFPLGlCQUFpQjsyR0FBakIsaUJBQWlCOzREQUFqQixpQkFBaUI7OztpRkFBakIsaUJBQWlCO2NBSjdCLFFBQVE7ZUFBQztnQkFDUixZQUFZLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxxQkFBcUIsQ0FBQztnQkFDMUQsT0FBTyxFQUFFLENBQUMsbUJBQW1CLEVBQUUscUJBQXFCLENBQUM7YUFDdEQ7O3dGQUNZLGlCQUFpQixtQkFIYixtQkFBbUIsRUFBRSxxQkFBcUIsYUFDL0MsbUJBQW1CLEVBQUUscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nRmlsZURyb3BEaXJlY3RpdmUgfSBmcm9tICcuL25nLWZpbGUtZHJvcC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTmdGaWxlU2VsZWN0RGlyZWN0aXZlIH0gZnJvbSAnLi9uZy1maWxlLXNlbGVjdC5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtOZ0ZpbGVEcm9wRGlyZWN0aXZlLCBOZ0ZpbGVTZWxlY3REaXJlY3RpdmVdLFxuICBleHBvcnRzOiBbTmdGaWxlRHJvcERpcmVjdGl2ZSwgTmdGaWxlU2VsZWN0RGlyZWN0aXZlXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hVcGxvYWRlck1vZHVsZSB7IH1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-drop.directive.mjs","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-select.directive.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { NgFileDropDirective } from './ng-file-drop.directive';\nimport { NgFileSelectDirective } from './ng-file-select.directive';\nimport * as i0 from \"@angular/core\";\nexport class NgxUploaderModule {\n    static ɵfac = function NgxUploaderModule_Factory(__ngFactoryType__) { return new (__ngFactoryType__ || NgxUploaderModule)(); };\n    static ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: NgxUploaderModule });\n    static ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({});\n}\n(() => { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxUploaderModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [NgFileDropDirective, NgFileSelectDirective],\n                exports: [NgFileDropDirective, NgFileSelectDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(NgxUploaderModule, { declarations: [NgFileDropDirective, NgFileSelectDirective], exports: [NgFileDropDirective, NgFileSelectDirective] }); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvbGliL25neC11cGxvYWRlci5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUMvRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQzs7QUFNbkUsTUFBTSxPQUFPLGlCQUFpQjsyR0FBakIsaUJBQWlCOzREQUFqQixpQkFBaUI7OztpRkFBakIsaUJBQWlCO2NBSjdCLFFBQVE7ZUFBQztnQkFDUixZQUFZLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxxQkFBcUIsQ0FBQztnQkFDMUQsT0FBTyxFQUFFLENBQUMsbUJBQW1CLEVBQUUscUJBQXFCLENBQUM7YUFDdEQ7O3dGQUNZLGlCQUFpQixtQkFIYixtQkFBbUIsRUFBRSxxQkFBcUIsYUFDL0MsbUJBQW1CLEVBQUUscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5nRmlsZURyb3BEaXJlY3RpdmUgfSBmcm9tICcuL25nLWZpbGUtZHJvcC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTmdGaWxlU2VsZWN0RGlyZWN0aXZlIH0gZnJvbSAnLi9uZy1maWxlLXNlbGVjdC5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtOZ0ZpbGVEcm9wRGlyZWN0aXZlLCBOZ0ZpbGVTZWxlY3REaXJlY3RpdmVdLFxuICBleHBvcnRzOiBbTmdGaWxlRHJvcERpcmVjdGl2ZSwgTmdGaWxlU2VsZWN0RGlyZWN0aXZlXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hVcGxvYWRlck1vZHVsZSB7IH1cbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-uploader.module.js","sourceRoot":"","sources":["../../../../projects/ngx-uploader/src/lib/ngx-uploader.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,19],[25,0,0,25],[40,0,0,40],[41,0,0,41]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[28,0,1,28],[30,0,1,30],[36,0,1,36],[62,0,1,62],[63,0,1,63]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[30,0,2,30],[32,0,2,32],[38,0,2,38],[66,0,2,66],[67,0,2,67]],[],[[0,0,8,0],[6,0,8,6],[13,0,8,13],[30,0,8,30]],[[107,0,8,13],[124,0,8,30]],[[60,0,8,13],[77,0,8,30]],[],[],[[81,0,8,13],[98,0,8,30]],[[14,0,4,1],[22,0,4,9]],[[15,0,4,10]],[[16,0,5,2],[28,0,5,14],[30,0,5,16],[31,0,5,17],[50,0,5,36],[52,0,5,38],[73,0,5,59],[74,0,5,60]],[[16,0,6,2],[23,0,6,9],[25,0,6,11],[26,0,6,12],[45,0,6,31],[47,0,6,33],[68,0,6,54],[69,0,6,55]],[[13,0,7,1]],[],[[88,0,8,13],[105,0,8,30],[124,0,5,17],[143,0,5,36],[145,0,5,38],[166,0,5,59],[179,0,6,12],[198,0,6,31],[200,0,6,33],[221,0,6,54]]],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { NgFileDropDirective } from './ng-file-drop.directive';\nimport { NgFileSelectDirective } from './ng-file-select.directive';\n\n@NgModule({\n  declarations: [NgFileDropDirective, NgFileSelectDirective],\n  exports: [NgFileDropDirective, NgFileSelectDirective]\n})\nexport class NgxUploaderModule { }\n"]},"resolvedIds":{"@angular/core":{"attributes":{},"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"resolvedBy":"rollup","syntheticNamedExports":false},"./ng-file-drop.directive":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-drop.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false},"./ng-file-select.directive":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-select.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1048,"body":[{"type":"ExportAllDeclaration","start":45,"end":78,"exported":null,"source":{"type":"Literal","start":59,"end":77,"value":"./lib/interfaces","raw":"'./lib/interfaces'"},"attributes":[]},{"type":"ExportAllDeclaration","start":79,"end":124,"exported":null,"source":{"type":"Literal","start":93,"end":123,"value":"./lib/ng-file-drop.directive","raw":"'./lib/ng-file-drop.directive'"},"attributes":[]},{"type":"ExportAllDeclaration","start":125,"end":172,"exported":null,"source":{"type":"Literal","start":139,"end":171,"value":"./lib/ng-file-select.directive","raw":"'./lib/ng-file-select.directive'"},"attributes":[]},{"type":"ExportAllDeclaration","start":173,"end":214,"exported":null,"source":{"type":"Literal","start":187,"end":213,"value":"./lib/ngx-uploader.class","raw":"'./lib/ngx-uploader.class'"},"attributes":[]},{"type":"ExportAllDeclaration","start":215,"end":257,"exported":null,"source":{"type":"Literal","start":229,"end":256,"value":"./lib/ngx-uploader.module","raw":"'./lib/ngx-uploader.module'"},"attributes":[]}],"_rollupRemoved":[{"end":1048,"start":258,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/*\n * Public API Surface of ngx-uploader\n */\nexport * from './lib/interfaces';\nexport * from './lib/ng-file-drop.directive';\nexport * from './lib/ng-file-select.directive';\nexport * from './lib/ngx-uploader.class';\nexport * from './lib/ngx-uploader.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvcHVibGljX2FwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUVILGNBQWMsa0JBQWtCLENBQUM7QUFDakMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLGdDQUFnQyxDQUFDO0FBQy9DLGNBQWMsMEJBQTBCLENBQUM7QUFDekMsY0FBYywyQkFBMkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2Ygbmd4LXVwbG9hZGVyXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvaW50ZXJmYWNlcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZy1maWxlLWRyb3AuZGlyZWN0aXZlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL25nLWZpbGUtc2VsZWN0LmRpcmVjdGl2ZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtdXBsb2FkZXIuY2xhc3MnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXVwbG9hZGVyLm1vZHVsZSc7XG4iXX0=","customTransformCache":false,"dependencies":["/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/interfaces.mjs","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-drop.directive.mjs","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-select.directive.mjs","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs","/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.module.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/public_api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/*\n * Public API Surface of ngx-uploader\n */\nexport * from './lib/interfaces';\nexport * from './lib/ng-file-drop.directive';\nexport * from './lib/ng-file-select.directive';\nexport * from './lib/ngx-uploader.class';\nexport * from './lib/ngx-uploader.module';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljX2FwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC11cGxvYWRlci9zcmMvcHVibGljX2FwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUVILGNBQWMsa0JBQWtCLENBQUM7QUFDakMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLGdDQUFnQyxDQUFDO0FBQy9DLGNBQWMsMEJBQTBCLENBQUM7QUFDekMsY0FBYywyQkFBMkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2Ygbmd4LXVwbG9hZGVyXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvaW50ZXJmYWNlcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZy1maWxlLWRyb3AuZGlyZWN0aXZlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL25nLWZpbGUtc2VsZWN0LmRpcmVjdGl2ZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtdXBsb2FkZXIuY2xhc3MnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4LXVwbG9hZGVyLm1vZHVsZSc7XG4iXX0=","originalSourcemap":{"version":3,"file":"public_api.js","sourceRoot":"","sources":["../../../projects/ngx-uploader/src/public_api.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[32,0,4,32],[33,0,4,33]],[[0,0,5,0],[14,0,5,14],[44,0,5,44],[45,0,5,45]],[[0,0,6,0],[14,0,6,14],[46,0,6,46],[47,0,6,47]],[[0,0,7,0],[14,0,7,14],[40,0,7,40],[41,0,7,41]],[[0,0,8,0],[14,0,8,14],[41,0,8,41],[42,0,8,42]]],"sourcesContent":["/*\n * Public API Surface of ngx-uploader\n */\n\nexport * from './lib/interfaces';\nexport * from './lib/ng-file-drop.directive';\nexport * from './lib/ng-file-select.directive';\nexport * from './lib/ngx-uploader.class';\nexport * from './lib/ngx-uploader.module';\n"]},"resolvedIds":{"./lib/interfaces":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/interfaces.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false},"./lib/ng-file-drop.directive":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-drop.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false},"./lib/ng-file-select.directive":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ng-file-select.directive.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false},"./lib/ngx-uploader.class":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.class.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false},"./lib/ngx-uploader.module":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/lib/ngx-uploader.module.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":504,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public_api","raw":"'./public_api'"},"attributes":[]}],"_rollupRemoved":[{"end":504,"start":78,"type":"sourcemap"}],"sourceType":"module"},"attributes":{},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9uZ3gtdXBsb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWNfYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/public_api.mjs"],"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/ngx-uploader.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public_api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwbG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvamVjdHMvbmd4LXVwbG9hZGVyL3NyYy9uZ3gtdXBsb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWNfYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-uploader.js","sourceRoot":"","sources":["../../../projects/ngx-uploader/src/ngx-uploader.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]},"resolvedIds":{"./public_api":{"attributes":{},"external":false,"id":"/Users/paolinux/Develop/WebApps/Qube/ngx-uploader/dist/ngx-uploader/esm2022/public_api.mjs","meta":{},"moduleSideEffects":true,"resolvedBy":"file-loader","syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"file-loader":{},"json":{}}}